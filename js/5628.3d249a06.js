"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[5628],{84285:function(e,t,r){r.d(t,{Z:function(){return d}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[r("v-container",{attrs:{"fill-height":""}},[r("v-card",{attrs:{color:"primary",dark:""}},[r("v-card-text",[r("v-layout",{attrs:{row:""}},[r("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),r("h2",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.message))])])],1)],1)],1)],1)},o=[],n={name:"Loading",data:()=>({}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},i=n,l=r(1001),s=(0,l.Z)(i,a,o,!1,null,null,null),d=s.exports},95628:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.error?r("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),r("Loading",{attrs:{value:e.fetching}}),r("v-card",{staticClass:"mx-auto"},[r("v-list",[r("v-list-item-group",[e._l(e.items,(function(t,a){return[r("v-list-item",{key:"item-"+a,attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[e._v(" "+e._s(t.label)+" ")])],1),r("v-list-item-action",[r("v-btn",{attrs:{disabled:e.dialog,loading:e.dialog},on:{click:function(r){return e.deleteItem(t.id)}}},[r("v-icon",{attrs:{small:""}},[e._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1)],1),r("v-card",[r("div",[r("v-card-title",{attrs:{"primary-title":""}},[r("v-btn",{on:{click:function(t){return e.addItem()}}},[e._v(" Add Integration ")])],1)],1)]),r("v-navigation-drawer",{attrs:{temporary:"",right:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-card",[r("v-card-title",[e._v(" API token ")]),r("v-card-text",[r("v-select",{attrs:{items:e.providers,label:"Provider"},model:{value:e.provider_token.provider,callback:function(t){e.$set(e.provider_token,"provider",t)},expression:"provider_token.provider"}}),r("v-text-field",{attrs:{label:"Label",required:""},model:{value:e.provider_token.label,callback:function(t){e.$set(e.provider_token,"label",t)},expression:"provider_token.label"}}),"nominet"===e.provider_token.provider?r("v-text-field",{attrs:{label:"Username",required:""},model:{value:e.provider_token.username,callback:function(t){e.$set(e.provider_token,"username",t)},expression:"provider_token.username"}}):e._e(),"nominet"===e.provider_token.provider?r("v-text-field",{attrs:{label:"Password",type:"password",required:""},model:{value:e.provider_token.password,callback:function(t){e.$set(e.provider_token,"password",t)},expression:"provider_token.password"}}):e._e(),r("v-text-field",{attrs:{label:"Token",required:""},model:{value:e.provider_token.token,callback:function(t){e.$set(e.provider_token,"token",t)},expression:"provider_token.token"}}),r("v-btn",{attrs:{disabled:e.fetching,loading:e.fetching,color:"success"},on:{click:e.submitToken}},[e._v(" Save ")])],1)],1)],1)],1)},o=[],n=r(4296),i=r(84285),l={components:{Loading:i.Z},data(){return{error:"",data:{label:""},providers:[{text:"Linode",value:"linode"},{text:"Digital Ocean",value:"digitalocean"},{text:"NameSilo",value:"namesilo"},{text:"Nominet",value:"nominet"}],items:[],dialog:!1,details:"",fetching:!0,server:{name:""},provider_token:{},drawer:!1}},created(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData(){var e=this;this.error="",this.fetching=!0,n.Z.get("providers/tokens").then((function(t){console.log(t),e.items=t.data.tokens,document.title="Tokens"})).catch((function(t){e.error=t})).finally((function(){e.fetching=!1}))},addItem(){this.data.label="",this.drawer=!0},deleteItem(e){this.$confirm("Delete subscription?").then((t=>{if(t){var r=this;this.error="",n.Z.post("providers/tokens/"+e,{delete:1}).then((function(e){console.log(e),e.data.error?r.error=e.data.error:r.fetchData()})).catch((function(e){console.log(e)}))}}))},submitToken(){var e=this;n.Z.post("providers/tokens",this.provider_token).then((function(t){t.data.error?e.error=t.data.error:(e.drawer=!1,e.fetchData())})).catch((function(t){e.error=t}))}}},s=l,d=r(1001),c=(0,d.Z)(s,a,o,!1,null,null,null),v=c.exports}}]);
//# sourceMappingURL=5628.3d249a06.js.map