"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[2361],{81815:function(e,a,l){l.d(a,{A:function(){return s}});var d=l(20641);function t(e,a,l,t,r,u){const o=(0,d.g2)("v-icon"),s=(0,d.g2)("v-alert"),i=(0,d.g2)("v-dialog");return(0,d.uX)(),(0,d.Wv)(i,{modelValue:e.show,"onUpdate:modelValue":a[0]||(a[0]=a=>e.show=a),persistent:"",width:"600"},{default:(0,d.k6)((()=>[(0,d.bF)(s,{title:l.message,color:"primary"},{prepend:(0,d.k6)((()=>[(0,d.bF)(o,{icon:"fas fa-magic fa-2x faa-horizontal animated"})])),_:1},8,["title"])])),_:1},8,["modelValue"])}var r={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},u=l(66262);const o=(0,u.A)(r,[["render",t]]);var s=o},42361:function(e,a,l){l.r(a),l.d(a,{default:function(){return m}});var d=l(20641),t=l(90033);function r(e,a,l,r,u,o){const s=(0,d.g2)("v-alert"),i=(0,d.g2)("Loading"),n=(0,d.g2)("v-text-field"),m=(0,d.g2)("v-btn"),c=(0,d.g2)("v-form"),v=(0,d.g2)("v-card-text"),p=(0,d.g2)("v-card");return(0,d.uX)(),(0,d.CE)("div",null,[e.error?((0,d.uX)(),(0,d.Wv)(s,{key:0,type:"error"},{default:(0,d.k6)((()=>[(0,d.eW)((0,t.v_)(e.error),1)])),_:1})):(0,d.Q3)("",!0),(0,d.bF)(i,{value:e.loading},null,8,["value"]),e.serverId?(0,d.Q3)("",!0):((0,d.uX)(),(0,d.Wv)(p,{key:1,title:"User details"},{default:(0,d.k6)((()=>[(0,d.bF)(v,null,{default:(0,d.k6)((()=>[e.loading?(0,d.Q3)("",!0):((0,d.uX)(),(0,d.Wv)(c,{key:0,modelValue:e.valid,"onUpdate:modelValue":a[9]||(a[9]=a=>e.valid=a),"lazy-validation":""},{default:(0,d.k6)((()=>[(0,d.bF)(n,{modelValue:e.data.company,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.company=a),label:"Company",required:"",autofocus:""},null,8,["modelValue"]),(0,d.bF)(n,{modelValue:e.data.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.name=a),rules:e.requiredRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.surname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.surname=a),rules:e.requiredRules,label:"Surname",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.email=a),rules:e.emailRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.password,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.password=a),rules:e.requiredRules,label:"Password",type:"password",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.address,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data.address=a),rules:e.requiredRules,label:"Address",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.city,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data.city=a),rules:e.requiredRules,label:"City",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.postcode,"onUpdate:modelValue":a[7]||(a[7]=a=>e.data.postcode=a),rules:e.requiredRules,label:"Postcode",required:""},null,8,["modelValue","rules"]),(0,d.bF)(n,{modelValue:e.data.tel,"onUpdate:modelValue":a[8]||(a[8]=a=>e.data.tel=a),rules:e.requiredRules,label:"Telephone",required:""},null,8,["modelValue","rules"]),(0,d.bF)(m,{disabled:!e.valid,loading:e.loading,color:"success",onClick:o.validate},{default:(0,d.k6)((()=>[(0,d.eW)(" Save ")])),_:1},8,["disabled","loading","onClick"])])),_:1},8,["modelValue"]))])),_:1})])),_:1}))])}l(44114);var u=l(74300),o=l(81815),s={components:{Loading:o.A},data:()=>({loading:!1,valid:!0,data:{name:""},requiredRules:[e=>!!e||"Required"],emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],details:"",serverId:0,error:""}),created(){document.title="User details",this.id=this.$route.params.id,this.fetchData()},methods:{fetchData(){this.error="",this.loading=!0,u.A.get("users/"+this.id).then((e=>{console.log(e),this.id&&(this.data=e.data.item)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},validate(){this.details="",this.loading=!0,u.A.post("users/"+this.id,this.data).then((e=>{console.log(e),e.data.id?this.$router.push("/users/"+e.data.id+"/summary"):e.data.error&&(this.error=e.data.error)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))}}},i=l(66262);const n=(0,i.A)(s,[["render",r]]);var m=n}}]);
//# sourceMappingURL=2361.91885303.js.map