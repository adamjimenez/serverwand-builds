{"version":3,"file":"js/5062.d0c5e280.js","mappings":"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","sources":["webpack://ServerWand/./src/views/servers/Services.vue","webpack://ServerWand/./src/views/servers/Services.vue?5a20"],"sourcesContent":["<template>\n  <div>\n    <v-alert v-if=\"error\" type=\"error\" :text=\"error\"></v-alert>\n\n    <v-card class=\"pa-3\" :loading=\"fetching\">\n      <v-card-actions>\n        <v-btn @click=\"fixProblems()\" icon=\"mdi:mdi-auto-fix\" title=\"Find and fix problems\"></v-btn>\n      </v-card-actions>\n\n      <v-list group max-width=\"600\">\n        <template v-for=\"(item, i) in items\" :key=\"`item-${i}`\">\n          <v-list-item :value=\"item\">\n            <v-switch v-model=\"item.active\" :label=\"item.name\" @change=\"toggle(item)\" color=\"primary\"\n              hide-details :loading=\"loading === item.name\"></v-switch>\n          </v-list-item>\n        </template>\n      </v-list>\n    </v-card>\n\n    <v-dialog v-model=\"dialog\" width=\"300\">\n      <v-card color=\"primary\">\n        <v-card-text>\n          <v-alert title=\"Spellcasting...\" color=\"primary\">\n            <template v-slot:prepend>\n              <v-icon :icon=\"closable ? 'fas fa-magic fa-2x faa-horizontal' : 'fas fa-magic fa-2x faa-horizontal animated'\"></v-icon>\n            </template>\n          </v-alert>\n\n          <v-progress-linear :indeterminate=\"progress == 0\" v-model=\"progress\" color=\"white\" v-if=\"!closable\"></v-progress-linear>\n\n          <v-textarea v-model=\"details\" readonly></v-textarea>\n        </v-card-text>\n          \n        <v-card-actions>\n          <v-btn @click=\"dialog = false\" :disabled=\"!closable\">Close</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport api from \"../../services/api\";\n\nexport default {\n  data() {\n    return {\n      error: \"\",\n      items: {},\n      fetching: false,\n      loading: null,\n      serverId: 0,\n      dialog: false,\n      closable: false,\n      progress: 0,\n      details: \"\",\n    }\n  },\n  created() {\n    // fetch the data when the view is created and the data is\n    // already being observed\n    this.serverId = this.$route.params.id;\n    this.fetchData();\n  },\n  methods: {\n    fixProblems() {\n      this.dialog = true\n      this.closable = false;\n      this.details = ''\n\n      // subscribe to status changes\n      let url = 'servers/' + this.serverId + '/check'\n\n      api.event(\n        url,\n        result => {\n          this.details += result.msg + \"\\n\";\n\n          if (result.progress) {\n            this.progress = result.progress;\n          }\n        },\n        error => {\n          this.error = error;\n        },\n        () => {\n          this.closable = true;\n        }\n      );\n    },\n    fetchData() {\n      this.error = \"\";\n      this.fetching = true;\n\n      api\n        .get(\"servers/\" + this.serverId + \"/services\")\n        .then(response => {\n          console.log(response);\n\n          if (response.data.error) {\n            this.error = response.data.error;\n            return false;\n          }\n\n          this.items = response.data.services;\n          this.data = response.data.item;\n          document.title = \"Services | \" + this.data.name;\n        })\n        .catch(error => console.log(error))\n        .finally(() => this.fetching = false)\n    },\n    async toggle(item) {\n      this.loading = item.name;\n      this.error = \"\";\n\n      let response = await api\n        .post(\"servers/\" + this.serverId + \"/services\", {\n          name: item.name,\n          start: item.active,\n        })\n        \n      await this.fetchData();          \n\n      if (!response.data.success) {\n        this.error = response.data.error;\n      }\n\n      this.loading = null\n    },\n  },\n};\n</script>\n","import { render } from \"./Services.vue?vue&type=template&id=b851d812\"\nimport script from \"./Services.vue?vue&type=script&lang=js\"\nexport * from \"./Services.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","$data","error","_createBlock","_component_v_alert","key","type","text","_createCommentVNode","_createVNode","_component_v_card","class","loading","fetching","default","_withCtx","_component_v_card_actions","_component_v_btn","onClick","_cache","$event","$options","fixProblems","icon","title","_","_component_v_list","group","_Fragment","_renderList","items","item","i","_component_v_list_item","value","_component_v_switch","modelValue","active","label","name","onChange","toggle","color","_component_v_dialog","dialog","width","_component_v_card_text","prepend","_component_v_icon","closable","_component_v_progress_linear","indeterminate","progress","_component_v_textarea","details","readonly","disabled","_createTextVNode","data","serverId","created","this","$route","params","id","fetchData","methods","url","api","event","result","msg","get","then","response","console","log","services","document","catch","finally","post","start","success","__exports__","render"],"sourceRoot":""}