(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[2248],{65342:function(e){(function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(this.version=1,this.support="undefined"!==typeof File&&"undefined"!==typeof Blob&&"undefined"!==typeof FileList&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var r=this;r.files=[],r.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var n=r.getOpt("maxFiles");alert("Please upload no more than "+n+" file"+(1===n?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+n.formatSize(r.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+n.formatSize(r.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+r.getOpt("fileType")+".")}},r.opts=e||{},r.getOpt=function(e){var r=this;if(e instanceof Array){var i={};return n.each(e,(function(e){i[e]=r.getOpt(e)})),i}if(r instanceof p){if("undefined"!==typeof r.opts[e])return r.opts[e];r=r.fileObj}if(r instanceof c){if("undefined"!==typeof r.opts[e])return r.opts[e];r=r.resumableObj}if(r instanceof t)return"undefined"!==typeof r.opts[e]?r.opts[e]:r.defaults[e]},r.events=[],r.on=function(e,t){r.events.push(e.toLowerCase(),t)},r.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var n=e[0].toLowerCase();for(t=0;t<=r.events.length;t+=2)r.events[t]==n&&r.events[t+1].apply(r,e.slice(1)),"catchall"==r.events[t]&&r.events[t+1].apply(null,e);"fileerror"==n&&r.fire("error",e[2],e[1]),"fileprogress"==n&&r.fire("progress")};var n={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if("undefined"!==typeof e.length){for(var r=0;r<e.length;r++)if(!1===t(e[r]))return}else for(r in e)if(!1===t(r,e[r]))return},generateUniqueIdentifier:function(e,t){var n=r.getOpt("generateUniqueIdentifier");if("function"===typeof n)return n(e,t);var i=e.webkitRelativePath||e.fileName||e.name,a=e.size;return a+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var r=!1;return n.each(e,(function(e){return e!=t||(r=!0,!1)})),r},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var n=r.getOpt("target");if("test"===e&&r.getOpt("testTarget")&&(n="/"===r.getOpt("testTarget")?r.getOpt("target"):r.getOpt("testTarget")),"function"===typeof n)return n(t);var i=n.indexOf("?")<0?"?":"&",a=t.join("&");return n+i+a}},i=function(e){n.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?u(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&u(e.dataTransfer.files,e)},a=function(e){e.preventDefault()};function o(e,t,r,n){var i;return e.isFile?e.file((function(e){e.relativePath=t+e.name,r.push(e),n()})):(e.isDirectory?i=e:e instanceof File&&r.push(e),"function"===typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?l(i,t+i.name+"/",r,n):("function"===typeof e.getAsFile&&(e=e.getAsFile(),e instanceof File&&(e.relativePath=t+e.name,r.push(e))),void n()))}function s(e,t){if(!e||0===e.length)return t();e[0]((function(){s(e.slice(1),t)}))}function l(e,t,r,n){var i=e.createReader();i.readEntries((function(e){if(!e.length)return n();s(e.map((function(e){return o.bind(null,e,t,r)})),n)}))}function u(e,t){if(e.length){r.fire("beforeAdd");var n=[];s(Array.prototype.map.call(e,(function(e){return o.bind(null,e,"",n)})),(function(){n.length&&f(n,t)}))}}var f=function(e,t){var i=0,a=r.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!==typeof a.maxFiles&&a.maxFiles<e.length+r.files.length){if(1!==a.maxFiles||1!==r.files.length||1!==e.length)return a.maxFilesErrorCallback(e,i++),!1;r.removeFile(r.files[0])}var o=[],s=[],l=e.length,u=function(){if(! --l){if(!o.length&&!s.length)return;window.setTimeout((function(){r.fire("filesAdded",o,s)}),0)}};n.each(e,(function(e){var l=e.name;if(a.fileType.length>0){var f=!1;for(var p in a.fileType){var d="."+a.fileType[p];if(-1!==l.toLowerCase().indexOf(d.toLowerCase(),l.length-d.length)){f=!0;break}}if(!f)return a.fileTypeErrorCallback(e,i++),!1}if("undefined"!==typeof a.minFileSize&&e.size<a.minFileSize)return a.minFileSizeErrorCallback(e,i++),!1;if("undefined"!==typeof a.maxFileSize&&e.size>a.maxFileSize)return a.maxFileSizeErrorCallback(e,i++),!1;function h(n){r.getFromUniqueIdentifier(n)?s.push(e):function(){e.uniqueIdentifier=n;var i=new c(r,e,n);r.files.push(i),o.push(i),i.container="undefined"!=typeof t?t.srcElement:null,window.setTimeout((function(){r.fire("fileAdded",i,t)}),0)}(),u()}var m=n.generateUniqueIdentifier(e,t);m&&"function"===typeof m.then?m.then((function(e){h(e)}),(function(){u()})):h(m)}))};function c(e,t,r){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=r,i._pause=!1,i.container="";var a=void 0!==r,o=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),a=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(a)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i);break}};return i.chunks=[],i.abort=function(){var e=0;n.each(i.chunks,(function(t){"uploading"==t.status()&&(t.abort(),e++)})),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],n.each(e,(function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())})),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",(function(){e||i.resumableObj.upload(),e=!0}))},i.bootstrap=function(){i.abort(),a=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),r=0;r<t;r++)(function(e){window.setTimeout((function(){i.chunks.push(new p(i.resumableObj,i,e,o)),i.resumableObj.fire("chunkingProgress",i,e/t)}),0)})(r);window.setTimeout((function(){i.resumableObj.fire("chunkingComplete",i)}),0)},i.progress=function(){if(a)return 1;var e=0,t=!1;return n.each(i.chunks,(function(r){"error"==r.status()&&(t=!0),e+=r.progress(!0)})),e=t||e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return n.each(i.chunks,(function(t){if("uploading"==t.status())return e=!0,!1})),e},i.isComplete=function(){var e=!1;return n.each(i.chunks,(function(t){var r=t.status();if("pending"==r||"uploading"==r||1===t.preprocessState)return e=!0,!1})),!e},i.pause=function(e){i._pause="undefined"===typeof e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function p(e,t,r,i){var a=this;a.opts={},a.getOpt=e.getOpt,a.resumableObj=e,a.fileObj=t,a.fileObjSize=t.size,a.fileObjType=t.file.type,a.offset=r,a.callback=i,a.lastProgressCallback=new Date,a.tested=!1,a.retries=0,a.pendingRetry=!1,a.preprocessState=0;var o=a.getOpt("chunkSize");return a.loaded=0,a.startByte=a.offset*o,a.endByte=Math.min(a.fileObjSize,(a.offset+1)*o),a.fileObjSize-a.endByte<o&&!a.getOpt("forceChunkSize")&&(a.endByte=a.fileObjSize),a.xhr=null,a.test=function(){a.xhr=new XMLHttpRequest;var e=function(e){a.tested=!0;var t=a.status();"success"==t?(a.callback(t,a.message()),a.resumableObj.uploadNextChunk()):a.send()};a.xhr.addEventListener("load",e,!1),a.xhr.addEventListener("error",e,!1),a.xhr.addEventListener("timeout",e,!1);var t=[],r=a.getOpt("parameterNamespace"),i=a.getOpt("query");"function"==typeof i&&(i=i(a.fileObj,a)),n.each(i,(function(e,n){t.push([encodeURIComponent(r+e),encodeURIComponent(n)].join("="))})),t=t.concat([["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter((function(e){return a.getOpt(e[0])})).map((function(e){return[r+a.getOpt(e[0]),encodeURIComponent(e[1])].join("=")}))),a.xhr.open(a.getOpt("testMethod"),n.getTarget("test",t)),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var o=a.getOpt("headers");"function"===typeof o&&(o=o(a.fileObj,a)),n.each(o,(function(e,t){a.xhr.setRequestHeader(e,t)})),a.xhr.send(null)},a.preprocessFinished=function(){a.preprocessState=2,a.send()},a.send=function(){var e=a.getOpt("preprocess");if("function"===typeof e)switch(a.preprocessState){case 0:return a.preprocessState=1,void e(a);case 1:return;case 2:break}if(!a.getOpt("testChunks")||a.tested){a.xhr=new XMLHttpRequest,a.xhr.upload.addEventListener("progress",(function(e){new Date-a.lastProgressCallback>1e3*a.getOpt("throttleProgressCallbacks")&&(a.callback("progress"),a.lastProgressCallback=new Date),a.loaded=e.loaded||0}),!1),a.loaded=0,a.pendingRetry=!1,a.callback("progress");var t=function(e){var t=a.status();if("success"==t||"error"==t)a.callback(t,a.message()),a.resumableObj.uploadNextChunk();else{a.callback("retry",a.message()),a.abort(),a.retries++;var r=a.getOpt("chunkRetryInterval");void 0!==r?(a.pendingRetry=!0,setTimeout(a.send,r)):a.send()}};a.xhr.addEventListener("load",t,!1),a.xhr.addEventListener("error",t,!1),a.xhr.addEventListener("timeout",t,!1);var r=[["chunkNumberParameterName",a.offset+1],["chunkSizeParameterName",a.getOpt("chunkSize")],["currentChunkSizeParameterName",a.endByte-a.startByte],["totalSizeParameterName",a.fileObjSize],["typeParameterName",a.fileObjType],["identifierParameterName",a.fileObj.uniqueIdentifier],["fileNameParameterName",a.fileObj.fileName],["relativePathParameterName",a.fileObj.relativePath],["totalChunksParameterName",a.fileObj.chunks.length]].filter((function(e){return a.getOpt(e[0])})).reduce((function(e,t){return e[a.getOpt(t[0])]=t[1],e}),{}),i=a.getOpt("query");"function"==typeof i&&(i=i(a.fileObj,a)),n.each(i,(function(e,t){r[e]=t}));var o=a.fileObj.file.slice?"slice":a.fileObj.file.mozSlice?"mozSlice":a.fileObj.file.webkitSlice?"webkitSlice":"slice",s=a.fileObj.file[o](a.startByte,a.endByte,a.getOpt("setChunkTypeFromFile")?a.fileObj.file.type:""),l=null,u=[],f=a.getOpt("parameterNamespace");if("octet"===a.getOpt("method"))l=s,n.each(r,(function(e,t){u.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))}));else if(l=new FormData,n.each(r,(function(e,t){l.append(f+e,t),u.push([encodeURIComponent(f+e),encodeURIComponent(t)].join("="))})),"blob"==a.getOpt("chunkFormat"))l.append(f+a.getOpt("fileParameterName"),s,a.fileObj.fileName);else if("base64"==a.getOpt("chunkFormat")){var c=new FileReader;c.onload=function(e){l.append(f+a.getOpt("fileParameterName"),c.result),a.xhr.send(l)},c.readAsDataURL(s)}var p=n.getTarget("upload",u),d=a.getOpt("uploadMethod");a.xhr.open(d,p),"octet"===a.getOpt("method")&&a.xhr.setRequestHeader("Content-Type","application/octet-stream"),a.xhr.timeout=a.getOpt("xhrTimeout"),a.xhr.withCredentials=a.getOpt("withCredentials");var h=a.getOpt("headers");"function"===typeof h&&(h=h(a.fileObj,a)),n.each(h,(function(e,t){a.xhr.setRequestHeader(e,t)})),"blob"==a.getOpt("chunkFormat")&&a.xhr.send(l)}else a.test()},a.abort=function(){a.xhr&&a.xhr.abort(),a.xhr=null},a.status=function(){return a.pendingRetry?"uploading":a.xhr?a.xhr.readyState<4?"uploading":200==a.xhr.status||201==a.xhr.status?"success":n.contains(a.getOpt("permanentErrors"),a.xhr.status)||a.retries>=a.getOpt("maxChunkRetries")?"error":(a.abort(),"pending"):"pending"},a.message=function(){return a.xhr?a.xhr.responseText:""},a.progress=function(e){"undefined"===typeof e&&(e=!1);var t=e?(a.endByte-a.startByte)/a.fileObjSize:1;if(a.pendingRetry)return 0;a.xhr&&a.xhr.status||(t*=.95);var r=a.status();switch(r){case"success":case"error":return 1*t;case"pending":return 0*t;default:return a.loaded/(a.endByte-a.startByte)*t}},this}return r.uploadNextChunk=function(){var e=!1;if(r.getOpt("prioritizeFirstAndLastChunk")&&(n.each(r.files,(function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0})),e))return!0;if(n.each(r.files,(function(t){if(!1===t.isPaused()&&n.each(t.chunks,(function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1})),e)return!1})),e)return!0;var t=!1;return n.each(r.files,(function(e){if(!e.isComplete())return t=!0,!1})),t||r.fire("complete"),!1},r.assignBrowse=function(e,t){"undefined"==typeof e.length&&(e=[e]),n.each(e,(function(e){var n;"INPUT"===e.tagName&&"file"===e.type?n=e:(n=document.createElement("input"),n.setAttribute("type","file"),n.style.display="none",e.addEventListener("click",(function(){n.style.opacity=0,n.style.display="block",n.focus(),n.click(),n.style.display="none"}),!1),e.appendChild(n));var i=r.getOpt("maxFiles");"undefined"===typeof i||1!=i?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),t?n.setAttribute("webkitdirectory","webkitdirectory"):n.removeAttribute("webkitdirectory");var a=r.getOpt("fileType");"undefined"!==typeof a&&a.length>=1?n.setAttribute("accept",a.map((function(e){return"."+e})).join(",")):n.removeAttribute("accept"),n.addEventListener("change",(function(e){f(e.target.files,e);var t=r.getOpt("clearInput");t&&(e.target.value="")}),!1)}))},r.assignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),n.each(e,(function(e){e.addEventListener("dragover",a,!1),e.addEventListener("dragenter",a,!1),e.addEventListener("drop",i,!1)}))},r.unAssignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),n.each(e,(function(e){e.removeEventListener("dragover",a),e.removeEventListener("dragenter",a),e.removeEventListener("drop",i)}))},r.isUploading=function(){var e=!1;return n.each(r.files,(function(t){if(t.isUploading())return e=!0,!1})),e},r.upload=function(){if(!r.isUploading()){r.fire("uploadStart");for(var e=1;e<=r.getOpt("simultaneousUploads");e++)r.uploadNextChunk()}},r.pause=function(){n.each(r.files,(function(e){e.abort()})),r.fire("pause")},r.cancel=function(){r.fire("beforeCancel");for(var e=r.files.length-1;e>=0;e--)r.files[e].cancel();r.fire("cancel")},r.progress=function(){var e=0,t=0;return n.each(r.files,(function(r){e+=r.progress()*r.size,t+=r.size})),t>0?e/t:0},r.addFile=function(e,t){f([e],t)},r.addFiles=function(e,t){f(e,t)},r.removeFile=function(e){for(var t=r.files.length-1;t>=0;t--)r.files[t]===e&&r.files.splice(t,1)},r.getFromUniqueIdentifier=function(e){var t=!1;return n.each(r.files,(function(r){r.uniqueIdentifier==e&&(t=r)})),t},r.getSize=function(){var e=0;return n.each(r.files,(function(t){e+=t.size})),e},r.handleDropEvent=function(e){i(e)},r.handleChangeEvent=function(e){f(e.target.files,e),e.target.value=""},r.updateQuery=function(e){r.opts.query=e},this};e.exports=t})()},64574:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(66252),i=r(3577),a=r(49963);function o(e,t,r,o,s,l){const u=(0,n.up)("v-toolbar-title"),f=(0,n.up)("v-toolbar"),c=(0,n.up)("v-card-text"),p=(0,n.up)("v-spacer"),d=(0,n.up)("v-btn"),h=(0,n.up)("v-card-actions"),m=(0,n.up)("v-card"),g=(0,n.up)("v-dialog");return(0,n.wg)(),(0,n.j4)(g,{modelValue:e.dialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.dialog=t),"max-width":e.options.width,style:(0,i.j5)({zIndex:e.options.zIndex}),onKeydown:(0,a.D2)(l.cancel,["esc"]),persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{dark:"",color:e.options.color,dense:"",flat:""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{class:"text-body-2 font-weight-bold grey--text"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(e.title),1)])),_:1})])),_:1},8,["color"]),(0,n.wy)((0,n.Wm)(c,{class:"pa-4 black--text",innerHTML:e.message},null,8,["innerHTML"]),[[a.F8,!!e.message]]),(0,n.Wm)(h,{class:"pt-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(p),e.options.noconfirm?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d,{key:0,color:"grey",text:"",class:"body-2 font-weight-bold",onClick:l.cancel},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"])),(0,n.Wm)(d,{color:"primary",class:"body-2 font-weight-bold",outlined:"",onClick:l.agree},{default:(0,n.w5)((()=>[(0,n.Uk)("OK")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","max-width","style","onKeydown"])}var s={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"grey lighten-3",width:400,zIndex:10008,noconfirm:!1}}},methods:{open(e,t,r){return t||(t=e,e="Confirm"),this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,r),new Promise(((e,t)=>{this.resolve=e,this.reject=t}))},agree(){this.resolve(!0),this.dialog=!1},cancel(){this.resolve(!1),this.dialog=!1}}},l=r(83744);const u=(0,l.Z)(s,[["render",o]]);var f=u},98048:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(66252),i=r(3577);function a(e,t,r,a,o,s){const l=(0,n.up)("v-alert"),u=(0,n.up)("v-progress-linear"),f=(0,n.up)("v-icon"),c=(0,n.up)("v-btn");return(0,n.wg)(),(0,n.iD)("div",null,[o.dragover?((0,n.wg)(),(0,n.j4)(l,{key:0,type:"info",style:{position:"fixed",height:"80px","z-index":"10",bottom:"0",left:"50%"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" Drop files to upload them to: "),(0,n._)("p",null,[(0,n._)("strong",null,(0,i.zw)(r.path),1)])])),_:1})):(0,n.kq)("",!0),o.progress>0?((0,n.wg)(),(0,n.j4)(l,{key:1,dark:"",style:{position:"fixed",width:"100%","z-index":"10",left:"0",bottom:"0",margin:"0 auto"}},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{modelValue:o.progress,"onUpdate:modelValue":t[0]||(t[0]=e=>o.progress=e),height:"25"},{default:(0,n.w5)((({value:e})=>[(0,n._)("strong",null,"Uploading "+(0,i.zw)(o.fileName),1)])),_:1},8,["modelValue"])])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(c,{title:"Upload file",ref:"uploadFileButton",icon:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi:mdi-upload")])),_:1})])),_:1},512),r.folder?((0,n.wg)(),(0,n.j4)(c,{key:2,title:"Upload folder",ref:"uploadFolderButton",icon:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi:mdi-folder-arrow-up")])),_:1})])),_:1},512)):(0,n.kq)("",!0)])}var o=r(65342),s=r.n(o),l={props:{serverId:null,path:null,dropZone:null,folder:null},watch:{path:function(e){this.data.path=e},folder:function(){this.folder=!0},serverId:function(){this.initUpload()},dropZone:function(){this.initUpload()}},mounted(){this.initUpload()},data(){return{fetching:!1,data:{},error:"",dialog:!1,r:null,dragover:!1,progress:0,fileName:""}},methods:{initUpload(){if(this.dropZone){var e=this;this.r=new(s())({target:"https://serverwand.com/api/servers/"+this.serverId+"/files",testChunks:!1,query:{cmd:"upload",chunked:1},withCredentials:!0,chunkSize:1048576}),this.r.assignBrowse(this.$refs.uploadFileButton.$el),this.$refs.uploadFolderButton&&this.r.assignBrowse(this.$refs.uploadFolderButton.$el,!0),this.r.on("fileAdded",(function(){e.error="",this.opts.query.path=e.path,this.upload()})),this.r.on("fileProgress",(t=>{var r=parseInt(100*e.r.progress());e.progress=r,e.fileName=t.fileName,e.dragover=!1})),this.r.on("fileSuccess",((t,r)=>{var n=JSON.parse(r);n.error&&(e.error=n.error)})),this.r.on("complete",(function(){this.cancel(),e.$emit("complete"),e.error&&e.$emit("error",e.error)})),this.r.on("error",(t=>e.$emit("error",t))),this.r.assignDrop(this.dropZone.$el);var t=null;this.dropZone.$el.addEventListener("dragenter",(r=>{console.log("dragenter"),r.preventDefault(),t=r.target,e.dragover=!0})),this.dropZone.$el.addEventListener("dragleave",(r=>{t==r.target&&(console.log("dragleave"),r.preventDefault(),e.dragover=!1)}))}}}},u=r(83744);const f=(0,u.Z)(l,[["render",a]]);var c=f},11297:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(66252);function i(e,t,r,i,a,o){const s=(0,n.up)("v-icon"),l=(0,n.up)("v-alert"),u=(0,n.up)("v-dialog");return(0,n.wg)(),(0,n.j4)(u,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.show=t),persistent:"",width:"600"},{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:r.message,color:"primary"},{prepend:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"fas fa-magic fa-2x faa-horizontal animated"})])),_:1},8,["title"])])),_:1},8,["modelValue"])}var a={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},o=r(83744);const s=(0,o.Z)(a,[["render",i]]);var l=s}}]);
//# sourceMappingURL=2248.a87e306e.js.map