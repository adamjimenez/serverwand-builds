{"version":3,"file":"js/2872.e7b1801c.js","mappings":"kVACEA,EAAAA,EAAAA,IAaM,YAZWC,EAAAC,QAAK,WAApBC,EAAAA,EAAAA,IAA2DC,EAAA,CAF/DC,IAAA,EAE0BC,KAAK,QAASC,KAAMN,EAAAC,O,mBAF9CM,EAAAA,EAAAA,IAAA,QAIIC,EAAAA,EAAAA,IASSC,EAAA,CATDC,MAAM,OAAQC,QAASX,EAAAY,U,CAJnCC,SAAAC,EAAAA,EAAAA,KAKM,IAOS,EAPTN,EAAAA,EAAAA,IAOSO,EAAA,CAPDC,MAAA,GAAM,YAAU,O,CAL9BH,SAAAC,EAAAA,EAAAA,KAMkB,IAA0B,gBAApCf,EAAAA,EAAAA,IAKWkB,EAAAA,GAAA,MAXnBC,EAAAA,EAAAA,IAMsClB,EAAAmB,OANtC,CAM0BC,EAAMC,M,WACtBnB,EAAAA,EAAAA,IAGcoB,EAAA,CAVxBlB,IAAA,QAM2DiB,IACnCE,MAAOH,G,CAP/BP,SAAAC,EAAAA,EAAAA,KAQY,IAC2D,EAD3DN,EAAAA,EAAAA,IAC2DgB,EAAA,CATvEC,WAQ+BL,EAAKM,OARpC,sBAAAC,GAQ+BP,EAAKM,OAAMC,EAAGC,MAAOR,EAAKS,KAAOC,SAAMH,GAAEI,EAAAC,OAAOZ,GAAOa,MAAM,UAC9E,kBAActB,QAASX,EAAAW,UAAYS,EAAKS,M,6EATtDK,EAAA,G,4BAAAA,EAAA,OAAAA,EAAA,G,gCAoBA,GACEC,IAAAA,GACE,MAAO,CACLlC,MAAO,GACPkB,MAAO,CAAC,EACRP,UAAU,EACVD,QAAS,KACTyB,SAAU,EAEd,EACAC,OAAAA,GAGEC,KAAKF,SAAWE,KAAKC,OAAOC,OAAOC,GACnCH,KAAKI,WACP,EACAC,QAAS,CACPD,SAAAA,GACEJ,KAAKrC,MAAQ,GACbqC,KAAK1B,UAAW,EAEhBgC,EAAAA,EACGC,IAAI,WAAaP,KAAKF,SAAW,aACjCU,MAAKC,IAGJ,GAFAC,QAAQC,IAAIF,GAERA,EAASZ,KAAKlC,MAEhB,OADAqC,KAAKrC,MAAQ8C,EAASZ,KAAKlC,OACpB,EAGTqC,KAAKnB,MAAQ4B,EAASZ,KAAKe,SAC3BZ,KAAKH,KAAOY,EAASZ,KAAKf,KAC1B+B,SAASC,MAAQ,cAAgBd,KAAKH,KAAKN,IAAI,IAEhDwB,OAAMpD,GAAS+C,QAAQC,IAAIhD,KAC3BqD,SAAQ,IAAMhB,KAAK1B,UAAW,GACnC,EACAoB,MAAAA,CAAOZ,GACLkB,KAAK3B,QAAUS,EAAKS,KACpBS,KAAKrC,MAAQ,GAEb2C,EAAAA,EACGW,KAAK,WAAajB,KAAKF,SAAW,YAAa,CAC9CP,KAAMT,EAAKS,KACX2B,MAAOpC,EAAKM,SAEboB,MAAKC,IACJC,QAAQC,IAAIF,GAEPA,EAASZ,KAAKsB,QAGjBnB,KAAKI,YAFLJ,KAAKrC,MAAQ8C,EAASZ,KAAKlC,KAEX,IAEnBoD,OAAMpD,GAAS+C,QAAQC,IAAIhD,KAC3BqD,SAAQ,IAAMhB,KAAK3B,QAAU,MAClC,I,WCxEJ,MAAM+C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://ServerWand/./src/views/servers/Services.vue","webpack://ServerWand/./src/views/servers/Services.vue?5a20"],"sourcesContent":["<template>\n  <div>\n    <v-alert v-if=\"error\" type=\"error\" :text=\"error\"></v-alert>\n\n    <v-card class=\"pa-3\" :loading=\"fetching\">\n      <v-list group max-width=\"600\">\n        <template v-for=\"(item, i) in items\" :key=\"`item-${i}`\">\n          <v-list-item :value=\"item\">\n            <v-switch v-model=\"item.active\" :label=\"item.name\" @change=\"toggle(item)\" color=\"primary\"\n              hide-details :loading=\"loading === item.name\"></v-switch>\n          </v-list-item>\n        </template>\n      </v-list>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport api from \"../../services/api\";\n\nexport default {\n  data() {\n    return {\n      error: \"\",\n      items: {},\n      fetching: false,\n      loading: null,\n      serverId: 0,\n    }\n  },\n  created() {\n    // fetch the data when the view is created and the data is\n    // already being observed\n    this.serverId = this.$route.params.id;\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      this.error = \"\";\n      this.fetching = true;\n\n      api\n        .get(\"servers/\" + this.serverId + \"/services\")\n        .then(response => {\n          console.log(response);\n\n          if (response.data.error) {\n            this.error = response.data.error;\n            return false;\n          }\n\n          this.items = response.data.services;\n          this.data = response.data.item;\n          document.title = \"Services | \" + this.data.name;\n        })\n        .catch(error => console.log(error))\n        .finally(() => this.fetching = false)\n    },\n    toggle(item) {\n      this.loading = item.name;\n      this.error = \"\";\n\n      api\n        .post(\"servers/\" + this.serverId + \"/services\", {\n          name: item.name,\n          start: item.active,\n        })\n        .then(response => {\n          console.log(response);\n\n          if (!response.data.success)\n            this.error = response.data.error;\n          else\n            this.fetchData();\n        })\n        .catch(error => console.log(error))\n        .finally(() => this.loading = null)\n    },\n  },\n};\n</script>\n","import { render } from \"./Services.vue?vue&type=template&id=1aabc0fa\"\nimport script from \"./Services.vue?vue&type=script&lang=js\"\nexport * from \"./Services.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","$data","error","_createBlock","_component_v_alert","key","type","text","_createCommentVNode","_createVNode","_component_v_card","class","loading","fetching","default","_withCtx","_component_v_list","group","_Fragment","_renderList","items","item","i","_component_v_list_item","value","_component_v_switch","modelValue","active","$event","label","name","onChange","$options","toggle","color","_","data","serverId","created","this","$route","params","id","fetchData","methods","api","get","then","response","console","log","services","document","title","catch","finally","post","start","success","__exports__","render"],"sourceRoot":""}