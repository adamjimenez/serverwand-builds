"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[353],{81815:function(e,t,a){a.d(t,{A:function(){return s}});var l=a(20641);function i(e,t,a,i,n,r){const o=(0,l.g2)("v-icon"),s=(0,l.g2)("v-alert"),d=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(d,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.show=t),persistent:"",width:"600"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{title:a.message,color:"primary"},{prepend:(0,l.k6)((()=>[(0,l.bF)(o,{icon:"fas fa-magic fa-2x faa-horizontal animated"})])),_:1},8,["title"])])),_:1},8,["modelValue"])}var n={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},r=a(66262);const o=(0,r.A)(n,[["render",i]]);var s=o},60353:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var l=a(20641),i=a(90033);const n={key:0},r={key:0},o={key:0},s={key:1},d={key:2};function u(e,t,a,u,c,m){const v=(0,l.g2)("v-alert"),f=(0,l.g2)("Loading"),h=(0,l.g2)("v-list-item"),p=(0,l.g2)("v-select"),g=(0,l.g2)("v-col"),k=(0,l.g2)("v-row"),b=(0,l.g2)("v-container"),y=(0,l.g2)("ServerIcon"),_=(0,l.g2)("v-icon"),F=(0,l.g2)("v-data-table"),w=(0,l.g2)("router-link"),W=(0,l.g2)("v-list-item-title"),X=(0,l.g2)("v-list"),V=(0,l.g2)("v-card"),A=(0,l.g2)("v-layout");return(0,l.uX)(),(0,l.Wv)(A,{row:""},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{cols:"12"},{default:(0,l.k6)((()=>[c.error?((0,l.uX)(),(0,l.Wv)(v,{key:0,type:"error",text:c.error},null,8,["text"])):(0,l.Q3)("",!0),(0,l.bF)(f,{value:c.loading},null,8,["value"]),(0,l.bF)(V,{loading:c.fetching},{default:(0,l.k6)((()=>[c.items.length?((0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(b,{fluid:""},{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{modelValue:c.provider,"onUpdate:modelValue":t[0]||(t[0]=e=>c.provider=e),items:c.provider_opts,label:"Provider","hide-details":"",clearable:""},{item:(0,l.k6)((({props:e,item:t})=>[(0,l.bF)(h,(0,l.v6)(e,{"prepend-icon":t?.raw?.icon,title:t?.raw?.title}),null,16,["prepend-icon","title"])])),_:1},8,["modelValue","items"])])),_:1}),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,{modelValue:c.team,"onUpdate:modelValue":t[1]||(t[1]=e=>c.team=e),items:c.teams,"item-title":"name","item-value":"id",label:"Team","hide-details":"",clearable:""},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1}),(0,l.bF)(F,{headers:m.headers,items:m.filtered,"items-per-page":100},{"item.name":(0,l.k6)((({item:e})=>[(0,l.bF)(h,{to:"/servers/"+e.id+"/summary",title:e.name,subtitle:e.hostname,class:"px-0"},(0,l.eX)({_:2},[c.display.mobile?void 0:{name:"prepend",fn:(0,l.k6)((()=>[(0,l.bF)(y,{provider:e.provider},null,8,["provider"])])),key:"0"}]),1032,["to","title","subtitle"])])),"item.connected":(0,l.k6)((({item:e})=>[(0,l.bF)(h,null,{prepend:(0,l.k6)((()=>[0==e.connected?((0,l.uX)(),(0,l.Wv)(_,{key:0,color:"error"},{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)(" fa-solid fa-circle ")]))),_:1})):e.health?.length?((0,l.uX)(),(0,l.Wv)(_,{key:1,color:"warning"},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.eW)("fas fa-exclamation-triangle fa-beat")]))),_:1})):((0,l.uX)(),(0,l.Wv)(_,{key:2,color:"success"},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)(" fa-solid fa-circle ")]))),_:1}))])),default:(0,l.k6)((()=>[c.display.mobile?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",r,[0==e.connected?((0,l.uX)(),(0,l.CE)("span",o," Unavailable ")):e.health?.length?((0,l.uX)(),(0,l.CE)("span",s,(0,i.v_)(e.health?.length)+" issue"+(0,i.v_)(1!==e.health?.length?"s":""),1)):((0,l.uX)(),(0,l.CE)("span",d," Connected "))]))])),_:2},1024)])),_:1},8,["headers","items"])])):((0,l.uX)(),(0,l.Wv)(X,{key:1},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,null,{default:(0,l.k6)((()=>[(0,l.bF)(w,{to:"/servers/create"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.eW)(" Add a server ")]))),_:1})])),_:1})])),_:1})])),_:1}))])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})}a(44114),a(98992),a(3949);var c=a(74300),m=a(81815),v=a(56458),f={components:{Loading:m.A,ServerIcon:v.A},data(){return{loading:!1,fetching:!1,error:null,items:[],team:null,teams:[],provider:null,provider_opts:[{title:"Linode",value:"linode",icon:"fab fa-linode"},{title:"Digital Ocean",value:"digitalocean",icon:"fab fa-digital-ocean"},{title:"Vultr",value:"vultr",icon:"fas fa-server"}],display:{}}},computed:{headers:function(){let e=[{title:"Server ",key:"name"},{title:"Status ",key:"connected"}];return this.display.smAndUp&&e.push({title:"Region ",key:"region"},{title:"Image ",key:"image"},{title:"Type ",key:"type"}),e},filtered:function(){let e=[];return this.items.forEach((t=>{if(!this.provider||t.provider!=this.provider){if(this.team){let e=!1;if(this.teams.forEach((a=>{a.id==this.team&&a.servers.forEach((a=>{a.server==t.id&&(e=!0)}))})),!e)return}e.push(t)}})),e}},created(){this.display=this.$vuetify.display,document.title="Servers",this.fetchData()},methods:{fetchData(){this.error="",this.fetching=!0,c.A.get("servers/").then((e=>{console.log(e),this.items=e.data.items})).catch((e=>console.log(e))).finally((()=>this.fetching=!1)),c.A.get("teams/").then((e=>{console.log(e),this.teams=e.data.items})).catch((e=>console.log(e))).finally((()=>this.fetching=!1))}}},h=a(66262);const p=(0,h.A)(f,[["render",u]]);var g=p}}]);
//# sourceMappingURL=353.f57b3457.js.map