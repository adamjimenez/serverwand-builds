"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[9787],{84285:function(e,a,t){t.d(a,{Z:function(){return n}});var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}},[t("v-container",{attrs:{"fill-height":""}},[t("v-card",{attrs:{color:"primary",dark:""}},[t("v-card-text",[t("v-layout",{attrs:{row:""}},[t("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),t("h2",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.message))])])],1)],1)],1)],1)},r=[],s={name:"Loading",data:()=>({}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},d=s,i=t(1001),o=(0,i.Z)(d,l,r,!1,null,null,null),n=o.exports},59787:function(e,a,t){t.r(a),t.d(a,{default:function(){return c}});var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.error?t("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),t("Loading",{attrs:{value:e.loading}}),e.serverId?e._e():t("v-card",[t("v-card-title",[e._v("User details")]),t("v-card-text",[e.loading?e._e():t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[t("v-text-field",{attrs:{label:"Company",required:""},model:{value:e.data.company,callback:function(a){e.$set(e.data,"company",a)},expression:"data.company"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"Name",required:""},model:{value:e.data.name,callback:function(a){e.$set(e.data,"name",a)},expression:"data.name"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"Surname",required:""},model:{value:e.data.surname,callback:function(a){e.$set(e.data,"surname",a)},expression:"data.surname"}}),t("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.data.email,callback:function(a){e.$set(e.data,"email",a)},expression:"data.email"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"Password",type:"password",required:""},model:{value:e.data.password,callback:function(a){e.$set(e.data,"password",a)},expression:"data.password"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"Address",required:""},model:{value:e.data.address,callback:function(a){e.$set(e.data,"address",a)},expression:"data.address"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"City",required:""},model:{value:e.data.city,callback:function(a){e.$set(e.data,"city",a)},expression:"data.city"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"Postcode",required:""},model:{value:e.data.postcode,callback:function(a){e.$set(e.data,"postcode",a)},expression:"data.postcode"}}),t("v-text-field",{attrs:{rules:e.requiredRules,label:"tel",required:""},model:{value:e.data.tel,callback:function(a){e.$set(e.data,"tel",a)},expression:"data.tel"}}),t("v-btn",{attrs:{disabled:e.loading,loading:e.loading,color:"success"},on:{click:e.validate}},[e._v(" Save ")])],1)],1)],1)],1)},r=[],s=t(4296),d=t(84285),i={components:{Loading:d.Z},data:()=>({loading:!1,valid:!0,data:{name:""},requiredRules:[e=>!!e||"Required"],emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],details:"",serverId:0,error:""}),created(){document.title="User details",this.id=this.$route.params.id,this.fetchData()},methods:{fetchData(){var e=this;this.error="",this.loading=!0,s.Z.get("users/"+this.id).then((a=>{console.log(a),e.id&&(e.data=a.data.item)})).catch((e=>{console.log(e)})).finally((()=>{e.loading=!1}))},validate(){var e=this;this.$refs.form.validate()&&(this.details="",this.loading=!0,s.Z.post("users/"+e.id,this.data).then((a=>{console.log(a),a.data.id?e.$router.push("/users/"+a.data.id+"/summary"):a.data.error&&(e.error=a.data.error)})).catch((e=>{console.log(e)})).finally((()=>{e.loading=!1})))}}},o=i,n=t(1001),u=(0,n.Z)(o,l,r,!1,null,null,null),c=u.exports}}]);
//# sourceMappingURL=9787.1df69f99.js.map