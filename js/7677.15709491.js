"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[7677],{37428:function(t,a,e){e.d(a,{Z:function(){return d}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{ref:"container"},[t.text?e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e("span",t._g({on:{click:function(a){return t.copy(t.val)},mouseleave:function(a){return t.resetCopyText()}}},s),[t._v(" "+t._s(t.val)+" ")])]}}],null,!1,276876146)},[e("span",[t._v(t._s(t.copyText))])]):e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e("v-btn",t._g({attrs:{icon:""},on:{click:function(a){return t.copy(t.val)},mouseleave:function(a){return t.resetCopyText()}}},s),[e("v-icon",{attrs:{small:""}},[t._v("file_copy")])],1)]}}])},[e("span",[t._v(t._s(t.copyText))])])],1)},r=[],o={props:{val:null,text:Boolean},data(){return{copyText:"Copy"}},methods:{copy(t){var a=document.createElement("textarea");this.$refs["container"].appendChild(a),a.setAttribute("id","clipboard"),a.value=t,a.select(),document.execCommand("Copy"),a.parentNode.removeChild(a),this.copyText="Copied"},resetCopyText(){var t=this;setTimeout((()=>t.copyText="Copy"),500)}}},n=o,l=e(1001),i=(0,l.Z)(n,s,r,!1,null,null,null),d=i.exports},65924:function(t,a,e){e.d(a,{Z:function(){return c}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[t.yesno?e("span",[t._v(" "+t._s(t.val?"Yes":"No")+" ")]):t.password?e("span",[t._v(" "+t._s("******")+" ")]):t.hideText?t._e():e("span",[t._v(" "+t._s(t.val)+" ")]),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[e("v-btn",t._g({attrs:{icon:""},on:{click:function(a){return t.edit(t.val)}}},s),[e("v-icon",{attrs:{small:""}},[t._v("create")])],1)]}}])},[e("span",[t._v("Edit")])]),e("v-dialog",{attrs:{app:""},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",{attrs:{loading:t.fetching}},[e("v-card-title",[t._v(" Edit "+t._s(t.label)+" ")]),e("v-card-text",[t.yesno?e("v-select",{attrs:{items:t.yesnoItems,label:t.label,autofocus:"",error:t.errors.length>0,"error-messages":t.errors},model:{value:t.data.val,callback:function(a){t.$set(t.data,"val",a)},expression:"data.val"}}):e("v-text-field",{attrs:{label:t.label,autofocus:"",type:!t.password||t.showPassword?"text":"password","append-icon":t.password?t.showPassword?"visibility_off":"visibility":"","error-messages":t.errors},on:{"click:append":function(a){t.showPassword=!t.showPassword}},model:{value:t.data.val,callback:function(a){t.$set(t.data,"val",a)},expression:"data.val"}}),e("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},r=[],o=e(4296),n={props:{name:null,val:null,label:null,password:Boolean,hideText:Boolean,path:null,yesno:Boolean},data(){return{fetching:!1,dialog:!1,data:{val:null},showPassword:!1,yesnoItems:[{text:"Yes",value:1},{text:"No",value:0}],errors:[]}},watch:{val:function(t){this.data.val=t}},methods:{edit(){this.data.val=this.val,this.dialog=!0},save(){this.fetching=!0,this.errors=[];var t={};t[this.name]=this.data.val;var a=this;o.Z.post(this.path,t).then((t=>{console.log(t),t.data.success?(a.val=a.data.val,a.dialog=!1,a.$emit("save")):a.errors.push(t.data.error)})).catch((t=>console.log(t))).finally((()=>a.fetching=!1))}}},l=n,i=e(1001),d=(0,i.Z)(l,s,r,!1,null,null,null),c=d.exports},84285:function(t,a,e){e.d(a,{Z:function(){return d}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}},[e("v-container",{attrs:{"fill-height":""}},[e("v-card",{attrs:{color:"primary",dark:""}},[e("v-card-text",[e("v-layout",{attrs:{row:""}},[e("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),e("h2",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.message))])])],1)],1)],1)],1)},r=[],o={name:"Loading",data:()=>({}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},n=o,l=e(1001),i=(0,l.Z)(n,s,r,!1,null,null,null),d=i.exports},7677:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.error?e("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),e("Loading",{attrs:{value:t.loading}}),e("v-card",{staticClass:"pa-3",attrs:{loading:t.fetching}},[0==t.data.db_name?e("div",[e("v-btn",{attrs:{disabled:""!=t.loading,loading:"database"==t.loading},on:{click:t.addDatabase}},[t._v(" Add Database ")])],1):e("div",[e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[e("form",{attrs:{action:"http://"+t.data.server.ip+"/phpmyadmin/",method:"post",target:"_blank"}},[e("input",{attrs:{type:"hidden",name:"pma_username"},domProps:{value:t.data.db_name}}),e("button",{attrs:{type:"submit"}},[t._v(" PhpMyAdmin "),e("v-icon",{attrs:{right:""}},[t._v("open_in_new")])],1)])])],1)],1)],1),e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs6:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[t._v("DB Name:")])],1)],1),e("v-flex",{attrs:{xs6:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[t._v(" "+t._s(t.data.db_name)+" "),e("Copy",{attrs:{val:t.data.db_name}})],1)],1)],1)],1),e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs6:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[t._v("DB Username:")])],1)],1),e("v-flex",{attrs:{xs6:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[t._v(" "+t._s(t.data.db_name)+" "),e("Copy",{attrs:{val:t.data.db_name}})],1)],1)],1)],1),e("v-layout",{attrs:{row:""}},[e("v-flex",{attrs:{xs6:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[t._v("DB Password:")])],1)],1),e("v-flex",{attrs:{xs6:""}},[e("v-card",{attrs:{tile:"",flat:""}},[e("v-card-text",[t._v(" "+t._s(t.data.db_password)+" "),e("Edit",{attrs:{val:t.data.db_password,label:"DB Password",name:"password",password:"",path:"sites/"+this.domainId+"/database"}})],1)],1)],1)],1)],1)])],1)},r=[],o=e(4296),n=e(84285),l=e(37428),i=e(65924),d={components:{Loading:n.Z,Copy:l.Z,Edit:i.Z},data(){return{domainId:null,post:null,error:null,data:{disk_usage:0,server:{},app:{}},details:"",loading:!1,fetching:!1,dbPasswordPanel:[!1],dbPasswordFormValid:!0,showDbPassword:!1,password:"",dbPassword:"",rules:{required:t=>!!t||"Required.",min:t=>t.length>=8||"Min 8 characters",emailMatch:()=>"The email and password you entered don't match"},copyText:"Copy"}},created(){this.fetchData()},methods:{fetchData(){var t=this;this.error="",this.fetching=!0,this.domainId=this.$route.params.id,o.Z.get("sites/"+this.domainId+"/database").then((function(a){console.log(a),t.data=a.data.item,document.title="Database | "+t.data.domain})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))},addDatabase(){var t=this;this.error="",this.loading=!0,o.Z.post("sites/"+this.domainId+"/database",{save:1}).then((function(a){console.log(a),a.data.error?t.error=a.data.error:t.fetchData()})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1,t.loading=!1}))}}},c=d,v=e(1001),u=(0,v.Z)(c,s,r,!1,null,null,null),p=u.exports}}]);
//# sourceMappingURL=7677.15709491.js.map