"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[8160],{11912:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(66252),r=a(3577);const n=(0,l._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),i={class:"ml-2"};function o(e,t,a,o,u,d){const s=(0,l.up)("v-layout"),c=(0,l.up)("v-card-text"),m=(0,l.up)("v-card"),f=(0,l.up)("v-container"),v=(0,l.up)("v-dialog");return(0,l.wg)(),(0,l.j4)(v,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.show=t),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"fill-height":""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{row:""},{default:(0,l.w5)((()=>[n,(0,l._)("h2",i,(0,r.zw)(a.message),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var u={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},d=a(48118);const s=(0,d.Z)(u,[["render",o]]);var c=s},53075:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(66252);function r(e,t,a,r,n,i){const o=(0,l.up)("v-icon");return"linode"===a.provider?((0,l.wg)(),(0,l.j4)(o,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)("fab fa-linode")])),_:1})):"digitalocean"===a.provider?((0,l.wg)(),(0,l.j4)(o,{key:1},{default:(0,l.w5)((()=>[(0,l.Uk)("fab fa-digital-ocean")])),_:1})):((0,l.wg)(),(0,l.j4)(o,{key:2},{default:(0,l.w5)((()=>[(0,l.Uk)("fas fa-server")])),_:1}))}var n={props:{provider:null}},i=a(48118);const o=(0,i.Z)(n,[["render",r]]);var u=o},78160:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=a(66252),r=a(3577);const n={key:0},i={key:0},o={key:1},u={key:2};function d(e,t,a,d,s,c){const m=(0,l.up)("v-alert"),f=(0,l.up)("Loading"),v=(0,l.up)("v-list-item"),p=(0,l.up)("v-select"),w=(0,l.up)("v-col"),h=(0,l.up)("v-row"),g=(0,l.up)("v-container"),k=(0,l.up)("ServerIcon"),_=(0,l.up)("v-icon"),y=(0,l.up)("v-data-table"),W=(0,l.up)("router-link"),b=(0,l.up)("v-list-item-title"),U=(0,l.up)("v-list"),j=(0,l.up)("v-card"),S=(0,l.up)("v-layout");return(0,l.wg)(),(0,l.j4)(S,{row:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{cols:"12"},{default:(0,l.w5)((()=>[s.error?((0,l.wg)(),(0,l.j4)(m,{key:0,type:"error",text:s.error},null,8,["text"])):(0,l.kq)("",!0),(0,l.Wm)(f,{value:s.loading},null,8,["value"]),(0,l.Wm)(j,{loading:s.fetching,title:"Servers"},{default:(0,l.w5)((()=>[s.items.length?((0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(g,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:s.provider,"onUpdate:modelValue":t[0]||(t[0]=e=>s.provider=e),items:s.provider_opts,label:"Provider","hide-details":"",clearable:""},{item:(0,l.w5)((({props:e,item:t})=>[(0,l.Wm)(v,(0,l.dG)(e,{"prepend-icon":t?.raw?.icon,title:t?.raw?.title}),null,16,["prepend-icon","title"])])),_:1},8,["modelValue","items"])])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:s.team,"onUpdate:modelValue":t[1]||(t[1]=e=>s.team=e),items:s.teams,"item-title":"name","item-value":"id",label:"Team","hide-details":"",clearable:""},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(y,{headers:c.headers,items:c.filtered},{"item.name":(0,l.w5)((({item:e})=>[(0,l.Wm)(v,{to:"/servers/"+e.raw.id+"/summary",title:e.raw.name,subtitle:e.raw.hostname,class:"px-0"},(0,l.Nv)({_:2},[c.mobile?void 0:{name:"prepend",fn:(0,l.w5)((()=>[(0,l.Wm)(k,{provider:e.raw.provider},null,8,["provider"])])),key:"0"}]),1032,["to","title","subtitle"])])),"item.connected":(0,l.w5)((({item:e})=>[(0,l.Wm)(v,null,{prepend:(0,l.w5)((()=>[0==e.raw.connected?((0,l.wg)(),(0,l.j4)(_,{key:0,color:"error"},{default:(0,l.w5)((()=>[(0,l.Uk)(" fa-solid fa-circle ")])),_:1})):e.raw.health?.length?((0,l.wg)(),(0,l.j4)(_,{key:1,color:"warning"},{default:(0,l.w5)((()=>[(0,l.Uk)("fas fa-exclamation-triangle fa-beat")])),_:1})):((0,l.wg)(),(0,l.j4)(_,{key:2,color:"success"},{default:(0,l.w5)((()=>[(0,l.Uk)(" fa-solid fa-circle ")])),_:1}))])),default:(0,l.w5)((()=>[0==e.raw.connected?((0,l.wg)(),(0,l.iD)("span",i," Unavailable ")):e.raw.health?.length?((0,l.wg)(),(0,l.iD)("span",o,(0,r.zw)(e.raw.health?.length)+" issue"+(0,r.zw)(1!==e.raw.health?.length?"s":""),1)):((0,l.wg)(),(0,l.iD)("span",u," Connected "))])),_:2},1024)])),_:1},8,["headers","items"])])):((0,l.wg)(),(0,l.j4)(U,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{to:"/servers/create"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Add a server ")])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})}a(57658);var s=a(1006),c=a(11912),m=a(53075),f=a(5455),v={components:{Loading:c.Z,ServerIcon:m.Z},data(){return{loading:!1,fetching:!1,error:null,items:[],team:null,teams:[],provider:null,provider_opts:[{title:"Linode",value:"linode",icon:"fab fa-linode"},{title:"Digital Ocean",value:"digitalocean",icon:"fab fa-digital-ocean"},{title:"Vultr",value:"vultr",icon:"fas fa-server"}]}},computed:{mobile:function(){const{mobile:e}=(0,f.AW)();return e.value},headers:function(){let e=[{title:"Server ",key:"name"},{title:"Status ",key:"connected"}];return this.mobile||e.push({title:"Region ",key:"region"},{title:"Image ",key:"image"},{title:"Type ",key:"type"}),e},filtered:function(){var e=this;let t=[];return this.items.forEach((a=>{if(!e.provider||a.provider!=e.provider){if(e.team){let t=!1;if(e.teams.forEach((function(l){l.id==e.team&&l.servers.forEach((function(e){e.server==a.id&&(t=!0)}))})),!t)return}t.push(a)}})),t}},created(){document.title="Servers",this.fetchData()},methods:{fetchData(){var e=this;this.error="",this.fetching=!0,s.Z.get("servers/").then((t=>{console.log(t),e.items=t.data.items})).catch((e=>console.log(e))).finally((()=>e.fetching=!1)),s.Z.get("teams/").then((t=>{console.log(t),e.teams=t.data.items})).catch((e=>console.log(e))).finally((()=>e.fetching=!1))}}},p=a(48118);const w=(0,p.Z)(v,[["render",d]]);var h=w}}]);
//# sourceMappingURL=8160.f8967cbf.js.map