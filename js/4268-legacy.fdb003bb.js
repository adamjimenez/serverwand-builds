"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[4268],{81815:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(20641);function a(e,t,n,a,o,i){var l=(0,r.g2)("v-icon"),s=(0,r.g2)("v-alert"),u=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.Wv)(u,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.show=t}),persistent:"",width:"600"},{default:(0,r.k6)((function(){return[(0,r.bF)(s,{title:n.message,color:"primary"},{prepend:(0,r.k6)((function(){return[(0,r.bF)(l,{icon:"fas fa-magic fa-2x faa-horizontal animated"})]})),_:1},8,["title"])]})),_:1},8,["modelValue"])}var o={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},i=n(66262);const l=(0,i.A)(o,[["render",a]]);var s=l},54268:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});n(62010);var r=n(20641),a=n(53751),o=n(90033),i={key:0},l={key:0},s={key:1},u=["onClick"];function c(e,t,n,c,d,f){var h=(0,r.g2)("v-alert"),p=(0,r.g2)("Loading"),m=(0,r.g2)("EditFile"),g=(0,r.g2)("v-btn"),v=(0,r.g2)("Snapshot"),b=(0,r.g2)("Download"),k=(0,r.g2)("Restore"),y=(0,r.g2)("v-switch"),w=(0,r.g2)("v-row"),F=(0,r.g2)("v-icon"),C=(0,r.g2)("v-col"),_=(0,r.g2)("v-text-field"),A=(0,r.g2)("v-data-table"),V=(0,r.g2)("v-container"),I=(0,r.g2)("v-card"),S=(0,r.g2)("v-card-title"),x=(0,r.g2)("v-select"),D=(0,r.g2)("v-card-text"),E=(0,r.g2)("v-navigation-drawer"),W=(0,r.g2)("Confirm");return(0,r.uX)(),(0,r.CE)("div",null,[d.error?((0,r.uX)(),(0,r.Wv)(h,{key:0,type:"error",text:d.error},null,8,["text"])):(0,r.Q3)("",!0),d.message?((0,r.uX)(),(0,r.Wv)(h,{key:1,type:"info",text:d.message},null,8,["text"])):(0,r.Q3)("",!0),(0,r.bF)(p,{value:d.loading},null,8,["value"]),(0,r.bF)(m,{ref:"editFile",serverId:d.serverId,path:d.path,selected:f.selected,action:"backups",save:"false",onComplete:t[0]||(t[0]=function(e){return f.list()}),onError:f.handleError},null,8,["serverId","path","selected","onError"]),(0,r.bF)(I,{loading:d.fetching},{default:(0,r.k6)((function(){return[(0,r.bF)(V,{fluid:""},{default:(0,r.k6)((function(){return[(0,r.bF)(w,null,{default:(0,r.k6)((function(){return[(0,r.bF)(g,{onClick:f.configure,title:"Configure S3",icon:"mdi:mdi-settings"},null,8,["onClick"]),d.s3.access_key?((0,r.uX)(),(0,r.Wv)(v,{key:0,serverId:d.serverId,onComplete:f.handleComplete,onError:f.handleError},null,8,["serverId","onComplete","onError"])):(0,r.Q3)("",!0),(0,r.bF)(b,{serverId:d.serverId,path:d.path,selected:f.selected,onComplete:f.handleComplete,onError:f.handleError},null,8,["serverId","path","selected","onComplete","onError"]),(0,r.bF)(k,{serverId:d.serverId,path:d.path,selected:f.selected,onComplete:f.handleComplete,onError:f.handleError},null,8,["serverId","path","selected","onComplete","onError"]),(0,r.bF)(y,{modelValue:d.s3.active,"onUpdate:modelValue":t[1]||(t[1]=function(e){return d.s3.active=e}),label:"Nightly backups",class:"my-0",onChange:t[2]||(t[2]=function(e){return f.toggleBackups()}),"hide-details":"",color:"primary"},null,8,["modelValue"])]})),_:1}),d.s3.access_key?((0,r.uX)(),(0,r.CE)("div",i,["/"!==d.path?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.bF)(w,null,{default:(0,r.k6)((function(){return[(0,r.bF)(C,{class:"flex-grow-0"},{default:(0,r.k6)((function(){return[(0,r.bF)(g,{icon:"",onClick:t[3]||(t[3]=function(e){return f.upLevel()}),disabled:"/"===d.path},{default:(0,r.k6)((function(){return[(0,r.bF)(F,{size:"small",icon:"mdi:mdi-arrow-up"})]})),_:1},8,["disabled"])]})),_:1}),(0,r.bF)(C,null,{default:(0,r.k6)((function(){return[(0,r.bF)(_,{modelValue:d.path,"onUpdate:modelValue":t[4]||(t[4]=function(e){return d.path=e}),class:"ma-0 pa-0",onChange:f.list,onKeydown:(0,a.jR)(f.list,["enter"]),"hide-details":""},null,8,["modelValue","onChange","onKeydown"])]})),_:1})]})),_:1}),(0,r.bF)(w,null,{default:(0,r.k6)((function(){return[(0,r.bF)(C,{cols:"12"},{default:(0,r.k6)((function(){return[(0,r.bF)(A,{headers:d.headers,items:d.items,"items-per-page":100,class:"results",ref:"results","mobile-breakpoint":"0",modelValue:d.selectedIds,"onUpdate:modelValue":t[5]||(t[5]=function(e){return d.selectedIds=e}),"show-select":e.display.smAndUp,page:d.page,hover:"","row-props":f.rowProps,"fixed-header":"","hide-default-header":!e.display.smAndUp,style:(0,o.Tr)(e.display.mobile?"height: calc(100vh - 230px);":"height: calc(100vh - 370px);"),"onClick:row":t[6]||(t[6]=function(e,t){f.open(t.item)}),"onContextmenu:row":f.select,"onUpdate:page":f.updatePage},{"item.modified":(0,r.k6)((function(e){var t=e.item;return[(0,r.eW)((0,o.v_)(f.formatDate(t.modified)),1)]})),_:1},8,["headers","items","modelValue","show-select","page","row-props","hide-default-header","style","onContextmenu:row","onUpdate:page"])]})),_:1})]})),_:1})])):((0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(w,null,{default:(0,r.k6)((function(){return[(0,r.bF)(C,{cols:"12"},{default:(0,r.k6)((function(){return[(0,r.bF)(A,{headers:d.backupHeaders,items:d.backups,"items-per-page":100,"mobile-breakpoint":"0",hover:"","fixed-header":"",class:"overflow-auto",style:(0,o.Tr)(e.display.mobile?"height: calc(100vh - 230px);":"height: calc(100vh - 370px);"),"onClick:row":t[8]||(t[8]=function(e,t){f.browse(t.item)})},{"item.name":(0,r.k6)((function(e){var t=e.item;return[(0,r.Lk)("span",{onClick:function(e){return f.browse(t)}},(0,o.v_)(t.name),9,u)]})),"item.timestamp":(0,r.k6)((function(e){var t=e.item;return[(0,r.eW)((0,o.v_)(f.formatDate(t.timestamp)),1)]})),"item.complete":(0,r.k6)((function(e){var t=e.item;return[(0,r.eW)((0,o.v_)(t.complete?"Complete":"Incomplete"),1)]})),"item.automatic":(0,r.k6)((function(e){var t=e.item;return[(0,r.eW)((0,o.v_)(t.automatic?"Automatic":"Manual"),1)]})),"item.duration":(0,r.k6)((function(e){var t=e.item;return[(0,r.eW)((0,o.v_)(Math.round(t.duration/60))+"m ",1)]})),"item.size":(0,r.k6)((function(e){var t=e.item;return[(0,r.eW)((0,o.v_)(f.prettyBytes(t.size)),1)]})),"item.actions":(0,r.k6)((function(e){var n=e.item;return[(0,r.bF)(g,{icon:"",disabled:d.loading,loading:d.loading===n.name,onClick:[function(e){return f.deleteSnapshot(n.name)},t[7]||(t[7]=(0,a.D$)((function(){}),["stop"]))]},{default:(0,r.k6)((function(){return[(0,r.bF)(F,{size:"small"},{default:(0,r.k6)((function(){return t[14]||(t[14]=[(0,r.eW)("mdi:mdi-delete")])})),_:1})]})),_:2},1032,["disabled","loading","onClick"])]})),_:1},8,["headers","items","style"])]})),_:1})]})),_:1})]))])):(0,r.Q3)("",!0)]})),_:1})]})),_:1},8,["loading"]),(0,r.bF)(E,{app:"",modelValue:d.s3Drawer,"onUpdate:modelValue":t[13]||(t[13]=function(e){return d.s3Drawer=e}),temporary:"",location:"right"},{default:(0,r.k6)((function(){return[(0,r.bF)(I,null,{default:(0,r.k6)((function(){return[(0,r.bF)(S,null,{default:(0,r.k6)((function(){return t[15]||(t[15]=[(0,r.eW)(" S3 Settings ")])})),_:1}),(0,r.bF)(D,null,{default:(0,r.k6)((function(){return[(0,r.bF)(x,{modelValue:d.s3.host,"onUpdate:modelValue":t[9]||(t[9]=function(e){return d.s3.host=e}),items:d.hosts,label:"Host"},null,8,["modelValue","items"]),(0,r.bF)(_,{modelValue:d.s3.access_key,"onUpdate:modelValue":t[10]||(t[10]=function(e){return d.s3.access_key=e}),label:"Access Key",required:""},null,8,["modelValue"]),(0,r.bF)(_,{modelValue:d.s3.secret_key,"onUpdate:modelValue":t[11]||(t[11]=function(e){return d.s3.secret_key=e}),label:"Secret Key",required:""},null,8,["modelValue"]),(0,r.bF)(_,{modelValue:d.s3.bucket,"onUpdate:modelValue":t[12]||(t[12]=function(e){return d.s3.bucket=e}),label:"Bucket",required:""},null,8,["modelValue"]),(0,r.bF)(g,{disabled:d.fetching,loading:d.loading,color:"success",onClick:f.save},{default:(0,r.k6)((function(){return t[16]||(t[16]=[(0,r.eW)(" Save ")])})),_:1},8,["disabled","loading","onClick"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,r.bF)(W,{ref:"confirm"},null,512)])}var d=n(14048),f=n(30388),h=(n(50113),n(44114),n(54554),n(26099),n(99449),n(98992),n(72577),n(3949),n(23500),n(74300)),p=n(81815),m={key:0};function g(e,t,n,a,o,i){var l,s=(0,r.g2)("v-icon"),u=(0,r.g2)("v-btn");return 1===(null===(l=n.selected)||void 0===l?void 0:l.length)&&"file"===n.selected[0].type?((0,r.uX)(),(0,r.CE)("div",m,[(0,r.bF)(u,{onClick:t[0]||(t[0]=function(e){return i.download()}),title:"Download",icon:"",loading:o.fetching},{default:(0,r.k6)((function(){return[(0,r.bF)(s,null,{default:(0,r.k6)((function(){return t[1]||(t[1]=[(0,r.eW)("mdi:mdi-download")])})),_:1})]})),_:1},8,["loading"])])):(0,r.Q3)("",!0)}var v=n(27274),b={props:{serverId:null,path:null,selected:null},watch:{path:function(e){this.data.path=e},selected:function(e){this.data.selected=e}},data:function(){return{fetching:!1,data:{},error:"",dialog:!1}},methods:{download:function(){var e=(0,f.A)((0,d.A)().mark((function e(){var t,n=this;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$emit("loading",!0),t=this.selected[0],console.log(t),console.log(this.selected),e.abrupt("return",h.A.post("servers/"+this.serverId+"/backups",{cmd:"get",id:t.id}).then((function(e){v.A.download(e.data.content,t.id)})).catch((function(e){return console.log(e)})).finally((function(){n.fetching=!1,n.$emit("loading",!1)})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},k=n(66262);const y=(0,k.A)(b,[["render",g]]);var w=y,F={key:0};function C(e,t,n,a,o,i){var l=(0,r.g2)("v-icon"),s=(0,r.g2)("v-btn"),u=(0,r.g2)("Confirm");return n.selected.length?((0,r.uX)(),(0,r.CE)("div",F,[(0,r.bF)(s,{onClick:t[0]||(t[0]=function(e){return i.restore()}),title:"Restore",icon:"",loading:o.fetching},{default:(0,r.k6)((function(){return[(0,r.bF)(l,null,{default:(0,r.k6)((function(){return t[1]||(t[1]=[(0,r.eW)("mdi:mdi-restore")])})),_:1})]})),_:1},8,["loading"]),(0,r.bF)(u,{ref:"confirm"},null,512)])):(0,r.Q3)("",!0)}var _=n(26301),A={components:{Confirm:_.A},props:{serverId:null,path:null,selected:null},watch:{path:function(e){this.data.path=e},selected:function(e){this.data.selected=e}},data:function(){return{fetching:!1,data:{},error:"",dialog:!1}},methods:{restore:function(){var e=(0,f.A)((0,d.A)().mark((function e(){var t,n=this;return(0,d.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("Restore selected files?");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:this.fetching=!0,t=[],this.selected.forEach((function(e){t.push(e.name)})),h.A.post("servers/"+this.serverId+"/backups",{cmd:"restore",path:this.path,files:t}).then((function(e){if(console.log(e),e.data.success)n.$emit("complete",e.data.result);else{var t=e.data.error?e.data.error:e.data;n.$emit("error",t)}})).catch((function(e){return console.log(e)})).finally((function(){return n.fetching=!1}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};const V=(0,k.A)(A,[["render",C]]);var I=V;function S(e,t,n,a,o,i){var l=(0,r.g2)("v-icon"),s=(0,r.g2)("v-btn"),u=(0,r.g2)("v-card-title"),c=(0,r.g2)("v-text-field"),d=(0,r.g2)("v-card-text"),f=(0,r.g2)("v-card"),h=(0,r.g2)("v-dialog"),p=(0,r.g2)("v-textarea"),m=(0,r.g2)("v-divider"),g=(0,r.g2)("v-spacer"),v=(0,r.g2)("v-card-actions");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s,{onClick:i.newSnapshot,title:"Create snapshot",icon:""},{default:(0,r.k6)((function(){return[(0,r.bF)(l,null,{default:(0,r.k6)((function(){return t[4]||(t[4]=[(0,r.eW)("mdi:mdi-cloud-upload")])})),_:1})]})),_:1},8,["onClick"]),(0,r.bF)(h,{app:"",modelValue:o.dialog,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.dialog=e})},{default:(0,r.k6)((function(){return[(0,r.bF)(f,{loading:o.fetching},{default:(0,r.k6)((function(){return[(0,r.bF)(u,null,{default:(0,r.k6)((function(){return t[5]||(t[5]=[(0,r.eW)(" Snapshot ")])})),_:1}),(0,r.bF)(d,null,{default:(0,r.k6)((function(){return[(0,r.bF)(c,{modelValue:o.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.name=e}),label:"Name",autofocus:""},null,8,["modelValue"]),(0,r.bF)(s,{color:"primary",onClick:i.createSnapshot,disabled:0===o.name.length},{default:(0,r.k6)((function(){return t[6]||(t[6]=[(0,r.eW)(" Create snapshot ")])})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1},8,["loading"])]})),_:1},8,["modelValue"]),(0,r.bF)(h,{app:"",scrollable:"",persistent:"",modelValue:o.showMessage,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.showMessage=e})},{default:(0,r.k6)((function(){return[(0,r.bF)(f,{loading:o.fetching},{default:(0,r.k6)((function(){return[(0,r.bF)(u,null,{default:(0,r.k6)((function(){return t[7]||(t[7]=[(0,r.eW)(" Response ")])})),_:1}),(0,r.bF)(d,{id:"messageBody"},{default:(0,r.k6)((function(){return[(0,r.bF)(p,{value:o.message,readonly:"","auto-grow":"",loading:o.fetching},null,8,["value","loading"])]})),_:1}),(0,r.bF)(m),(0,r.bF)(v,null,{default:(0,r.k6)((function(){return[(0,r.bF)(g),(0,r.bF)(s,{onClick:t[2]||(t[2]=function(t){e.$emit("closed"),o.showMessage=!1}),disabled:o.fetching},{default:(0,r.k6)((function(){return t[8]||(t[8]=[(0,r.eW)(" Close ")])})),_:1},8,["disabled"])]})),_:1})]})),_:1},8,["loading"])]})),_:1},8,["modelValue"])])}var x={props:{serverId:null},data:function(){return{message:"",fetching:!1,name:"",dialog:!1,showMessage:!1}},methods:{newSnapshot:function(){this.dialog=!0},createSnapshot:function(){var e=this;this.fetching=!0,h.A.post("servers/"+this.serverId+"/backups",{cmd:"snapshot",name:this.name}).then((function(t){if(console.log(t),e.dialog=!1,t.data.success)e.$emit("complete",t.data.result);else{var n=t.data.error?t.data.error:t.data;e.$emit("error",n)}})).catch((function(e){return console.log(e)})).finally((function(){return e.fetching=!1}))}}};const D=(0,k.A)(x,[["render",S]]);var E=D,W=n(31322),U={components:{Loading:p.A,Download:w,Restore:I,Snapshot:E,EditFile:W.A,Confirm:_.A},data:function(){return{path:"/",error:"",message:"",backups:[],items:[],data:{},details:"",loading:null,fetching:!1,serverId:0,s3Drawer:!1,s3:{access_key:"",active:!1},selectedIds:[],hosts:[{title:"AWS",value:""},{title:"Linode (Atlanta, GA)",value:"https://us-southeast-1.linodeobjects.com"},{title:"Linode (Frankfurt, DE)",value:"https://eu-central-1.linodeobjects.com"},{title:"Linode (Newark, NJ)",value:"https://us-east-1.linodeobjects.com"},{title:"Linode (Singapore, SG)",value:"https://ap-south-1.linodeobjects.com"},{title:"Digital Ocean (NYC3)",value:"https://nyc3.digitaloceanspaces.com"},{title:"Digital Ocean (SFO3)",value:"https://sfo3.digitaloceanspaces.com"},{title:"Digital Ocean (AMS3)",value:"https://ams3.digitaloceanspaces.com"},{title:"Digital Ocean (SGP1)",value:"https://sgp1.digitaloceanspaces.com"},{title:"Digital Ocean (FRA1)",value:"https://fra1.digitaloceanspaces.com"},{title:"Vultr",value:"https://ewr1.vultrobjects.com"}],headers:[{title:"Name ",key:"name"},{title:"Size ",key:"size"},{title:"Last modified ",key:"modified"}],backupHeaders:[{title:"Name",key:"name"},{title:"Date",key:"date"},{title:"Status",key:"complete",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"},{title:"Type",key:"automatic",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"},{title:"Duration",key:"duration",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"},{title:"Size",key:"size",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"},{title:" ",key:"action"}],page:1}},computed:{dir:function(){var e=this.path;if(!e.endsWith("/")){var t=e.lastIndexOf("/");-1!==t&&(e=e.substr(0,t))}return e},selected:function(){var e=this,t=[];return this.selectedIds.forEach((function(n){var r=e.items.find((function(e){return e.id===n}));r&&t.push(r)})),t}},created:function(){this.display=this.$vuetify.display,this.serverId=this.$route.params.id,this.fetchData()},methods:{fetchData:function(){var e=this;this.error="",this.message="",this.fetching=!0,h.A.post("servers/"+this.serverId+"/backups",{path:this.path}).then((function(t){console.log(t),t.data.error?e.error=t.data.error:(e.s3=t.data.s3,e.server=t.data.item,t.data.backups&&t.data.backups.length&&(e.backups=t.data.backups),document.title="Backups | "+e.server.name,e.list())})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1}))},browse:function(e){console.log(e),this.path="/"+e.name+"/",this.list()},list:function(){var e=this;this.error="",this.message="",this.fetching=!0,h.A.post("servers/"+this.serverId+"/backups?cmd=list",{path:this.path}).then((function(t){console.log(t),t.data.error?e.error=t.data.error:(e.page=1,e.items=[],t.data.files.forEach((function(t){e.items.push({id:t.id,name:t.name,size:t.size?t.size:0,type:t.type,modified:t.modified,perms:t.perms,permsn:t.permsn,owner:t.owner,group:t.group,selected:!1})})))})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1}))},open:function(e){"folder"===e.type||"link"===e.type?(this.path=e.id,this.list()):"file"===e.type&&this.$refs.editFile.open(e)},upLevel:function(){var e=this.path.substr(0,this.path.length-1).lastIndexOf("/");-1!==e&&(this.path=this.path.substr(0,e+1),this.path||(this.path="/")),this.list()},configure:function(){this.s3Drawer=!0},save:function(){var e=this;this.fetching=!0,h.A.post("servers/"+this.serverId+"/backups",this.s3).then((function(){e.fetchData(),e.s3Drawer=!1})).catch((function(t){console.log(t),e.fetching=!1}))},deleteSnapshot:function(e){var t=this;return(0,f.A)((0,d.A)().mark((function n(){return(0,d.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.confirm.open("Delete "+e+"?");case 2:if(n.sent){n.next=4;break}return n.abrupt("return");case 4:return t.loading=e,t.error="",h.A.post("servers/"+t.serverId+"/backups",{cmd:"deleteSnapshot",name:e}).then((function(e){console.log(e),e.data.success?t.fetchData():(t.error=e.data.error,t.fetching=!1)})).catch((function(e){console.log(e)})).finally((function(){t.loading=null})),n.abrupt("return",!1);case 8:case"end":return n.stop()}}),n)})))()},handleError:function(e){this.error=e},handleComplete:function(e){console.log(e),this.message=e},toggleBackups:function(){var e=this;this.fetching=!0,this.error="",h.A.post("servers/"+this.serverId+"/backups",{active:this.s3.active}).then((function(t){console.log(t),t.data.success?e.fetchData():e.error=t.data.error})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1}))},formatDate:function(e){return v.A.formatDate(e)},prettyBytes:function(e){return v.A.prettyBytes(e)},updatePage:function(e){this.page=e},rowProps:function(e){if(this.selected.find((function(t){return t.id===e.item.id})))return{class:"bg-primary"}},select:function(e,t){e.preventDefault();var n=-1;this.selectedIds.forEach((function(e,r){t.item.id==e&&(n=r)})),n>-1?this.selectedIds.splice(n,1):this.selectedIds.push(t.item.id)}}};const $=(0,k.A)(U,[["render",c]]);var z=$},54554:function(e,t,n){var r=n(46518),a=n(48981),o=n(35610),i=n(91291),l=n(26198),s=n(34527),u=n(96837),c=n(1469),d=n(97040),f=n(84606),h=n(70597),p=h("splice"),m=Math.max,g=Math.min;r({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var n,r,h,p,v,b,k=a(this),y=l(k),w=o(e,y),F=arguments.length;for(0===F?n=r=0:1===F?(n=0,r=y-w):(n=F-2,r=g(m(i(t),0),y-w)),u(y+n-r),h=c(k,r),p=0;p<r;p++)v=w+p,v in k&&d(h,p,k[v]);if(h.length=r,n<r){for(p=w;p<y-r;p++)v=p+r,b=p+n,v in k?k[b]=k[v]:f(k,b);for(p=y;p>y-r+n;p--)f(k,p-1)}else if(n>r)for(p=y-r;p>w;p--)v=p+r-1,b=p+n-1,v in k?k[b]=k[v]:f(k,b);for(p=0;p<n;p++)k[p+w]=arguments[p+2];return s(k,y-r+n),h}})},99449:function(e,t,n){var r=n(46518),a=n(27476),o=n(77347).f,i=n(18014),l=n(655),s=n(60511),u=n(67750),c=n(41436),d=n(96395),f=a("".slice),h=Math.min,p=c("endsWith"),m=!d&&!p&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!m&&!p},{endsWith:function(e){var t=l(u(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=t.length,a=void 0===n?r:h(i(n),r),o=l(e);return f(t,a-o.length,a)===o}})}}]);
//# sourceMappingURL=4268-legacy.fdb003bb.js.map