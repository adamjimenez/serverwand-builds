(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[1266],{48236:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var a=r(66252),n=r(3577),l=(0,a._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),o={style:{"margin-left":"10px"}};function i(e,t,r,i,u,d){var s=(0,a.up)("v-layout"),c=(0,a.up)("v-card-text"),m=(0,a.up)("v-card"),f=(0,a.up)("v-container"),v=(0,a.up)("v-dialog");return(0,a.wg)(),(0,a.j4)(v,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.show=t}),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,a.w5)((function(){return[(0,a.Wm)(f,{"fill-height":""},{default:(0,a.w5)((function(){return[(0,a.Wm)(m,{color:"primary",dark:""},{default:(0,a.w5)((function(){return[(0,a.Wm)(c,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(s,{row:""},{default:(0,a.w5)((function(){return[l,(0,a._)("h2",o,(0,n.zw)(r.message),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var u={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},d=r(48118);const s=(0,d.Z)(u,[["render",i]]);var c=s},31266:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});r(68309);var a=r(66252),n=r(3577),l={key:1},o={key:0},i={key:3},u={key:4},d={key:0},s=(0,a._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),c=(0,a._)("h2",{style:{"margin-left":"10px"}},"Spellcasting...",-1),m=["innerHTML"];function f(e,t,r,f,v,p){var g=this,h=(0,a.up)("v-alert"),w=(0,a.up)("Loading"),k=(0,a.up)("v-card-title"),V=(0,a.up)("v-card-text"),x=(0,a.up)("v-icon"),y=(0,a.up)("v-btn"),_=(0,a.up)("v-col"),b=(0,a.up)("v-list-item-title"),I=(0,a.up)("v-row"),W=(0,a.up)("v-list-item"),U=(0,a.up)("v-list"),q=(0,a.up)("v-menu"),R=(0,a.up)("v-select"),E=(0,a.up)("v-text-field"),S=(0,a.up)("v-checkbox"),C=(0,a.up)("v-form"),D=(0,a.up)("v-card"),O=(0,a.up)("v-layout"),j=(0,a.up)("v-progress-linear"),Z=(0,a.up)("v-dialog"),A=(0,a.up)("v-navigation-drawer");return(0,a.wg)(),(0,a.iD)("div",null,[e.error?((0,a.wg)(),(0,a.j4)(h,{key:0,type:"error"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.error),1)]})),_:1})):(0,a.kq)("",!0),(0,a.Wm)(w,{value:e.loading},null,8,["value"]),(0,a.Wm)(D,{loading:e.fetching,class:"pb-5"},{default:(0,a.w5)((function(){return[(0,a.Wm)(k,null,{default:(0,a.w5)((function(){return[(0,a.Uk)("Server details")]})),_:1}),e.serverId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(V,{key:0},{default:(0,a.w5)((function(){return[(0,a.Uk)(" Choose a VPS provider below or add a custom server ")]})),_:1})),e.serverId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(q,{"offset-y":"",modelValue:e.isOpen,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.isOpen=t})},{activator:(0,a.w5)((function(t){var r=t.props;return[(0,a.Wm)(y,(0,a.dG)(r,{color:"primary",class:"mx-3"}),{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.provider)+" ",1),(0,a.Wm)(x,{dark:""},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.isOpen?"expand_less":"expand_more"),1)]})),_:1})]})),_:2},1040)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(U,null,{default:(0,a.w5)((function(){return[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.items,(function(e,t){return(0,a.wg)(),(0,a.j4)(W,{key:t,onClick:function(t){return p.getOptions(e.value)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(I,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(_,{cols:"3"},{default:(0,a.w5)((function(){return[(0,a.Wm)(x,null,{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.avatar),1)]})),_:2},1024)]})),_:2},1024),(0,a.Wm)(_,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(b,null,{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.title),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1},8,["modelValue"])])),e.data.provider||e.serverId?((0,a.wg)(),(0,a.j4)(C,{key:2,ref:"form",modelValue:e.valid,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.valid=t}),"lazy-validation":"",class:"mx-3 my-5"},{default:(0,a.w5)((function(){return["custom"!=e.data.provider||e.serverId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",o," Connect a server which is freshly installed with Ubuntu. Once configured, root login will be disabled for increased security ")),e.unclaimed.length?((0,a.wg)(),(0,a.j4)(R,{key:1,modelValue:e.data.unclaimed,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.data.unclaimed=t}),items:e.unclaimed,label:"Server"},null,8,["modelValue","items"])):(0,a.kq)("",!0),(0,a.Wm)(E,{modelValue:e.data.name,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.data.name=t}),rules:e.nameRules,label:"Name",required:""},null,8,["modelValue","rules"]),"custom"===e.data.provider||g.serverId>0?((0,a.wg)(),(0,a.j4)(E,{key:2,modelValue:e.data.ip,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.data.ip=t}),rules:e.hostRules,label:"IP"},null,8,["modelValue","rules"])):(0,a.kq)("",!0),"custom"===e.data.provider||"vultr"===e.data.provider||e.unclaimed.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",i,[e.serverId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(R,{key:0,modelValue:e.data.region,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.data.region=t}),items:e.regions,label:"Region"},null,8,["modelValue","items"])),e.serverId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(R,{key:1,modelValue:e.data.type,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.data.type=t}),items:e.types,label:"Type"},null,8,["modelValue","items"])),!e.serverId&&e.images.length?((0,a.wg)(),(0,a.j4)(R,{key:2,modelValue:e.data.image,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.data.image=t}),items:e.images,label:"Image"},null,8,["modelValue","items"])):(0,a.kq)("",!0)])),"custom"==e.data.provider||"vultr"==e.data.provider?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(E,{disabled:e.serverId>0,modelValue:e.data.hostname,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.data.hostname=t}),rules:e.hostRules,label:"Host name/ IP Address",required:""},null,8,["disabled","modelValue","rules"]),"custom"==e.data.provider?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(E,{disabled:e.serverId>0,modelValue:e.data.user,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.data.user=t}),label:"Username",required:""},null,8,["disabled","modelValue"]),(0,a.Wm)(E,{type:"password",disabled:e.serverId>0,modelValue:e.data.pass,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.data.pass=t}),label:"Password",required:""},null,8,["disabled","modelValue"])])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),e.serverId>0||"custom"==e.data.provider?((0,a.wg)(),(0,a.j4)(E,{key:5,modelValue:e.data.port,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.data.port=t}),label:"Port",required:""},null,8,["modelValue"])):(0,a.kq)("",!0),"custom"===e.data.provider||e.serverId>0?((0,a.wg)(),(0,a.j4)(R,{key:6,modelValue:e.data.dns,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.data.dns=t}),items:e.dns,label:"DNS provider"},null,8,["modelValue","items"])):(0,a.kq)("",!0),e.data.dns?((0,a.wg)(),(0,a.j4)(R,{key:7,modelValue:e.data.provider_token,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.data.provider_token=t}),items:e.provider_tokens,label:"DNS provider API token (optional)"},null,8,["modelValue","items"])):(0,a.kq)("",!0),(0,a.Wm)(S,{modelValue:e.data.mailserver,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.data.mailserver=t}),label:"Mailserver"},null,8,["modelValue"]),(0,a.Wm)(y,{disabled:e.dialog,loading:e.dialog,color:"success",onClick:p.validate},{default:(0,a.w5)((function(){return[(0,a.Uk)(" Save ")]})),_:1},8,["disabled","loading","onClick"])]})),_:1},8,["modelValue"])):(0,a.kq)("",!0)]})),_:1},8,["loading"]),(0,a.Wm)(Z,{modelValue:e.dialog,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.dialog=t}),persistent:"",width:"300"},{default:(0,a.w5)((function(){return[(0,a.Wm)(D,{color:"primary",dark:""},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(O,{class:"pt-5"},{default:(0,a.w5)((function(){return[s,c]})),_:1}),(0,a.Wm)(j,{indeterminate:0==e.progress,modelValue:e.progress,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.progress=t}),color:"white",class:"mb-0"},null,8,["indeterminate","modelValue"]),(0,a._)("div",{innerHTML:e.details},null,8,m)]})),_:1})]})),_:1})]})),_:1},8,["modelValue"]),(0,a.Wm)(A,{modelValue:e.drawer,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.drawer=t}),temporary:"",right:"",app:""},{default:(0,a.w5)((function(){return[(0,a.Wm)(D,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(k,null,{default:(0,a.w5)((function(){return[(0,a.Uk)(" API token ")]})),_:1}),(0,a.Wm)(V,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(E,{modelValue:e.provider_token.label,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.provider_token.label=t}),label:"Label",required:""},null,8,["modelValue"]),(0,a.Wm)(E,{modelValue:e.provider_token.token,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.provider_token.token=t}),label:"Token",required:""},null,8,["modelValue"]),(0,a.Wm)(y,{disabled:e.fetching,loading:e.fetching,color:"success",onClick:p.submitToken},{default:(0,a.w5)((function(){return[(0,a.Uk)(" Save ")]})),_:1},8,["disabled","loading","onClick"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}r(74916),r(77601),r(41539),r(40561),r(54747);var v=r(1006),p=r(48236),g={components:{Loading:p.Z},data:function(){return{fetching:!1,loading:!1,valid:!0,data:{images:[],unclaimed:[],provider:"",name:"New-server",hostname:"",user:"root",pass:"",port:"22",webserver:!0,mailserver:!1},dns:[{title:"Linode",value:"linode"},{title:"Digital Ocean",value:"digitalocean"},{title:"Other",value:""}],provider_tokens:[{title:"Add new",value:"new"}],nameRules:[function(e){return!!e||"Name is required"},function(e){return/^[a-zA-Z0-9_-]+$/g.test(e)||"Must contain alphanumeric characters only"}],hostRules:[function(e){return!!e||"IP is required"}],provider_token:{},drawer:!1,dialog:!1,details:"",serverId:0,error:"",progress:0,regions:[],types:[],images:[],unclaimed:[],items:[{title:"Linode",value:"linode",avatar:"fab fa-linode"},{title:"DigitalOcean",value:"digitalocean",avatar:"fab fa-digital-ocean"},{title:"Vultr",value:"vultr",avatar:"fas fa-server"},{title:"Custom server",value:"custom",avatar:"fas fa-server"}],isOpen:!1,provider:"Choose"}},created:function(){document.title="Server details",this.$route.params.id&&(this.serverId=this.$route.params.id),this.fetchData(),this.$route.query.ip&&(this.data.hostname=this.$route.query.ip,this.data.provider="vultr",this.provider="vultr")},watch:{"data.provider_token":function(){"new"===this.data.provider_token&&(this.drawer=!0,this.data.provider_token="",this.provider_token["provider"]=this.data.dns)}},methods:{fetchData:function(){var e=this;this.error="",this.loading=!0,v.Z.get("servers/"+this.serverId).then((function(t){console.log(t),e.serverId&&(e.data=t.data.item)})).catch((function(e){console.log(e)})).finally((function(){e.loading=!1})),v.Z.get("providers/tokens").then((function(t){console.log(t),e.provider_tokens.splice(1),t.data.tokens&&t.data.tokens.forEach((function(t){e.provider_tokens.push({text:t.label,value:t.id})}))})).catch((function(t){e.error=t})).finally((function(){e.loading=!1}))},install:function(){var e=this;e.dialog=!0,e.details="";var t="servers/"+e.serverId+"/install?webserver=1";e.data.mailserver&&(t+="&mailserver=1"),v.Z.event(t,(function(t){e.details=t.msg+"...",t.progress&&(e.progress=t.progress)}),(function(t){e.error=t}),(function(){e.dialog=!1,e.error||(e.$eventHub.$emit("itemsChanged"),e.$router.push("/servers/"+e.serverId+"/summary"))}))},validate:function(){var e=this;this.$refs.form.validate()&&(this.details="",this.dialog=!0,this.error="",e.data.unclaimed>0&&(e.serverId=e.data.unclaimed),console.log("save server"),console.log(e.serverId),e.serverId?v.Z.post("servers/"+e.serverId+"/update",this.data).then((function(){e.install()})).catch((function(e){console.log(e)})):v.Z.post("servers/create",this.data).then((function(t){console.log(t),t.data.success?t.data.id&&(e.serverId=t.data.id,e.serverId&&e.install()):(e.error=t.data.error,e.dialog=!1)})).catch((function(t){console.log(t),e.dialog=!1})))},getOptions:function(e,t){if(this.data.provider=e,this.provider=e,"custom"!==e&&"vultr"!==e){var r;t||(r=window.open("loading"));var a=this;this.loading=!0,a.regions=[],a.images=[],a.types=[],a.unclaimed=[],v.Z.post("providers/?cmd=options",{provider:e}).then((function(n){if(console.log(n),n.data.require_auth&&!t){r.location="https://serverwand.com/account/services/"+e;var l=setInterval((function(){if(r.closed)return clearInterval(l),void a.getOptions(e,!0)}),500)}else n.data.require_auth||(r&&r.close(),a.regions=n.data.options.regions,a.images=n.data.options.images,a.types=n.data.options.types,n.data.unclaimed.forEach((function(e){a.unclaimed.push({text:e.label,value:e.id})})))})).catch((function(e){r&&r.close(),console.log(e)})).finally((function(){a.loading=!1}))}},submitToken:function(){var e=this;v.Z.post("providers/tokens",this.provider_token).then((function(t){t.data.error?e.error=t.data.error:(e.drawer=!1,e.fetchData())})).catch((function(t){e.error=t}))}}},h=r(48118);const w=(0,h.Z)(g,[["render",f]]);var k=w},22261:function(e,t,r){"use strict";var a=r(46916),n=r(1702),l=r(41340),o=r(67066),i=r(52999),u=r(72309),d=r(70030),s=r(29909).get,c=r(9441),m=r(38173),f=u("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,p=v,g=n("".charAt),h=n("".indexOf),w=n("".replace),k=n("".slice),V=function(){var e=/a/,t=/b*/g;return a(v,e,"a"),a(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),x=i.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],_=V||y||x||c||m;_&&(p=function(e){var t,r,n,i,u,c,m,_=this,b=s(_),I=l(e),W=b.raw;if(W)return W.lastIndex=_.lastIndex,t=a(p,W,I),_.lastIndex=W.lastIndex,t;var U=b.groups,q=x&&_.sticky,R=a(o,_),E=_.source,S=0,C=I;if(q&&(R=w(R,"y",""),-1===h(R,"g")&&(R+="g"),C=k(I,_.lastIndex),_.lastIndex>0&&(!_.multiline||_.multiline&&"\n"!==g(I,_.lastIndex-1))&&(E="(?: "+E+")",C=" "+C,S++),r=new RegExp("^(?:"+E+")",R)),y&&(r=new RegExp("^"+E+"$(?!\\s)",R)),V&&(n=_.lastIndex),i=a(v,q?r:_,C),q?i?(i.input=k(i.input,S),i[0]=k(i[0],S),i.index=_.lastIndex,_.lastIndex+=i[0].length):_.lastIndex=0:V&&i&&(_.lastIndex=_.global?i.index+i[0].length:n),y&&i&&i.length>1&&a(f,i[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)})),i&&U)for(i.groups=c=d(null),u=0;u<U.length;u++)m=U[u],c[m[0]]=i[m[1]];return i}),e.exports=p},67066:function(e,t,r){"use strict";var a=r(19670);e.exports=function(){var e=a(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},52999:function(e,t,r){var a=r(47293),n=r(17854),l=n.RegExp,o=a((function(){var e=l("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=o||a((function(){return!l("a","y").sticky})),u=o||a((function(){var e=l("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:u,MISSED_STICKY:i,UNSUPPORTED_Y:o}},9441:function(e,t,r){var a=r(47293),n=r(17854),l=n.RegExp;e.exports=a((function(){var e=l(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:function(e,t,r){var a=r(47293),n=r(17854),l=n.RegExp;e.exports=a((function(){var e=l("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},40561:function(e,t,r){"use strict";var a=r(82109),n=r(17854),l=r(51400),o=r(19303),i=r(26244),u=r(47908),d=r(65417),s=r(86135),c=r(81194),m=c("splice"),f=n.TypeError,v=Math.max,p=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m},{splice:function(e,t){var r,a,n,c,m,w,k=u(this),V=i(k),x=l(e,V),y=arguments.length;if(0===y?r=a=0:1===y?(r=0,a=V-x):(r=y-2,a=p(v(o(t),0),V-x)),V+r-a>g)throw f(h);for(n=d(k,a),c=0;c<a;c++)m=x+c,m in k&&s(n,c,k[m]);if(n.length=a,r<a){for(c=x;c<V-a;c++)m=c+a,w=c+r,m in k?k[w]=k[m]:delete k[w];for(c=V;c>V-a+r;c--)delete k[c-1]}else if(r>a)for(c=V-a;c>x;c--)m=c+a-1,w=c+r-1,m in k?k[w]=k[m]:delete k[w];for(c=0;c<r;c++)k[c+x]=arguments[c+2];return k.length=V-a+r,n}})},74916:function(e,t,r){"use strict";var a=r(82109),n=r(22261);a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},77601:function(e,t,r){"use strict";r(74916);var a=r(82109),n=r(17854),l=r(46916),o=r(1702),i=r(60614),u=r(70111),d=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),s=n.Error,c=o(/./.test);a({target:"RegExp",proto:!0,forced:!d},{test:function(e){var t=this.exec;if(!i(t))return c(this,e);var r=l(t,this,e);if(null!==r&&!u(r))throw new s("RegExp exec method returned something other than an Object or null");return!!r}})}}]);
//# sourceMappingURL=1266-legacy.1087c9da.js.map