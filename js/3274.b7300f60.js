"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[3274],{11297:function(e,a,l){l.d(a,{Z:function(){return s}});var d=l(66252);function t(e,a,l,t,u,r){const o=(0,d.up)("v-icon"),s=(0,d.up)("v-alert"),i=(0,d.up)("v-dialog");return(0,d.wg)(),(0,d.j4)(i,{modelValue:e.show,"onUpdate:modelValue":a[0]||(a[0]=a=>e.show=a),persistent:"",width:"600"},{default:(0,d.w5)((()=>[(0,d.Wm)(s,{title:l.message,color:"primary"},{prepend:(0,d.w5)((()=>[(0,d.Wm)(o,{icon:"fas fa-magic fa-2x faa-horizontal animated"})])),_:1},8,["title"])])),_:1},8,["modelValue"])}var u={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},r=l(83744);const o=(0,r.Z)(u,[["render",t]]);var s=o},73274:function(e,a,l){l.r(a),l.d(a,{default:function(){return m}});var d=l(66252),t=l(3577);function u(e,a,l,u,r,o){const s=(0,d.up)("v-alert"),i=(0,d.up)("Loading"),n=(0,d.up)("v-text-field"),m=(0,d.up)("v-btn"),c=(0,d.up)("v-form"),p=(0,d.up)("v-card-text"),h=(0,d.up)("v-card");return(0,d.wg)(),(0,d.iD)("div",null,[e.error?((0,d.wg)(),(0,d.j4)(s,{key:0,type:"error"},{default:(0,d.w5)((()=>[(0,d.Uk)((0,t.zw)(e.error),1)])),_:1})):(0,d.kq)("",!0),(0,d.Wm)(i,{value:e.loading},null,8,["value"]),e.serverId?(0,d.kq)("",!0):((0,d.wg)(),(0,d.j4)(h,{key:1,title:"User details"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,null,{default:(0,d.w5)((()=>[e.loading?(0,d.kq)("",!0):((0,d.wg)(),(0,d.j4)(c,{key:0,modelValue:e.valid,"onUpdate:modelValue":a[9]||(a[9]=a=>e.valid=a),"lazy-validation":""},{default:(0,d.w5)((()=>[(0,d.Wm)(n,{modelValue:e.data.company,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.company=a),label:"Company",required:"",autofocus:""},null,8,["modelValue"]),(0,d.Wm)(n,{modelValue:e.data.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.name=a),rules:e.requiredRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.surname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.surname=a),rules:e.requiredRules,label:"Surname",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.email=a),rules:e.emailRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.password,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.password=a),rules:e.requiredRules,label:"Password",type:"password",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.address,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data.address=a),rules:e.requiredRules,label:"Address",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.city,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data.city=a),rules:e.requiredRules,label:"City",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.postcode,"onUpdate:modelValue":a[7]||(a[7]=a=>e.data.postcode=a),rules:e.requiredRules,label:"Postcode",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(n,{modelValue:e.data.tel,"onUpdate:modelValue":a[8]||(a[8]=a=>e.data.tel=a),rules:e.requiredRules,label:"Telephone",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{disabled:!e.valid,loading:e.loading,color:"success",onClick:o.validate},{default:(0,d.w5)((()=>[(0,d.Uk)(" Save ")])),_:1},8,["disabled","loading","onClick"])])),_:1},8,["modelValue"]))])),_:1})])),_:1}))])}l(70560);var r=l(1006),o=l(11297),s={components:{Loading:o.Z},data:()=>({loading:!1,valid:!0,data:{name:""},requiredRules:[e=>!!e||"Required"],emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],details:"",serverId:0,error:""}),created(){document.title="User details",this.id=this.$route.params.id,this.fetchData()},methods:{fetchData(){this.error="",this.loading=!0,r.Z.get("users/"+this.id).then((e=>{console.log(e),this.id&&(this.data=e.data.item)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},validate(){this.details="",this.loading=!0,r.Z.post("users/"+this.id,this.data).then((e=>{console.log(e),e.data.id?this.$router.push("/users/"+e.data.id+"/summary"):e.data.error&&(this.error=e.data.error)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))}}},i=l(83744);const n=(0,i.Z)(s,[["render",u]]);var m=n}}]);
//# sourceMappingURL=3274.b7300f60.js.map