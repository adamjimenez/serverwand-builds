"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[592],{65924:function(t,e,a){a.d(e,{Z:function(){return d}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t.yesno?a("span",[t._v(" "+t._s(t.val?"Yes":"No")+" ")]):t.password?a("span",[t._v(" "+t._s("******")+" ")]):t.hideText?t._e():a("span",[t._v(" "+t._s(t.val)+" ")]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.edit(t.val)}}},r),[a("v-icon",{attrs:{small:""}},[t._v("create")])],1)]}}])},[a("span",[t._v("Edit")])]),a("v-dialog",{attrs:{app:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{loading:t.fetching}},[a("v-card-title",[t._v(" Edit "+t._s(t.label)+" ")]),a("v-card-text",[t.yesno?a("v-select",{attrs:{items:t.yesnoItems,label:t.label,autofocus:"",error:t.errors.length>0,"error-messages":t.errors},model:{value:t.data.val,callback:function(e){t.$set(t.data,"val",e)},expression:"data.val"}}):a("v-text-field",{attrs:{label:t.label,autofocus:"",type:!t.password||t.showPassword?"text":"password","append-icon":t.password?t.showPassword?"visibility_off":"visibility":"","error-messages":t.errors},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.data.val,callback:function(e){t.$set(t.data,"val",e)},expression:"data.val"}}),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},n=[],i=(a(68309),a(41539),a(4296)),o={props:{name:null,val:null,label:null,password:Boolean,hideText:Boolean,path:null,yesno:Boolean},data:function(){return{fetching:!1,dialog:!1,data:{val:null},showPassword:!1,yesnoItems:[{text:"Yes",value:1},{text:"No",value:0}],errors:[]}},watch:{val:function(t){this.data.val=t}},methods:{edit:function(){this.data.val=this.val,this.dialog=!0},save:function(){this.fetching=!0,this.errors=[];var t={};t[this.name]=this.data.val;var e=this;i.Z.post(this.path,t).then((function(t){console.log(t),t.data.success?(e.val=e.data.val,e.dialog=!1,e.$emit("save")):e.errors.push(t.data.error)})).catch((function(t){return console.log(t)})).finally((function(){return e.fetching=!1}))}}},s=o,l=a(1001),c=(0,l.Z)(s,r,n,!1,null,null,null),d=c.exports},84285:function(t,e,a){a.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),a("h2",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.message))])])],1)],1)],1)],1)},n=[],i={name:"Loading",data:function(){return{}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},o=i,s=a(1001),l=(0,s.Z)(o,r,n,!1,null,null,null),c=l.exports},40592:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("Loading",{attrs:{value:t.loading}}),a("SSL",{attrs:{siteId:this.siteId,provider:t.data.ssl_provider.provider,fullchain:t.data.ssl_provider.fullchain},on:{closed:function(e){return t.fetchData(!0)}}}),a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" OpenBasedir ")]),a("v-list-item-subtitle",[a("Edit",{attrs:{val:t.data.openbasedir,label:"OpenBasedir",name:"openbasedir",path:"sites/"+this.siteId+"/openbasedir"}})],1)],1)],1)],1)],1),a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{attrs:{disabled:t.fetching,loading:"empty"==t.loading,color:"error"},on:{click:t.empty}},[t._v(" Empty Site ")])],1)],1),a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{attrs:{disabled:t.fetching,loading:"delete"==t.loading,color:"error"},on:{click:t.deleteDomain}},[t._v(" Delete Site ")])],1)],1)],1)},n=[],i=(a(41539),a(4296)),o=a(84285),s=a(65924),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{on:{click:t.open}},[t._v(" SSL: "+t._s(this.provider)+" ")])],1)],1),a("v-dialog",{attrs:{app:"",scrollable:""},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[a("v-card",{attrs:{loading:t.fetching}},[this.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(this.error)+" ")]):t._e(),a("v-card-title",[t._v(" SSL ")]),a("v-card-text",[a("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.data.provider,callback:function(e){t.$set(t.data,"provider",e)},expression:"data.provider"}},[a("v-btn",{attrs:{value:"none"}},[t._v(" None ")]),a("v-btn",{attrs:{value:"letsencrypt"}},[t._v(" Let's Encrypt ")]),a("v-btn",{attrs:{value:"custom"}},[t._v(" Custom ")]),a("v-btn",{attrs:{value:"selfsigned"}},[t._v(" Self-Signed Certificate ")])],1),"custom"==t.data.provider?a("div",[a("v-textarea",{attrs:{name:"private_key",filled:"",label:"Private key","auto-grow":"",value:"",disabled:"custom"!==t.data.provider},model:{value:t.data.private_key,callback:function(e){t.$set(t.data,"private_key",e)},expression:"data.private_key"}}),a("v-textarea",{attrs:{name:"fullchain",filled:"",label:"Certificate (Chained)","auto-grow":"",value:"",disabled:"custom"!==t.data.provider},model:{value:t.data.fullchain,callback:function(e){t.$set(t.data,"fullchain",e)},expression:"data.fullchain"}})],1):t._e()],1),a("v-card-actions",[a("v-btn",{attrs:{color:"success"},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},c=[],d={props:{siteId:null,provider:null,fullchain:null},data:function(){return{message:"",showDialog:!1,loading:!0,fetching:!1,error:null,data:{provider:"none"}}},created:function(){this.data.provider=this.provider,this.data.fullchain=this.fullchain},methods:{open:function(){this.showDialog=!0,this.data.provider=this.provider,this.data.private_key="",this.data.fullchain=this.fullchain},save:function(){var t=this;this.error="",this.fetching=!0,i.Z.post("sites/"+this.siteId+"/ssl",this.data).catch((function(t){return console.log(t)})).then((function(e){t.fetching=!1,"undefined"===typeof e?t.error="An error occurred":e.data.success?(t.$emit("closed"),t.showDialog=!1):t.error=e.data.error}))}}},u=d,v=a(1001),h=(0,v.Z)(u,l,c,!1,null,null,null),f=h.exports,p={components:{Loading:o.Z,Edit:s.Z,SSL:f},data:function(){return{loading:!1,siteId:null,post:null,error:null,data:{disk_usage:0,server:{},app:{},ssl_provider:{provider:"none"}},details:"",fetching:!1,copyText:"Copy"}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;this.error="",this.fetching=!0,this.siteId=this.$route.params.id,i.Z.get("sites/"+this.siteId+"/settings").then((function(e){console.log(e),t.data=e.data.item,document.title="Settings | "+t.data.domain})).catch((function(t){return console.log(t)})).finally((function(){return t.fetching=!1}))},empty:function(){var t=this;this.$confirm("Empty "+this.data.domain+"?").then((function(e){if(e){var a=t;t.error="",t.fetching=!0,t.loading=!0,i.Z.get("sites/"+t.$route.params.id+"/empty").then((function(t){console.log(t),t.data.error&&(a.error=t.data.error)})).catch((function(t){return console.log(t)})).finally((function(){a.fetching=!1,a.loading=!1}))}}))},deleteDomain:function(){var t=this;this.$confirm("Delete "+this.data.domain+"?").then((function(e){if(e){var a=t;t.error="",t.fetching=!0,t.loading=!0,i.Z.get("sites/"+t.$route.params.id+"/delete").then((function(t){console.log(t),t.data.error?a.error=t.data.error:a.$router.push("/sites/")})).catch((function(t){return console.log(t)})).finally((function(){a.fetching=!1,a.loading=!1}))}}))}}},g=p,m=(0,v.Z)(g,r,n,!1,null,null,null),_=m.exports}}]);
//# sourceMappingURL=592-legacy.b0ff3a22.js.map