"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[6401],{81815:function(e,t,r){r.d(t,{A:function(){return u}});var n=r(20641);function o(e,t,r,o,i,a){const s=(0,n.g2)("v-icon"),u=(0,n.g2)("v-alert"),l=(0,n.g2)("v-dialog");return(0,n.uX)(),(0,n.Wv)(l,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.show=t),persistent:"",width:"600"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{title:r.message,color:"primary"},{prepend:(0,n.k6)((()=>[(0,n.bF)(s,{icon:"fas fa-magic fa-2x faa-horizontal animated"})])),_:1},8,["title"])])),_:1},8,["modelValue"])}var i={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},a=r(66262);const s=(0,a.A)(i,[["render",o]]);var u=s},50246:function(e,t,r){r.d(t,{A:function(){return l}});var n=r(20641),o=r(53751);function i(e,t,r,i,a,s){const u=(0,n.g2)("v-icon");return"wordpress"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:0,onClick:(0,o.D$)(s.openLink,["stop"])},{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("fab fa-wordpress")]))),_:1},8,["onClick"])):"git"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:1},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("fab fa-git")]))),_:1})):"node"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:2},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("fab fa-node-js")]))),_:1})):"joomla"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:3},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("fab fa-joomla")]))),_:1})):"drupal"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:4},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("fab fa-drupal")]))),_:1})):"magento"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:5},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("fab fa-magento")]))),_:1})):"roundcube"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:6},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("fas fa-envelope")]))),_:1})):"shiftlib"===r.app?((0,n.uX)(),(0,n.Wv)(u,{key:7},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("fas fa-user-edit")]))),_:1})):((0,n.uX)(),(0,n.Wv)(u,{key:8},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("fas fa-sitemap")]))),_:1}))}var a={props:{app:null,to:null},methods:{openLink(){this.to&&window.open(this.to)}}},s=r(66262);const u=(0,s.A)(a,[["render",i]]);var l=u},76401:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});r(44114);var n=r(20641),o=r(90033);const i={class:"text-no-wrap"},a={key:0},s={key:0};function u(e,t,r,u,l,c){const f=(0,n.g2)("v-alert"),d=(0,n.g2)("Loading"),p=(0,n.g2)("v-select"),h=(0,n.g2)("v-card-text"),v=(0,n.g2)("v-card"),y=(0,n.g2)("SiteIcon"),g=(0,n.g2)("v-list-item"),m=(0,n.g2)("v-data-table"),k=(0,n.g2)("v-col"),w=(0,n.g2)("v-row"),b=(0,n.g2)("v-layout");return(0,n.uX)(),(0,n.Wv)(b,{row:""},{default:(0,n.k6)((()=>[(0,n.bF)(w,null,{default:(0,n.k6)((()=>[(0,n.bF)(k,{cols:"12"},{default:(0,n.k6)((()=>[l.error?((0,n.uX)(),(0,n.Wv)(f,{key:0,type:"error",text:l.error},null,8,["text"])):(0,n.Q3)("",!0),(0,n.bF)(d,{value:l.loading},null,8,["value"]),(0,n.bF)(v,{flat:"",loading:l.fetching},{default:(0,n.k6)((()=>[(0,n.bF)(v,{flat:""},{default:(0,n.k6)((()=>[(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,{modelValue:l.server,"onUpdate:modelValue":t[0]||(t[0]=e=>l.server=e),items:l.server_opts,label:"Server","hide-details":"",clearable:""},null,8,["modelValue","items"])])),_:1})])),_:1}),(0,n.bF)(m,{headers:c.headers,items:l.filtered,"items-per-page":100,hover:"","onClick:row":t[1]||(t[1]=function(t,r){e.$router.push("/sites/"+r.item.id+"/summary")}),"fixed-header":"","hide-default-header":!l.display.smAndUp,style:{height:"calc(100vh - 200px)",overflow:"auto"}},{"item.domain":(0,n.k6)((({item:e})=>[(0,n.bF)(g,{title:e.domain,class:"px-0"},(0,n.eX)({subtitle:(0,n.k6)((()=>[(0,n.Lk)("span",i,(0,o.v_)(l.servers[e.server]),1)])),_:2},[l.display.smAndUp?{name:"prepend",fn:(0,n.k6)((()=>[(0,n.bF)(y,{app:e.app},null,8,["app"])])),key:"0"}:void 0]),1032,["title"])])),"item.usage":(0,n.k6)((({item:e})=>[e.usage>0?((0,n.uX)(),(0,n.CE)("div",a,(0,o.v_)(c.prettyBytes(1024*e.usage)),1)):(0,n.Q3)("",!0)])),"item.transfer":(0,n.k6)((({item:e})=>[e.transfer>0?((0,n.uX)(),(0,n.CE)("div",s,(0,o.v_)(c.prettyBytes(1024*e.transfer)),1)):(0,n.Q3)("",!0)])),_:1},8,["headers","items","hide-default-header"])])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})}r(98992),r(3949);var l=r(74300),c=r(27274),f=r(81815),d=r(50246),p={components:{Loading:f.A,SiteIcon:d.A},data(){return{fetching:!1,loading:!1,error:"",filtered:[],items:[],servers:{},server:null,server_opts:[],searchPanel:[!1],search:"",selected:[],display:{}}},computed:{headers:function(){var e=[{title:"Site",key:"domain"}];return this.display.smAndUp&&e.push({title:"IP",key:"ip",maxWidth:140}),this.display.mdAndUp&&e.push({title:"MX",key:"mx"}),this.display.lgAndUp&&e.push({title:"Size",key:"usage"},{title:"Transfer",key:"transfer"}),e}},created(){this.display=this.$vuetify.display,document.title="Sites",this.fetchData()},watch:{server:function(){this.filtered=[],this.items.forEach((e=>{this.server&&e.server!=this.server||this.filtered.push(e)})),this.server?localStorage.server=this.server:delete localStorage.server}},methods:{fetchData(){this.error="",this.fetching=!0,l.A.get("sites/").then((e=>{if(console.log(e),e.data.error)return this.error=e.data.error,!1;this.items=e.data.items,e.data.items.forEach((e=>{this.filtered.push(e)})),l.A.get("servers/").then((e=>{e.data.items.forEach((e=>{this.server_opts.push({title:e.name,value:e.id}),this.servers[e.id]=e.name}))}))})).catch((e=>{console.log(e)})).finally((()=>{this.fetching=!1,localStorage.server&&(this.server=localStorage.server)}))},prettyBytes(e){return c.A.prettyBytes(e)}}},h=r(66262);const v=(0,h.A)(p,[["render",u]]);var y=v},34527:function(e,t,r){var n=r(43724),o=r(34376),i=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},97040:function(e,t,r){var n=r(43724),o=r(24913),i=r(6980);e.exports=function(e,t,r){n?o.f(e,t,i(0,r)):e[t]=r}},96837:function(e){var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},76080:function(e,t,r){var n=r(27476),o=r(79306),i=r(40616),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},27476:function(e,t,r){var n=r(22195),o=r(79504);e.exports=function(e){if("Function"===n(e))return o(e)}},1767:function(e){e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},50851:function(e,t,r){var n=r(36955),o=r(55966),i=r(64117),a=r(26269),s=r(78227),u=s("iterator");e.exports=function(e){if(!i(e))return o(e,u)||o(e,"@@iterator")||a[n(e)]}},70081:function(e,t,r){var n=r(69565),o=r(79306),i=r(28551),a=r(16823),s=r(50851),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(o(r))return i(n(r,e));throw new u(a(e)+" is not iterable")}},20397:function(e,t,r){var n=r(97751);e.exports=n("document","documentElement")},44209:function(e,t,r){var n=r(78227),o=r(26269),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},34376:function(e,t,r){var n=r(22195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},72652:function(e,t,r){var n=r(76080),o=r(69565),i=r(28551),a=r(16823),s=r(44209),u=r(26198),l=r(1625),c=r(70081),f=r(50851),d=r(9539),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},v=h.prototype;e.exports=function(e,t,r){var y,g,m,k,w,b,x,_=r&&r.that,A=!(!r||!r.AS_ENTRIES),W=!(!r||!r.IS_RECORD),E=!(!r||!r.IS_ITERATOR),S=!(!r||!r.INTERRUPTED),I=n(t,_),O=function(e){return y&&d(y,"normal",e),new h(!0,e)},T=function(e){return A?(i(e),S?I(e[0],e[1],O):I(e[0],e[1])):S?I(e,O):I(e)};if(W)y=e.iterator;else if(E)y=e;else{if(g=f(e),!g)throw new p(a(e)+" is not iterable");if(s(g)){for(m=0,k=u(e);k>m;m++)if(w=T(e[m]),w&&l(v,w))return w;return new h(!1)}y=c(e,g)}b=W?e.next:y.next;while(!(x=o(b,y)).done){try{w=T(x.value)}catch(X){d(y,"throw",X)}if("object"==typeof w&&w&&l(v,w))return w}return new h(!1)}},9539:function(e,t,r){var n=r(69565),o=r(28551),i=r(55966);e.exports=function(e,t,r){var a,s;o(e);try{if(a=i(e,"return"),!a){if("throw"===t)throw r;return r}a=n(a,e)}catch(u){s=!0,a=u}if("throw"===t)throw r;if(s)throw a;return o(a),r}},57657:function(e,t,r){var n,o,i,a=r(79039),s=r(94901),u=r(20034),l=r(2360),c=r(42787),f=r(36840),d=r(78227),p=r(96395),h=d("iterator"),v=!1;[].keys&&(i=[].keys(),"next"in i?(o=c(c(i)),o!==Object.prototype&&(n=o)):v=!0);var y=!u(n)||a((function(){var e={};return n[h].call(e)!==e}));y?n={}:p&&(n=l(n)),s(n[h])||f(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},26269:function(e){e.exports={}},2360:function(e,t,r){var n,o=r(28551),i=r(96801),a=r(88727),s=r(30421),u=r(20397),l=r(4055),c=r(66119),f=">",d="<",p="prototype",h="script",v=c("IE_PROTO"),y=function(){},g=function(e){return d+h+f+e+d+"/"+h+f},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},k=function(){var e,t=l("iframe"),r="java"+h+":";return t.style.display="none",u.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&n?m(n):k():m(n);var e=a.length;while(e--)delete w[p][a[e]];return w()};s[v]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(y[p]=o(e),r=new y,y[p]=null,r[v]=e):r=w(),void 0===t?r:i.f(r,t)}},96801:function(e,t,r){var n=r(43724),o=r(48686),i=r(24913),a=r(28551),s=r(25397),u=r(71072);t.f=n&&!o?Object.defineProperties:function(e,t){a(e);var r,n=s(t),o=u(t),l=o.length,c=0;while(l>c)i.f(e,r=o[c++],n[r]);return e}},71072:function(e,t,r){var n=r(61828),o=r(88727);e.exports=Object.keys||function(e){return n(e,o)}},44114:function(e,t,r){var n=r(46518),o=r(48981),i=r(26198),a=r(34527),s=r(96837),u=r(79039),l=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},f=l||!c();n({target:"Array",proto:!0,arity:1,forced:f},{push:function(e){var t=o(this),r=i(t),n=arguments.length;s(r+n);for(var u=0;u<n;u++)t[r]=arguments[u],r++;return a(t,r),r}})},18111:function(e,t,r){var n=r(46518),o=r(44576),i=r(90679),a=r(28551),s=r(94901),u=r(42787),l=r(62106),c=r(97040),f=r(79039),d=r(39297),p=r(78227),h=r(57657).IteratorPrototype,v=r(43724),y=r(96395),g="constructor",m="Iterator",k=p("toStringTag"),w=TypeError,b=o[m],x=y||!s(b)||b.prototype!==h||!f((function(){b({})})),_=function(){if(i(this,h),u(this)===h)throw new w("Abstract class Iterator not directly constructable")},A=function(e,t){v?l(h,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===h)throw new w("You can't redefine this property");d(this,e)?this[e]=t:c(this,e,t)}}):h[e]=t};d(h,k)||A(k,m),!x&&d(h,g)&&h[g]!==Object||A(g,_),_.prototype=h,n({global:!0,constructor:!0,forced:x},{Iterator:_})},7588:function(e,t,r){var n=r(46518),o=r(72652),i=r(79306),a=r(28551),s=r(1767);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){a(this),i(e);var t=s(this),r=0;o(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},98992:function(e,t,r){r(18111)},3949:function(e,t,r){r(7588)}}]);
//# sourceMappingURL=6401.4d193bbc.js.map