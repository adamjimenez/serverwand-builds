(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[482],{84285:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("v-container",{attrs:{"fill-height":""}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-text",[n("v-layout",{attrs:{row:""}},[n("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),n("h2",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.message))])])],1)],1)],1)],1)},a=[],i={name:"Loading",data:function(){return{}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},s=i,l=n(1001),o=(0,l.Z)(s,r,a,!1,null,null,null),c=o.exports},482:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.error?n("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),n("Loading",{attrs:{value:e.loading}}),n("v-card",{staticClass:"pa-3",attrs:{loading:e.fetching}},[n("v-list",[n("v-list-item-group",[e._l(e.data.variables,(function(t,r){return[n("v-list-item",{key:"item-"+r,attrs:{value:t},on:{click:function(n){return e.editItem(t)}},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[!1===t.active?n("v-icon",[e._v("block")]):e._e(),e._v(" "+e._s(t.name)+" ")],1),n("v-list-item-subtitle",[e._v(" "+e._s(t.value)+" ")])],1),n("v-list-item-action",[n("v-btn",{attrs:{icon:"",disabled:e.fetching,loading:e.fetching},on:{click:[function(n){return e.deleteItem(t.line)},function(e){e.stopPropagation()}]}},[n("v-icon",{attrs:{small:""}},[e._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1)],1),n("v-card",[n("div",[n("v-card-title",{attrs:{"primary-title":""}},[n("v-btn",{on:{click:function(t){return e.addItem()}}},[e._v(" Add variable ")])],1)],1)]),n("v-navigation-drawer",{attrs:{app:"",temporary:"",right:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-card",[n("v-form",{ref:"form"},[n("v-card-title",[e._v(" Variable ")]),n("v-card-text",[n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"Line"},model:{value:e.item.line,callback:function(t){e.$set(e.item,"line",t)},expression:"item.line"}}),n("v-text-field",{attrs:{label:"Name",required:"",rules:[e.rules.required,e.rules.alphanumeric]},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),n("v-text-field",{attrs:{label:"Value",required:"",rules:[e.rules.required,e.rules.alphanumeric]},model:{value:e.item.value,callback:function(t){e.$set(e.item,"value",t)},expression:"item.value"}}),n("v-btn",{attrs:{disabled:e.fetching,loading:e.fetching,color:"success"},on:{click:e.saveItem}},[e._v(" Save ")])],1)],1)],1)],1)],1)},a=[],i=(n(74916),n(77601),n(41539),n(68309),n(38862),n(4296)),s=n(84285),l={components:{Loading:s.Z},data:function(){return{error:"",fetching:!1,loading:!1,drawer:!1,data:{users:{}},item:{name:"",value:""},variables:[],rules:{required:function(e){return!!e||"Required."},alphanumeric:function(e){return/^[a-zA-Z0-9-_]+$/g.test(e)||"Must contain a-z characters only"}}}},created:function(){this.siteId=this.$route.params.id,this.fetchData()},methods:{fetchData:function(){var e=this;this.error="",this.fetching=!0,i.Z.get("sites/"+this.siteId+"/variables").then((function(t){if(console.log(t),t.data.error)return e.error=t.data.error,!1;e.data=t.data.item,document.title="Variables | "+e.data.name})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1}))},addItem:function(){this.item={},this.drawer=!0},editItem:function(e){this.item=JSON.parse(JSON.stringify(e)),this.drawer=!0},deleteItem:function(e){var t=this;this.$confirm("Delete variaable").then((function(n){if(n){var r=t;t.fetching=!0,t.error="",i.Z.post("sites/"+t.siteId+"/variables",{line:e}).then((function(e){console.log(e),e.data.success?r.fetchData():(r.fetching=!1,r.error=e.data.error)})).catch((function(e){r.fetching=!1,console.log(e)}))}}))},saveItem:function(){var e=this;this.error="",this.$refs.form.validate()&&(this.fetching=!0,i.Z.post("sites/"+this.siteId+"/variables",this.item).then((function(t){console.log(t),t.data.error?(e.fetching=!1,e.error=t.data.error):(e.drawer=!1,e.fetchData())})).catch((function(t){e.fetching=!1,console.log(t)})))}}},o=l,c=n(1001),u=(0,c.Z)(o,r,a,!1,null,null,null),d=u.exports},22261:function(e,t,n){"use strict";var r=n(46916),a=n(1702),i=n(41340),s=n(67066),l=n(52999),o=n(72309),c=n(70030),u=n(29909).get,d=n(9441),f=n(38173),v=o("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,g=h,m=a("".charAt),p=a("".indexOf),x=a("".replace),b=a("".slice),I=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=l.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],k=I||y||_||d||f;k&&(g=function(e){var t,n,a,l,o,d,f,k=this,w=u(k),E=i(e),R=w.raw;if(R)return R.lastIndex=k.lastIndex,t=r(g,R,E),k.lastIndex=R.lastIndex,t;var S=w.groups,$=_&&k.sticky,C=r(s,k),Z=k.source,A=0,D=E;if($&&(C=x(C,"y",""),-1===p(C,"g")&&(C+="g"),D=b(E,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==m(E,k.lastIndex-1))&&(Z="(?: "+Z+")",D=" "+D,A++),n=new RegExp("^(?:"+Z+")",C)),y&&(n=new RegExp("^"+Z+"$(?!\\s)",C)),I&&(a=k.lastIndex),l=r(h,$?n:k,D),$?l?(l.input=b(l.input,A),l[0]=b(l[0],A),l.index=k.lastIndex,k.lastIndex+=l[0].length):k.lastIndex=0:I&&l&&(k.lastIndex=k.global?l.index+l[0].length:a),y&&l&&l.length>1&&r(v,l[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(l[o]=void 0)})),l&&S)for(l.groups=d=c(null),o=0;o<S.length;o++)f=S[o],d[f[0]]=l[f[1]];return l}),e.exports=g},67066:function(e,t,n){"use strict";var r=n(19670);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},52999:function(e,t,n){var r=n(47293),a=n(17854),i=a.RegExp,s=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),l=s||r((function(){return!i("a","y").sticky})),o=s||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:l,UNSUPPORTED_Y:s}},9441:function(e,t,n){var r=n(47293),a=n(17854),i=a.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:function(e,t,n){var r=n(47293),a=n(17854),i=a.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},74916:function(e,t,n){"use strict";var r=n(82109),a=n(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},77601:function(e,t,n){"use strict";n(74916);var r=n(82109),a=n(17854),i=n(46916),s=n(1702),l=n(60614),o=n(70111),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=a.Error,d=s(/./.test);r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=this.exec;if(!l(t))return d(this,e);var n=i(t,this,e);if(null!==n&&!o(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})}}]);
//# sourceMappingURL=482-legacy.b40a89b5.js.map