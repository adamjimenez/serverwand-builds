"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[4848],{81815:function(e,n,t){t.d(n,{A:function(){return u}});var a=t(20641);function o(e,n,t,o,r,i){var d=(0,a.g2)("v-icon"),u=(0,a.g2)("v-alert"),l=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.Wv)(l,{modelValue:e.show,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.show=n}),persistent:"",width:"600"},{default:(0,a.k6)((function(){return[(0,a.bF)(u,{title:t.message,color:"primary"},{prepend:(0,a.k6)((function(){return[(0,a.bF)(d,{icon:"fas fa-magic fa-2x faa-horizontal animated"})]})),_:1},8,["title"])]})),_:1},8,["modelValue"])}var r={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},i=t(66262);const d=(0,i.A)(r,[["render",o]]);var u=d},44848:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(20641);function o(e,n,t,o,r,i){var d=(0,a.g2)("v-alert"),u=(0,a.g2)("Loading"),l=(0,a.g2)("v-card-title"),s=(0,a.g2)("v-text-field"),c=(0,a.g2)("v-btn"),f=(0,a.g2)("v-form"),m=(0,a.g2)("v-card-text"),v=(0,a.g2)("v-card"),h=(0,a.g2)("Domain");return(0,a.uX)(),(0,a.CE)("div",null,[e.error?((0,a.uX)(),(0,a.Wv)(d,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.Q3)("",!0),(0,a.bF)(u,{value:e.loading},null,8,["value"]),(0,a.bF)(v,null,{default:(0,a.k6)((function(){return[(0,a.bF)(l,null,{default:(0,a.k6)((function(){return n[2]||(n[2]=[(0,a.eW)("Domain details")])})),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)((function(){return[e.loading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(f,{key:0,ref:"form",modelValue:e.valid,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.valid=n}),"lazy-validation":""},{default:(0,a.k6)((function(){return[(0,a.bF)(s,{disabled:e.domainId>0,modelValue:e.data.domain,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.data.domain=n}),rules:e.domainRules,label:"Domain",required:"",autofocus:""},null,8,["disabled","modelValue","rules"]),(0,a.bF)(c,{disabled:e.domainId>0||!e.data.domain,loading:e.loading,color:"success",onClick:i.validate},{default:(0,a.k6)((function(){return n[3]||(n[3]=[(0,a.eW)(" Save ")])})),_:1},8,["disabled","loading","onClick"])]})),_:1},8,["modelValue"]))]})),_:1})]})),_:1}),(0,a.bF)(h,{ref:"Domain"},null,512)])}t(44114),t(26099);var r=t(74300),i=t(81815);function d(e,n,t,o,r,i){var d=(0,a.g2)("v-alert"),u=(0,a.g2)("Loading"),l=(0,a.g2)("v-btn"),s=(0,a.g2)("v-card-text"),c=(0,a.g2)("v-card"),f=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.CE)("div",null,[e.error?((0,a.uX)(),(0,a.Wv)(d,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.Q3)("",!0),(0,a.bF)(u,{value:e.loading},null,8,["value"]),(0,a.bF)(f,{modelValue:e.authRequired,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.authRequired=n})},{default:(0,a.k6)((function(){return[(0,a.bF)(c,{title:"Auth required"},{default:(0,a.k6)((function(){return[(0,a.bF)(s,null,{default:(0,a.k6)((function(){return[(0,a.bF)(l,{onClick:n[0]||(n[0]=function(e){return i.authPrompt()})},{default:(0,a.k6)((function(){return n[2]||(n[2]=[(0,a.eW)(" Continue ")])})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}var u={components:{Loading:i.A},name:"Domain",data:function(){return{loading:!1,error:"",newWindow:!1,provider:"linode",authRequired:!1}},methods:{create:function(e){var n=this;this.loading=!0,r.A.post("domains/create",e).then((function(t){if(t.data.domain_id)n.$router.push("/domains/"+t.data.domain_id+"/summary");else if(t.data.error)if("auth"===t.data.error){n.provider=t.data.provider,n.authRequired=!0;var a=setInterval((function(){if(n.newWindow&&n.newWindow.closed)return clearInterval(a),void n.create(e)}),500)}else n.error=t.data.error})).catch((function(e){console.log(e)})).finally((function(){n.loading=!1}))},authPrompt:function(){this.authRequired=!1,this.newWindow=window.open("https://serverwand.com/account/services/"+this.provider)}}},l=t(66262);const s=(0,l.A)(u,[["render",d]]);var c=s,f={components:{Loading:i.A,Domain:c},data:function(){return{loading:!1,valid:!0,data:{domain:"",dns:!0},domainRules:[function(e){return!!e||"Domain is required"}],passwordRules:[],servers:[],dnsProviders:{},details:"",error:"",authRequired:!1}},created:function(){document.title="Domain details",this.domainId=parseInt(this.$route.params.id),this.fetchData()},methods:{fetchData:function(){var e=this;this.error="",this.loading=!1,r.A.get("domains/"+this.domainId).then((function(n){console.log(n),e.domainId&&(e.data=n.data.item)})).catch((function(e){return console.log(e)})).finally((function(){return e.loading=!1}))},save:function(){var e=this;this.error="",this.details="",this.loading=!0,console.log(arguments),this.domainId?r.A.post("domains/"+this.domainId+"/update",this.data).then((function(n){console.log(n),e.$router.push("/domains/"+e.domainId+"/summary")})).catch((function(e){return console.log(e)})):(this.loading=!1,this.$refs.Domain.create(this.data))},validate:function(){this.$refs.form.validate()&&this.save()}}};const m=(0,l.A)(f,[["render",o]]);var v=m}}]);
//# sourceMappingURL=4848-legacy.310414f7.js.map