"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[2361],{81815:function(e,a,l){l.d(a,{A:function(){return n}});var r=l(20641);function t(e,a,l,t,d,o){const u=(0,r.g2)("v-icon"),n=(0,r.g2)("v-alert"),i=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.Wv)(i,{modelValue:e.show,"onUpdate:modelValue":a[0]||(a[0]=a=>e.show=a),persistent:"",width:"600"},{default:(0,r.k6)((()=>[(0,r.bF)(n,{title:l.message,color:"primary"},{prepend:(0,r.k6)((()=>[(0,r.bF)(u,{icon:"fas fa-magic fa-2x faa-horizontal animated"})])),_:1},8,["title"])])),_:1},8,["modelValue"])}var d={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},o=l(66262);const u=(0,o.A)(d,[["render",t]]);var n=u},42361:function(e,a,l){l.r(a),l.d(a,{default:function(){return c}});var r=l(20641),t=l(90033);function d(e,a,l,d,o,u){const n=(0,r.g2)("v-alert"),i=(0,r.g2)("Loading"),s=(0,r.g2)("v-text-field"),c=(0,r.g2)("v-btn"),m=(0,r.g2)("v-form"),h=(0,r.g2)("v-card-text"),p=(0,r.g2)("v-card");return(0,r.uX)(),(0,r.CE)("div",null,[e.error?((0,r.uX)(),(0,r.Wv)(n,{key:0,type:"error"},{default:(0,r.k6)((()=>[(0,r.eW)((0,t.v_)(e.error),1)])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(i,{value:e.loading},null,8,["value"]),e.serverId?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(p,{key:1,title:"User details"},{default:(0,r.k6)((()=>[(0,r.bF)(h,null,{default:(0,r.k6)((()=>[e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(m,{key:0,modelValue:e.valid,"onUpdate:modelValue":a[9]||(a[9]=a=>e.valid=a),"lazy-validation":""},{default:(0,r.k6)((()=>[(0,r.bF)(s,{modelValue:e.data.company,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.company=a),label:"Company",required:"",autofocus:""},null,8,["modelValue"]),(0,r.bF)(s,{modelValue:e.data.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.name=a),rules:e.requiredRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.surname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.surname=a),rules:e.requiredRules,label:"Surname",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.email=a),rules:e.emailRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.password,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.password=a),rules:e.requiredRules,label:"Password",type:"password",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.address,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data.address=a),rules:e.requiredRules,label:"Address",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.city,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data.city=a),rules:e.requiredRules,label:"City",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.postcode,"onUpdate:modelValue":a[7]||(a[7]=a=>e.data.postcode=a),rules:e.requiredRules,label:"Postcode",required:""},null,8,["modelValue","rules"]),(0,r.bF)(s,{modelValue:e.data.tel,"onUpdate:modelValue":a[8]||(a[8]=a=>e.data.tel=a),rules:e.requiredRules,label:"Telephone",required:""},null,8,["modelValue","rules"]),(0,r.bF)(c,{disabled:!e.valid,loading:e.loading,color:"success",onClick:u.validate},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.eW)(" Save ")]))),_:1},8,["disabled","loading","onClick"])])),_:1},8,["modelValue"]))])),_:1})])),_:1}))])}l(44114);var o=l(74300),u=l(81815),n={components:{Loading:u.A},data:()=>({loading:!1,valid:!0,data:{name:""},requiredRules:[e=>!!e||"Required"],emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],details:"",serverId:0,error:""}),created(){document.title="User details",this.id=this.$route.params.id,this.fetchData()},methods:{fetchData(){this.error="",this.loading=!0,o.A.get("users/"+this.id).then((e=>{console.log(e),this.id&&(this.data=e.data.item)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))},validate(){this.details="",this.loading=!0,o.A.post("users/"+this.id,this.data).then((e=>{console.log(e),e.data.id?this.$router.push("/users/"+e.data.id+"/summary"):e.data.error&&(this.error=e.data.error)})).catch((e=>{console.log(e)})).finally((()=>{this.loading=!1}))}}},i=l(66262);const s=(0,i.A)(n,[["render",d]]);var c=s},34527:function(e,a,l){var r=l(43724),t=l(34376),d=TypeError,o=Object.getOwnPropertyDescriptor,u=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=u?function(e,a){if(t(e)&&!o(e,"length").writable)throw new d("Cannot set read only .length");return e.length=a}:function(e,a){return e.length=a}},96837:function(e){var a=TypeError,l=9007199254740991;e.exports=function(e){if(e>l)throw a("Maximum allowed index exceeded");return e}},34376:function(e,a,l){var r=l(22195);e.exports=Array.isArray||function(e){return"Array"===r(e)}},44114:function(e,a,l){var r=l(46518),t=l(48981),d=l(26198),o=l(34527),u=l(96837),n=l(79039),i=n((function(){return 4294967297!==[].push.call({length:4294967296},1)})),s=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},c=i||!s();r({target:"Array",proto:!0,arity:1,forced:c},{push:function(e){var a=t(this),l=d(a),r=arguments.length;u(l+r);for(var n=0;n<r;n++)a[l]=arguments[n],l++;return o(a,l),l}})}}]);
//# sourceMappingURL=2361.1a1629d5.js.map