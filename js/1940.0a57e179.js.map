{"version":3,"file":"js/1940.0a57e179.js","mappings":"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","sources":["webpack://ServerWand/./src/components/Loading.vue","webpack://ServerWand/./src/components/Loading.vue?1ccf","webpack://ServerWand/./src/components/SiteIcon.vue","webpack://ServerWand/./src/components/SiteIcon.vue?5050","webpack://ServerWand/./src/views/Sites.vue","webpack://ServerWand/./src/views/Sites.vue?d3a5"],"sourcesContent":["<template>\n  <v-dialog v-model=\"show\" persistent width=\"600\">\n    <v-alert :title=\"message\" color=\"primary\">\n      <template v-slot:prepend>\n        <v-icon icon=\"fas fa-magic fa-2x faa-horizontal animated\"></v-icon>\n      </template>\n    </v-alert>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"Loading\",\n  data: () => {\n    return {\n      show: false\n    }\n  },\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n    message: {\n      type: String,\n      default: \"Summoning...\",\n    },\n  },\n  watch: {\n    value: function (newVal) {\n      this.show = newVal;\n    }\n  }\n};\n</script>\n\n<style>\n.v-dialog.centered-dialog {\n  box-shadow: none;\n  border-radius: 0;\n  width: auto;\n}\n</style>","import { render } from \"./Loading.vue?vue&type=template&id=d2c3f588\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\n\nimport \"./Loading.vue?vue&type=style&index=0&id=d2c3f588&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <v-icon v-if=\"app === 'wordpress'\" @click.stop=\"openLink\">fab fa-wordpress</v-icon>\n    <v-icon v-else-if=\"app === 'git'\">fab fa-git</v-icon>\n    <v-icon v-else-if=\"app === 'node'\">fab fa-node-js</v-icon>\n    <v-icon v-else-if=\"app === 'joomla'\">fab fa-joomla</v-icon>\n    <v-icon v-else-if=\"app === 'drupal'\">fab fa-drupal</v-icon>\n    <v-icon v-else-if=\"app === 'magento'\">fab fa-magento</v-icon>\n    <v-icon v-else-if=\"app === 'roundcube'\">fas fa-envelope</v-icon>\n    <v-icon v-else-if=\"app === 'shiftlib'\">fas fa-user-edit</v-icon>\n    <v-icon v-else>fas fa-sitemap</v-icon>\n</template>\n\n<script>\nexport default {\n  props: {\n    app: null,\n    to: null,\n  },\n  methods: {\n    openLink() {\n      if (this.to) {\n        window.open(this.to);\n      }\n    },\n  }\n};\n</script>","import { render } from \"./SiteIcon.vue?vue&type=template&id=7f1f5cd8\"\nimport script from \"./SiteIcon.vue?vue&type=script&lang=js\"\nexport * from \"./SiteIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-layout row>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-alert v-if=\"error\" type=\"error\" :text=\"error\"></v-alert>\n\n        <Loading :value=\"loading\" />\n\n        <v-card flat :loading=\"fetching\">\n          <v-card flat>\n            <v-card-text>\n              <v-select v-model=\"server\" :items=\"server_opts\" label=\"Server\" hide-details clearable></v-select>\n            </v-card-text>\n          </v-card>\n\n          <v-data-table :headers=\"headers\" :items=\"filtered\">\n            <template v-slot:item.domain=\"{ item }\">\n              <v-list-item :to=\"'/sites/' + item.id + '/summary'\" :title=\"item.domain\" :subtitle=\"servers[item.server]\"\n                class=\"px-0\">\n                <template v-slot:prepend v-if=\"display.smAndUp\">\n                  <SiteIcon :app=\"item.app\"></SiteIcon>\n                </template>\n              </v-list-item>\n            </template>\n            <template v-slot:item.usage=\"{ item }\">\n              <div v-if=\"item.usage > 0\">\n                {{ prettyBytes(item.usage * 1024) }}\n              </div>\n            </template>\n            <template v-slot:item.transfer=\"{ item }\">\n              <div v-if=\"item.transfer > 0\">\n                {{ prettyBytes(item.transfer * 1024) }}\n              </div>\n            </template>\n          </v-data-table>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-layout>\n</template>\n\n<script>\nimport api from \"../services/api\";\nimport util from \"../services/util\";\nimport Loading from \"../components/Loading\";\nimport SiteIcon from \"../components/SiteIcon\";\n\nexport default {\n  components: {\n    Loading,\n    SiteIcon,\n  },\n  data() {\n    return {\n      fetching: false,\n      loading: false,\n      error: \"\",\n      filtered: [],\n      items: [],\n      servers: {},\n      server: null,\n      server_opts: [],\n      searchPanel: [false],\n      search: \"\",\n      selected: [],\n\t\t\tdisplay: {},\n    };\n  },\n  computed: {\n    headers: function () {\n      var items = [{\n        title: \"Site\",\n        key: \"domain\",\n      }];\n\n      if (this.display.smAndUp) {\n        items.push({\n          title: \"IP\",\n          key: \"ip\",\n        });\n      }\n\n      if (this.display.mdAndUp) {\n        items.push({\n          title: \"MX\",\n          key: \"mx\",\n        }, {\n          title: \"MX\",\n          key: \"mx\",\n        });\n      }\n\n      if (this.display.lgAndUp) {\n        items.push({\n          title: \"Size\",\n          key: \"usage\",\n        }, {\n          title: \"Transfer\",\n          key: \"transfer\",\n        });\n      }\n\n      return items;\n    }\n  },\n  created() {;\n\t\tthis.display = this.$vuetify.display;\n\n    document.title = \"Sites\";\n    this.fetchData();\n  },\n  watch: {\n    server: function () {\n      this.filtered = [];\n\n      this.items.forEach((element) => {\n        if (!this.server || element.server == this.server) {\n          this.filtered.push(element);\n        }\n      });\n\n      if (this.server) {\n        localStorage.server = this.server;\n      } else {\n        delete localStorage.server;\n      }\n    },\n  },\n  methods: {\n    fetchData() {\n      this.error = \"\";\n      this.fetching = true;\n\n      api\n        .get(\"sites/\")\n        .then((response) => {\n          console.log(response);\n\n          if (response.data.error) {\n            this.error = response.data.error;\n            return false;\n          }\n\n          this.items = response.data.items;\n\n          response.data.items.forEach((element) => {\n            this.filtered.push(element);\n          });\n\n          api.get(\"servers/\").then((response) => {\n            response.data.items.forEach((element) => {\n              this.server_opts.push({\n                title: element.name,\n                value: element.id,\n              });\n              this.servers[element.id] = element.name\n            });\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          this.fetching = false;\n\n          if (localStorage.server) this.server = localStorage.server;\n        });\n    },\n    prettyBytes(value) {\n      return util.prettyBytes(value);\n    },\n  },\n};\n</script>","import { render } from \"./Sites.vue?vue&type=template&id=8d70f566\"\nimport script from \"./Sites.vue?vue&type=script&lang=js\"\nexport * from \"./Sites.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_dialog","modelValue","_ctx","show","_cache","$event","persistent","width","default","_withCtx","_createVNode","_component_v_alert","title","$props","message","color","prepend","_component_v_icon","icon","_","name","data","props","value","type","Boolean","String","watch","newVal","this","__exports__","render","app","key","onClick","_withModifiers","$options","openLink","_createTextVNode","to","methods","window","open","_component_v_layout","row","_component_v_row","_component_v_col","cols","$data","error","text","_createCommentVNode","_component_Loading","loading","_component_v_card","flat","fetching","_component_v_card_text","_component_v_select","server","items","server_opts","label","clearable","_component_v_data_table","headers","filtered","item","_component_v_list_item","id","domain","subtitle","servers","class","_createSlots","display","smAndUp","fn","_component_SiteIcon","undefined","usage","_createElementBlock","_hoisted_1","_toDisplayString","prettyBytes","transfer","_hoisted_2","components","Loading","SiteIcon","searchPanel","search","selected","computed","push","mdAndUp","lgAndUp","created","$vuetify","document","fetchData","forEach","element","localStorage","api","get","then","response","console","log","catch","finally","util"],"sourceRoot":""}