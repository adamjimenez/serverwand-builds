"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[8124],{74377:function(e,t,a){a.d(t,{Z:function(){return f}});var r=a(66252),l=a(3577);const s=(0,r._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),n={class:"ml-2"};function o(e,t,a,o,i,u){const d=(0,r.up)("v-layout"),f=(0,r.up)("v-card-text"),p=(0,r.up)("v-card"),c=(0,r.up)("v-container"),m=(0,r.up)("v-dialog");return(0,r.wg)(),(0,r.j4)(m,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.show=t),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{"fill-height":""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{color:"primary"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{row:""},{default:(0,r.w5)((()=>[s,(0,r._)("h2",n,(0,l.zw)(a.message),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var i={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},u=a(48118);const d=(0,u.Z)(i,[["render",o]]);var f=d},88867:function(e,t,a){a.d(t,{Z:function(){return i}});var r=a(66252);function l(e,t,a,l,s,n){const o=(0,r.up)("v-icon");return"wordpress"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:0},{default:(0,r.w5)((()=>[(0,r.Uk)("fab fa-wordpress")])),_:1})):"git"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:1},{default:(0,r.w5)((()=>[(0,r.Uk)("fab fa-git")])),_:1})):"node"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:2},{default:(0,r.w5)((()=>[(0,r.Uk)("fab fa-node-js")])),_:1})):"joomla"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:3},{default:(0,r.w5)((()=>[(0,r.Uk)("fab fa-joomla")])),_:1})):"drupal"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:4},{default:(0,r.w5)((()=>[(0,r.Uk)("fab fa-drupal")])),_:1})):"magento"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:5},{default:(0,r.w5)((()=>[(0,r.Uk)("fab fa-magento")])),_:1})):"roundcube"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:6},{default:(0,r.w5)((()=>[(0,r.Uk)("fas fa-envelope")])),_:1})):"shiftlib"===a.app?((0,r.wg)(),(0,r.j4)(o,{key:7},{default:(0,r.w5)((()=>[(0,r.Uk)("fas fa-user-edit")])),_:1})):((0,r.wg)(),(0,r.j4)(o,{key:8},{default:(0,r.w5)((()=>[(0,r.Uk)("fas fa-sitemap")])),_:1}))}var s={props:{app:null}},n=a(48118);const o=(0,n.Z)(s,[["render",l]]);var i=o},28124:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var r=a(66252),l=a(3577);const s={key:0};function n(e,t,a,n,o,i){const u=(0,r.up)("v-alert"),d=(0,r.up)("Loading"),f=(0,r.up)("v-select"),p=(0,r.up)("v-card-text"),c=(0,r.up)("v-card"),m=(0,r.up)("SiteIcon"),v=(0,r.up)("v-list-item"),w=(0,r.up)("v-data-table"),h=(0,r.up)("v-col"),g=(0,r.up)("v-row"),k=(0,r.up)("v-layout");return(0,r.wg)(),(0,r.j4)(k,{row:""},{default:(0,r.w5)((()=>[(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(h,{cols:"12"},{default:(0,r.w5)((()=>[o.error?((0,r.wg)(),(0,r.j4)(u,{key:0,type:"error",text:o.error},null,8,["text"])):(0,r.kq)("",!0),(0,r.Wm)(d,{value:o.loading},null,8,["value"]),(0,r.Wm)(c,{flat:"",loading:o.fetching,title:"Sites"},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{flat:""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{modelValue:o.server,"onUpdate:modelValue":t[0]||(t[0]=e=>o.server=e),items:o.server_opts,label:"Server"},null,8,["modelValue","items"])])),_:1})])),_:1}),(0,r.Wm)(w,{headers:i.headers,items:o.filtered,class:"results"},{"item.domain":(0,r.w5)((({item:e})=>[(0,r.Wm)(v,{to:"/sites/"+e.raw.id+"/summary",title:e.raw.domain,subtitle:o.servers[e.raw.server]},{prepend:(0,r.w5)((()=>[(0,r.Wm)(m,{app:e.raw.app},null,8,["app"])])),_:2},1032,["to","title","subtitle"])])),"item.usage":(0,r.w5)((({item:e})=>[e.raw.usage>0?((0,r.wg)(),(0,r.iD)("div",s,(0,l.zw)(i.prettyBytes(1024*e.raw.usage)),1)):(0,r.kq)("",!0)])),_:1},8,["headers","items"])])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})}var o=a(1006),i=a(72564),u=a(74377),d=a(88867),f=a(5455),p={components:{Loading:u.Z,SiteIcon:d.Z},data(){return{fetching:!1,loading:!1,error:"",filtered:[],items:[],servers:{},server:"*",server_opts:[{title:"All",value:"*"}],searchPanel:[!1],search:"",selected:[]}},computed:{mobile:function(){const{mobile:e}=(0,f.AW)();return e.value},headers:function(){var e=[{title:"Domain",key:"domain"}];return this.mobile||e.push({title:"IP",key:"ip"},{title:"MX",key:"mx"},{title:"Size",key:"usage"}),e}},created(){document.title="Sites",this.fetchData()},watch:{server:function(){this.filtered=[],this.items.forEach((e=>{"*"!==this.server&&e.server!=this.server||this.filtered.push(e)})),localStorage.server=this.server}},methods:{fetchData(){var e=this;this.error="",this.fetching=!0,o.Z.get("sites/").then((function(t){if(console.log(t),t.data.error)return e.error=t.data.error,!1;e.items=t.data.items,t.data.items.forEach((t=>{e.filtered.push(t)})),o.Z.get("servers/").then((function(t){t.data.items.forEach((t=>{e.server_opts.push({title:t.name,value:t.id}),e.servers[t.id]=t.name}))}))})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1,localStorage.server&&(e.server=localStorage.server)}))},prettyBytes(e){return i.Z.prettyBytes(e)}}},c=a(48118);const m=(0,c.Z)(p,[["render",n]]);var v=m}}]);
//# sourceMappingURL=8124.aa8901ca.js.map