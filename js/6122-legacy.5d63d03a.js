"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[6122],{81815:function(e,t,n){n.d(t,{A:function(){return u}});var r=n(20641);function i(e,t,n,i,a,l){var o=(0,r.g2)("v-icon"),u=(0,r.g2)("v-alert"),d=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.Wv)(d,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.show=t}),persistent:"",width:"600"},{default:(0,r.k6)((function(){return[(0,r.bF)(u,{title:n.message,color:"primary"},{prepend:(0,r.k6)((function(){return[(0,r.bF)(o,{icon:"fas fa-magic fa-2x faa-horizontal animated"})]})),_:1},8,["title"])]})),_:1},8,["modelValue"])}var a={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},l=n(66262);const o=(0,l.A)(a,[["render",i]]);var u=o},56458:function(e,t,n){n.d(t,{A:function(){return u}});var r=n(20641);function i(e,t,n,i,a,l){var o=(0,r.g2)("v-icon");return"linode"===n.provider?((0,r.uX)(),(0,r.Wv)(o,{key:0},{default:(0,r.k6)((function(){return t[0]||(t[0]=[(0,r.eW)("fab fa-linode")])})),_:1})):"digitalocean"===n.provider?((0,r.uX)(),(0,r.Wv)(o,{key:1},{default:(0,r.k6)((function(){return t[1]||(t[1]=[(0,r.eW)("fab fa-digital-ocean")])})),_:1})):((0,r.uX)(),(0,r.Wv)(o,{key:2},{default:(0,r.k6)((function(){return t[2]||(t[2]=[(0,r.eW)("fas fa-server")])})),_:1}))}var a={props:{provider:null}},l=n(66262);const o=(0,l.A)(a,[["render",i]]);var u=o},16122:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});n(44114),n(62010);var r=n(20641),i=n(90033),a={key:0},l={key:0},o={key:0},u={key:1},d={key:2};function c(e,t,n,c,f,s){var v=(0,r.g2)("v-alert"),m=(0,r.g2)("Loading"),p=(0,r.g2)("v-list-item"),h=(0,r.g2)("v-select"),g=(0,r.g2)("v-col"),k=(0,r.g2)("v-row"),b=(0,r.g2)("v-container"),y=(0,r.g2)("ServerIcon"),_=(0,r.g2)("v-icon"),F=(0,r.g2)("v-data-table"),W=(0,r.g2)("router-link"),X=(0,r.g2)("v-list-item-title"),w=(0,r.g2)("v-list"),A=(0,r.g2)("v-card"),V=(0,r.g2)("v-layout");return(0,r.uX)(),(0,r.Wv)(V,{row:""},{default:(0,r.k6)((function(){return[(0,r.bF)(k,null,{default:(0,r.k6)((function(){return[(0,r.bF)(g,{cols:"12"},{default:(0,r.k6)((function(){return[f.error?((0,r.uX)(),(0,r.Wv)(v,{key:0,type:"error",text:f.error},null,8,["text"])):(0,r.Q3)("",!0),(0,r.bF)(m,{value:f.loading},null,8,["value"]),(0,r.bF)(A,{loading:f.fetching},{default:(0,r.k6)((function(){return[f.items.length?((0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(b,{fluid:""},{default:(0,r.k6)((function(){return[(0,r.bF)(k,null,{default:(0,r.k6)((function(){return[(0,r.bF)(g,null,{default:(0,r.k6)((function(){return[(0,r.bF)(h,{modelValue:f.provider,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.provider=e}),items:f.provider_opts,label:"Provider","hide-details":"",clearable:""},{item:(0,r.k6)((function(e){var t,n,i=e.props,a=e.item;return[(0,r.bF)(p,(0,r.v6)(i,{"prepend-icon":null===a||void 0===a||null===(t=a.raw)||void 0===t?void 0:t.icon,title:null===a||void 0===a||null===(n=a.raw)||void 0===n?void 0:n.title}),null,16,["prepend-icon","title"])]})),_:1},8,["modelValue","items"])]})),_:1}),(0,r.bF)(g,null,{default:(0,r.k6)((function(){return[(0,r.bF)(h,{modelValue:f.team,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.team=e}),items:f.teams,"item-title":"name","item-value":"id",label:"Team","hide-details":"",clearable:""},null,8,["modelValue","items"])]})),_:1})]})),_:1})]})),_:1}),(0,r.bF)(F,{headers:s.headers,items:s.filtered,"items-per-page":100,hover:"","onClick:row":t[2]||(t[2]=function(t,n){e.$router.push("/servers/"+n.item.id+"/summary")}),"fixed-header":"",style:{height:"calc(100vh - 200px)",overflow:"auto"}},{"item.name":(0,r.k6)((function(e){var t=e.item;return[(0,r.bF)(p,{title:t.name,subtitle:t.hostname,class:"px-0"},(0,r.eX)({_:2},[f.display.mobile?void 0:{name:"prepend",fn:(0,r.k6)((function(){return[(0,r.bF)(y,{provider:t.provider},null,8,["provider"])]})),key:"0"}]),1032,["title","subtitle"])]})),"item.connected":(0,r.k6)((function(e){var n=e.item;return[(0,r.bF)(p,null,{prepend:(0,r.k6)((function(){var e;return[0==n.connected?((0,r.uX)(),(0,r.Wv)(_,{key:0,color:"error"},{default:(0,r.k6)((function(){return t[3]||(t[3]=[(0,r.eW)(" fa-solid fa-circle ")])})),_:1})):null!==(e=n.health)&&void 0!==e&&e.length?((0,r.uX)(),(0,r.Wv)(_,{key:1,color:"warning"},{default:(0,r.k6)((function(){return t[4]||(t[4]=[(0,r.eW)("fas fa-exclamation-triangle fa-beat")])})),_:1})):((0,r.uX)(),(0,r.Wv)(_,{key:2,color:"success"},{default:(0,r.k6)((function(){return t[5]||(t[5]=[(0,r.eW)(" fa-solid fa-circle ")])})),_:1}))]})),default:(0,r.k6)((function(){var e,t,a;return[f.display.mobile?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",l,[0==n.connected?((0,r.uX)(),(0,r.CE)("span",o," Unavailable ")):null!==(e=n.health)&&void 0!==e&&e.length?((0,r.uX)(),(0,r.CE)("span",u,(0,i.v_)(null===(t=n.health)||void 0===t?void 0:t.length)+" issue"+(0,i.v_)(1!==(null===(a=n.health)||void 0===a?void 0:a.length)?"s":""),1)):((0,r.uX)(),(0,r.CE)("span",d," Connected "))]))]})),_:2},1024)]})),_:1},8,["headers","items"])])):((0,r.uX)(),(0,r.Wv)(w,{key:1},{default:(0,r.k6)((function(){return[(0,r.bF)(p,null,{default:(0,r.k6)((function(){return[(0,r.bF)(X,null,{default:(0,r.k6)((function(){return[(0,r.bF)(W,{to:"/servers/create"},{default:(0,r.k6)((function(){return t[6]||(t[6]=[(0,r.eW)(" Add a server ")])})),_:1})]})),_:1})]})),_:1})]})),_:1}))]})),_:1},8,["loading"])]})),_:1})]})),_:1})]})),_:1})}n(26099),n(98992),n(3949),n(23500);var f=n(74300),s=n(81815),v=n(56458),m={components:{Loading:s.A,ServerIcon:v.A},data:function(){return{loading:!1,fetching:!1,error:null,items:[],team:null,teams:[],provider:null,provider_opts:[{title:"Linode",value:"linode",icon:"fab fa-linode"},{title:"Digital Ocean",value:"digitalocean",icon:"fab fa-digital-ocean"},{title:"Vultr",value:"vultr",icon:"fas fa-server"}],display:{}}},computed:{headers:function(){var e=[{title:"Server ",key:"name"},{title:"Status ",key:"connected"}];return this.display.smAndUp&&e.push({title:"Region ",key:"region"},{title:"Image ",key:"image"},{title:"Type ",key:"type"}),e},filtered:function(){var e=this,t=[];return this.items.forEach((function(n){if(!e.provider||n.provider===e.provider){if(e.team){var r=!1;if(e.teams.forEach((function(t){t.id==e.team&&t.servers.forEach((function(e){e.server==n.id&&(r=!0)}))})),!r)return}t.push(n)}})),t}},created:function(){this.display=this.$vuetify.display,document.title="Servers",this.fetchData()},methods:{fetchData:function(){var e=this;this.error="",this.fetching=!0,f.A.get("servers/").then((function(t){console.log(t),e.items=t.data.items})).catch((function(e){return console.log(e)})).finally((function(){return e.fetching=!1})),f.A.get("teams/").then((function(t){console.log(t),e.teams=t.data.items})).catch((function(e){return console.log(e)})).finally((function(){return e.fetching=!1}))}}},p=n(66262);const h=(0,p.A)(m,[["render",c]]);var g=h}}]);
//# sourceMappingURL=6122-legacy.5d63d03a.js.map