"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[5645],{81815:function(t,e,n){n.d(e,{A:function(){return i}});var r=n(20641);function a(t,e,n,a,l,o){var u=(0,r.g2)("v-icon"),i=(0,r.g2)("v-alert"),s=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.Wv)(s,{modelValue:t.show,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.show=e}),persistent:"",width:"600"},{default:(0,r.k6)((function(){return[(0,r.bF)(i,{title:n.message,color:"primary"},{prepend:(0,r.k6)((function(){return[(0,r.bF)(u,{icon:"fas fa-magic fa-2x faa-horizontal animated"})]})),_:1},8,["title"])]})),_:1},8,["modelValue"])}var l={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(t){this.show=t}}},o=n(66262);const u=(0,o.A)(l,[["render",a]]);var i=u},95645:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});n(62010);var r=n(20641),a=n(90033),l={class:"text-start"},o={class:"text-start"},u=["onClick"],i={class:"text-start"},s={class:"text-start"},d={class:"text-start"};function c(t,e,n,c,f,g){var h=(0,r.g2)("v-alert"),v=(0,r.g2)("Loading"),p=(0,r.g2)("v-checkbox"),m=(0,r.g2)("v-list-item"),k=(0,r.g2)("v-switch"),b=(0,r.g2)("v-data-table"),_=(0,r.g2)("v-card-text"),y=(0,r.g2)("v-card"),F=(0,r.g2)("v-btn"),w=(0,r.g2)("v-card-title"),V=(0,r.g2)("v-textarea"),L=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.CE)("div",null,[f.error?((0,r.uX)(),(0,r.Wv)(h,{key:0,type:"error",text:f.error},null,8,["text"])):(0,r.Q3)("",!0),(0,r.bF)(v,{value:f.loading},null,8,["value"]),(0,r.bF)(y,{loading:f.fetching},{default:(0,r.k6)((function(){return[f.items.length?((0,r.uX)(),(0,r.Wv)(b,{key:0,headers:f.headers,items:f.items,class:"results"},{body:(0,r.k6)((function(t){return[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.items,(function(t){return(0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("td",l,[(0,r.bF)(m,null,{default:(0,r.k6)((function(){return[(0,r.bF)(p,{modelValue:t.selected,"onUpdate:modelValue":function(e){return t.selected=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]),(0,r.Lk)("td",o,[(0,r.bF)(k,{modelValue:t.online,"onUpdate:modelValue":function(e){return t.online=e},label:"Online",onChange:function(e){return g.toggle(t)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]),(0,r.Lk)("td",{class:"text-start",onClick:function(e){return g.view(t)}},(0,a.v_)(t.pid),9,u),(0,r.Lk)("td",i,(0,a.v_)(t.name),1),(0,r.Lk)("td",s,(0,a.v_)(t.status),1),(0,r.Lk)("td",d,(0,a.v_)(t.port),1)])})),128))])]})),_:1},8,["headers","items"])):((0,r.uX)(),(0,r.Wv)(_,{key:1},{default:(0,r.k6)((function(){return e[2]||(e[2]=[(0,r.eW)(" No apps ")])})),_:1}))]})),_:1},8,["loading"]),(0,r.bF)(y,null,{default:(0,r.k6)((function(){return[(0,r.Lk)("div",null,[(0,r.bF)(w,{"primary-title":""},{default:(0,r.k6)((function(){return[(0,r.bF)(F,{onClick:e[0]||(e[0]=function(t){return g.deleteApps()}),disabled:!f.selected},{default:(0,r.k6)((function(){return e[3]||(e[3]=[(0,r.eW)(" Delete ")])})),_:1},8,["disabled"])]})),_:1})])]})),_:1}),(0,r.bF)(L,{app:"",modelValue:f.dialog,"onUpdate:modelValue":e[1]||(e[1]=function(t){return f.dialog=t})},{default:(0,r.k6)((function(){return[(0,r.bF)(y,null,{default:(0,r.k6)((function(){return[(0,r.bF)(w,null,{default:(0,r.k6)((function(){return e[4]||(e[4]=[(0,r.eW)(" Output Log: ")])})),_:1}),(0,r.bF)(_,null,{default:(0,r.k6)((function(){return[(0,r.bF)(V,{readonly:"",value:f.output_log,"auto-grow":""},null,8,["value"])]})),_:1})]})),_:1}),(0,r.bF)(y,null,{default:(0,r.k6)((function(){return[(0,r.bF)(w,null,{default:(0,r.k6)((function(){return e[5]||(e[5]=[(0,r.eW)(" Error Log: ")])})),_:1}),(0,r.bF)(_,null,{default:(0,r.k6)((function(){return[(0,r.bF)(V,{readonly:"",value:f.error_log,"auto-grow":""},null,8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}n(44114),n(26099),n(98992),n(3949),n(23500);var f=n(74300),g=n(81815),h={components:{Loading:g.A},data:function(){return{error:"",items:[],data:{},loading:!1,fetching:!1,dialog:!1,serverId:0,selected:!1,headers:[{title:"",key:""},{title:"",key:""},{title:"PID",key:"id"},{title:"Name",key:"name"},{title:"Status",key:"status"},{title:"Ports",key:"port"}],error_log:"",output_log:""}},watch:{items:{handler:function(t){for(var e=0;e<t.length;e++)if(t[e].selected)return void(this.selected=!0);this.selected=!1},deep:!0}},created:function(){this.serverId=this.$route.params.id,this.fetchData()},methods:{fetchData:function(){var t=this;this.error="",this.fetching=!0,f.A.get("servers/"+this.serverId+"/apps").then((function(e){if(console.log(e),e.data.error)return t.error=e.data.error,!1;t.data=e.data.item,t.items=e.data.apps,document.title="Apps | "+t.data.name})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))},toggle:function(t){var e=this;this.loading=!0,this.error="";var n=t.active?"start":"stop";f.A.post("servers/"+this.serverId+"/apps",{name:t.name,action:n}).then((function(t){console.log(t),t.data.success?e.fetchData():e.error=t.data.error})).catch((function(t){console.log(t)})).finally((function(){e.loading=!1}))},deleteApps:function(){var t=this;this.fetching=!0;var e=[];this.items.forEach((function(t){t.selected&&e.push(t)})),f.A.post("servers/"+this.serverId+"/apps",{ids:e}).then((function(){t.fetchData()})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))},view:function(t){this.dialog=!0,this.output_log=t.output_log,this.error_log=t.error_log}}},v=n(66262);const p=(0,v.A)(h,[["render",c]]);var m=p}}]);
//# sourceMappingURL=5645-legacy.17c809a7.js.map