{"version":3,"file":"js/1277-legacy.b73116e6.js","mappings":"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","sources":["webpack://ServerWand/./src/components/Loading.vue?4cdb","webpack://ServerWand/src/components/Loading.vue","webpack://ServerWand/./src/components/Loading.vue?05cc","webpack://ServerWand/./src/components/Loading.vue","webpack://ServerWand/./src/views/sites/Aliases.vue?d816","webpack://ServerWand/src/views/sites/Aliases.vue","webpack://ServerWand/./src/views/sites/Aliases.vue?2ba3","webpack://ServerWand/./src/views/sites/Aliases.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"content\":\"\",\"content-class\":\"centered-dialog\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('v-container',{attrs:{\"fill-height\":\"\"}},[_c('v-card',{attrs:{\"color\":\"primary\",\"dark\":\"\"}},[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('i',{staticClass:\"fas fa-magic fa-2x faa-horizontal animated\"}),_c('h2',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.message))])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"value\" persistent content content-class=\"centered-dialog\">\n    <v-container fill-height>\n      <v-card color=\"primary\" dark>\n        <v-card-text>\n          <v-layout row>\n            <i class=\"fas fa-magic fa-2x faa-horizontal animated\"></i>\n            <h2 style=\"margin-left: 10px\">{{ message }}</h2>\n          </v-layout>\n        </v-card-text>\n      </v-card>\n    </v-container>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"Loading\",\n  data: () => {\n    return {} \n  },\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n    message: {\n      type: String,\n      default: \"Summoning...\",\n    },\n  },\n};\n</script>\n\n<style>\n.v-dialog.centered-dialog {\n  box-shadow: none;\n  border-radius: 0;\n  width: auto;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=162d9904&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.error)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('Loading',{attrs:{\"value\":_vm.loading}}),_c('v-card',{staticClass:\"pa-3\",attrs:{\"loading\":_vm.fetching}},[_c('v-list',[_c('v-list-item-group',[_vm._l((_vm.data.aliases),function(item,i){return [_c('v-list-item',{key:(\"item-\" + i),attrs:{\"value\":item},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(item.domain)+\" \")]),_c('v-list-item-subtitle',[(item.redirect)?_c('span',[_vm._v(\" Redirect \")]):_c('span',[_vm._v(\" Alias \")])])],1),(item.dns.A != _vm.data.server.ip)?_c('v-list-item-action',[_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.fixAliasDns(item.domain)}}},on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"build\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Fix DNS mismatch (\"+_vm._s(item.dns.A)+\" => \"+_vm._s(_vm.data.server.ip)+\")\")])])],1):_vm._e(),_c('v-list-item-action',[_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.fetching,\"loading\":_vm.fetching},on:{\"click\":function($event){return _vm.deleteAlias(item.domain)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"delete\")])],1)],1)]},proxy:true}],null,true)})]})],2)],1)],1),_c('v-card',[_c('div',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('v-btn',{on:{\"click\":function($event){return _vm.addAlias()}}},[_vm._v(\" Add domain alias \")])],1)],1)]),_c('v-navigation-drawer',{attrs:{\"temporary\":\"\",\"right\":\"\",\"app\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Domain alias \")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Alias\",\"required\":\"\"},model:{value:(_vm.alias.alias),callback:function ($$v) {_vm.$set(_vm.alias, \"alias\", $$v)},expression:\"alias.alias\"}}),_c('v-checkbox',{attrs:{\"label\":\"Configure DNS\",\"disabled\":_vm.data.server.dns==''},model:{value:(_vm.alias.dns),callback:function ($$v) {_vm.$set(_vm.alias, \"dns\", $$v)},expression:\"alias.dns\"}}),_c('v-checkbox',{attrs:{\"label\":\"Redirect\"},model:{value:(_vm.alias.redirect),callback:function ($$v) {_vm.$set(_vm.alias, \"redirect\", $$v)},expression:\"alias.redirect\"}}),_c('v-btn',{attrs:{\"disabled\":_vm.fetching,\"loading\":_vm.fetching,\"color\":\"success\"},on:{\"click\":_vm.submitAlias}},[_vm._v(\" Save \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-alert\n      v-if=\"error\"\n      type=\"error\"\n    >\n      {{error}}\n    </v-alert>\n\n    <Loading :value=\"loading\" />\n\n  <v-card\n    class=\"pa-3\"\n    :loading=\"fetching\"\n  >\n    <v-list>\n      <v-list-item-group>\n        <template v-for=\"(item, i) in data.aliases\">\n\n          <v-list-item\n            :key=\"`item-${i}`\"\n            :value=\"item\"\n          >\n            <template v-slot:default>\n\n              <v-list-item-content>\n                <v-list-item-title>\n                  {{item.domain}}\n                </v-list-item-title>\n                <v-list-item-subtitle>\n                  <span v-if=\"item.redirect\">\n                    Redirect\n                  </span>\n                  <span v-else>\n                    Alias\n                  </span>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n\n              <v-list-item-action v-if=\"item.dns.A != data.server.ip\">\n                <v-tooltip top>\n                  <template v-slot:activator=\"{ on }\">\n                    <v-btn\n                      v-on=\"on\"\n                      icon\n                      @click=\"fixAliasDns(item.domain)\"\n                    >\n                      <v-icon small>build</v-icon>\n                    </v-btn>\n                  </template>\n                    \n                  <span>Fix DNS mismatch ({{item.dns.A}} => {{data.server.ip}})</span>\n                </v-tooltip>\n              </v-list-item-action>\n\n              <v-list-item-action>\n                <v-btn\n                  icon\n                  :disabled=\"fetching\"\n                  :loading=\"fetching\"\n                  @click=\"deleteAlias(item.domain)\"\n                >\n                  <v-icon small>delete</v-icon>\n                </v-btn>\n              </v-list-item-action>\n            </template>\n          </v-list-item>\n        </template>\n      </v-list-item-group>\n    </v-list>\n  </v-card>\n\n    <v-card>\n        <div>\n            <v-card-title primary-title>\n              <v-btn\n                  @click=\"addAlias()\"\n              >\n                  Add domain alias\n              </v-btn>\n            </v-card-title>\n        </div>\n    </v-card>\n\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      temporary\n      right\n      app\n    >\n      <v-card>\n          <v-card-title>\n            Domain alias\n          </v-card-title>\n\n          <v-card-text>\n            <v-text-field\n              v-model=\"alias.alias\"\n              label=\"Alias\"\n              required\n            ></v-text-field>\n            \n            <v-checkbox\n              v-model=\"alias.dns\"\n              label=\"Configure DNS\"\n              :disabled=\"data.server.dns==''\"\n            ></v-checkbox>\n            \n            <v-checkbox\n              v-model=\"alias.redirect\"\n              label=\"Redirect\"\n            ></v-checkbox>\n            \n            <v-btn\n              :disabled=\"fetching\"\n              :loading=\"fetching\"\n              color=\"success\"\n              @click=\"submitAlias\"\n            >\n              Save\n            </v-btn>\n          </v-card-text>\n      </v-card>\n    </v-navigation-drawer>\n  </div>  \n</template>\n\n<script>\n  import api from '../../services/api'\n  import Loading from '../../components/Loading'\n\n  export default {\n    components: {\n      Loading\n    },\n    data () {\n      return {\n        siteId: null,\n        post: null,\n        error: null,\n        data: {\n          disk_usage: 0,\n          server: {},\n          app: {}\n        },\n        details: '',\n        loading: false,\n        fetching: false,\n        passwordPanel: [false],\n        passwordFormValid: true,\n        rules: {\n          required: value => !!value || 'Required.',\n          min: v => v.length >= 8 || 'Min 8 characters',\n          emailMatch: () => ('The email and password you entered don\\'t match')\n        },\n        alias: {\n          alias: '',\n          redirect: false,\n          dns: false\n        },\n        drawer: false,\n        timer: null\n      }\n    },\n    created () {\n      // fetch the data when the view is created and the data is\n      // already being observed\n      this.fetchData()\n    },\n    watch: {\n      // call again the method if the route changes\n      '$route': 'fetchData'\n    },\n    methods: {\n      fetchData () {        \n        var self = this\n        this.error = ''\n        this.siteId = this.$route.params.id\n        clearTimeout(self.timer)\n\n        this.fetching = true\n \n        api.get('sites/' + this.siteId + '/aliases')\n        .then(function (response) {\n          console.log(response)\n            \n          self.data = response.data.item\n          document.title = 'Aliases' + ' | ' + self.data.domain\n\n          self.data.aliases.forEach(element => {\n            if (element.dns.updating) {\n              console.log('checking dns')\n              self.timer = setTimeout(self.fetchData, 60000)\n              return\n            }\n          })\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n        .finally(function() {\n          self.fetching = false\n        })\n      },\n      addAlias () {\n        this.alias = {}\n        this.drawer = true\n      },\n      submitAlias() {\n        this.saveAlias();\n      },\n      saveAlias (noAuthPrompt) {\n        var self = this\n\n        if (this.alias.alias) {\n          this.details = ''\n          this.fetching = true\n          this.error = ''\n\n          var child\n          if (!noAuthPrompt && this.alias.dns) {\n            child = window.open('/loading')\n          }\n\n          console.log(this.alias)\n\n          api.post('sites/' + this.siteId + '/aliases', this.alias)\n          .then(function (response) {\n            console.log(response)\n            \n            if (!response.data.success) {\n              if (response.data.error == 'auth' && !noAuthPrompt) {\n                child.location = 'https://serverwand.com/account/services/' + self.data.server.dns\n\n                var interval = setInterval(function() {\n                    if (child.closed) {\n                        clearInterval(interval)\n                        self.saveAlias(true)\n                        return\n                    }\n                }, 500)\n              } else {\n                self.error = response.data.error\n              }\n            } else {\n              if (child) {\n                child.close()\n              }\n              self.drawer = false\n              self.fetchData()\n            }\n          })\n          .catch(function (error) {\n            console.log(error)              \n            self.fetching = false\n          })\n          .finally(function() {\n            self.fetching = false\n          })\n        }\n      },\n      deleteAlias (alias) {\n        this.$confirm('Delete ' + alias + '?').then(res => {\n          if (res) {\n            var self = this\n            this.fetching = true\n            this.error = ''\n\n            api.post('sites/' + this.siteId + '/aliases', {delete: 1, alias: alias})\n            .then(function (response) {\n              console.log(response)\n              \n              if (!response.data.success) {\n                self.error = response.data.error;\n              } else {\n                self.fetchData()\n              }\n            })\n            .catch(function (error) {\n              console.log(error)\n              self.fetching = false\n            })\n          }\n        })\n      },\n      \n      fixAliasDns(alias, noAuthPrompt) {\n        var self = this\n        \n        this.details = ''\n        this.fetching = true\n        this.error = ''\n\n        api.post('sites/' + self.siteId + '/fixaliasdns', {alias: alias})\n        .then(function (response) {\n          console.log(response)\n          \n          if (!response.data.success) {\n            if (response.data.error == 'auth' && !noAuthPrompt) {\n              var child = window.open('https://serverwand.com/account/services/' + self.data.server.dns)\n              var interval = setInterval(function() {\n                  if (child.closed) {\n                      clearInterval(interval)\n                      self.fixAliasDns(alias, true)\n                      return\n                  }\n              }, 500)\n            } else {\n              self.error = response.data.error\n            }\n          } else {\n            self.fetchData()\n          }\n        })\n        .catch(function (error) {\n          console.log(error)              \n          self.fetching = false\n        })\n        .finally(function() {\n          self.fetching = false\n        })\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Aliases.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Aliases.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Aliases.vue?vue&type=template&id=8d3ad1b4&\"\nimport script from \"./Aliases.vue?vue&type=script&lang=js&\"\nexport * from \"./Aliases.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","expression","staticClass","staticStyle","_v","_s","message","staticRenderFns","name","data","props","type","default","component","error","_e","loading","fetching","_l","item","i","key","scopedSlots","_u","fn","domain","dns","A","server","ip","ref","on","_g","$event","fixAliasDns","deleteAlias","proxy","addAlias","drawer","alias","$set","submitAlias","components","Loading","siteId","post","disk_usage","app","details","passwordPanel","passwordFormValid","rules","required","min","emailMatch","redirect","timer","created","watch","methods","fetchData","clearTimeout","api","then","console","self","document","catch","finally","saveAlias","noAuthPrompt","child","clearInterval","delete"],"sourceRoot":""}