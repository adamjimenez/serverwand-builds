"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[3837],{83837:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});r(62010);var n=r(20641);function a(e,t,r,a,o,l){var i=(0,n.g2)("v-alert"),u=(0,n.g2)("v-btn"),s=(0,n.g2)("v-card-actions"),c=(0,n.g2)("v-switch"),d=(0,n.g2)("v-list-item"),f=(0,n.g2)("v-list"),g=(0,n.g2)("v-card"),v=(0,n.g2)("v-icon"),m=(0,n.g2)("v-progress-linear"),h=(0,n.g2)("v-textarea"),p=(0,n.g2)("v-card-text"),b=(0,n.g2)("v-dialog");return(0,n.uX)(),(0,n.CE)("div",null,[o.error?((0,n.uX)(),(0,n.Wv)(i,{key:0,type:"error",text:o.error},null,8,["text"])):(0,n.Q3)("",!0),(0,n.bF)(g,{class:"pa-3",loading:o.fetching},{default:(0,n.k6)((function(){return[(0,n.bF)(s,null,{default:(0,n.k6)((function(){return[(0,n.bF)(u,{onClick:t[0]||(t[0]=function(e){return l.fixProblems()}),icon:"mdi:mdi-auto-fix",title:"Find and fix problems"})]})),_:1}),(0,n.bF)(f,{group:"","max-width":"600"},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.items,(function(e,t){return(0,n.uX)(),(0,n.Wv)(d,{key:"item-".concat(t),value:e},{default:(0,n.k6)((function(){return[(0,n.bF)(c,{modelValue:e.active,"onUpdate:modelValue":function(t){return e.active=t},label:e.name,onChange:function(t){return l.toggle(e)},color:"primary","hide-details":"",loading:o.loading===e.name},null,8,["modelValue","onUpdate:modelValue","label","onChange","loading"])]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["loading"]),(0,n.bF)(b,{modelValue:o.dialog,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.dialog=e}),width:"300"},{default:(0,n.k6)((function(){return[(0,n.bF)(g,{color:"primary"},{default:(0,n.k6)((function(){return[(0,n.bF)(p,null,{default:(0,n.k6)((function(){return[(0,n.bF)(i,{title:"Spellcasting...",color:"primary"},{prepend:(0,n.k6)((function(){return[(0,n.bF)(v,{icon:o.closable?"fas fa-magic fa-2x faa-horizontal":"fas fa-magic fa-2x faa-horizontal animated"},null,8,["icon"])]})),_:1}),o.closable?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(m,{key:0,indeterminate:0==o.progress,modelValue:o.progress,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.progress=e}),color:"white"},null,8,["indeterminate","modelValue"])),(0,n.bF)(h,{modelValue:o.details,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.details=e}),readonly:""},null,8,["modelValue"])]})),_:1}),(0,n.bF)(s,null,{default:(0,n.k6)((function(){return[(0,n.bF)(u,{onClick:t[3]||(t[3]=function(e){return o.dialog=!1}),disabled:!o.closable},{default:(0,n.k6)((function(){return[(0,n.eW)("Close")]})),_:1},8,["disabled"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}var o=r(14048),l=r(30388),i=(r(26099),r(74300)),u={data:function(){return{error:"",items:{},fetching:!1,loading:null,serverId:0,dialog:!1,closable:!1,progress:0,details:""}},created:function(){this.serverId=this.$route.params.id,this.fetchData()},methods:{fixProblems:function(){var e=this;this.dialog=!0,this.closable=!1,this.details="";var t="servers/"+this.serverId+"/check";i.A.event(t,(function(t){e.details+=t.msg+"\n",t.progress&&(e.progress=t.progress)}),(function(t){e.error=t}),(function(){e.closable=!0}))},fetchData:function(){var e=this;this.error="",this.fetching=!0,i.A.get("servers/"+this.serverId+"/services").then((function(t){if(console.log(t),t.data.error)return e.error=t.data.error,!1;e.items=t.data.services,e.data=t.data.item,document.title="Services | "+e.data.name})).catch((function(e){return console.log(e)})).finally((function(){return e.fetching=!1}))},toggle:function(e){var t=this;return(0,l.A)((0,o.A)().mark((function r(){var n;return(0,o.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=e.name,t.error="",r.next=4,i.A.post("servers/"+t.serverId+"/services",{name:e.name,start:e.active});case 4:return n=r.sent,r.next=7,t.fetchData();case 7:n.data.success||(t.error=n.data.error),t.loading=null;case 9:case"end":return r.stop()}}),r)})))()}}},s=r(66262);const c=(0,s.A)(u,[["render",a]]);var d=c}}]);
//# sourceMappingURL=3837-legacy.e6476f47.js.map