"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[2927],{84285:function(t,e,a){a.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),a("h2",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.message))])])],1)],1)],1)],1)},n=[],i={name:"Loading",data:function(){return{}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},o=i,l=a(1001),s=(0,l.Z)(o,r,n,!1,null,null,null),c=s.exports},92927:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("Loading",{attrs:{value:t.fetching}}),a("v-card",{staticClass:"mx-auto"},[a("v-list",[a("v-list-item-group",[t._l(t.items,(function(e,r){return[a("v-list-item",{key:"item-"+r,attrs:{value:e},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{on:{click:function(a){return t.editItem(e)}}},[t._v(" "+t._s(e.name)+" ")])],1),a("v-list-item-action",[a("v-btn",{attrs:{disabled:t.dialog,loading:t.dialog},on:{click:function(a){return t.deleteItem(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1)],1),a("v-card",[a("div",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{on:{click:function(e){return t.addItem()}}},[t._v(" Add Product ")])],1)],1)]),a("v-navigation-drawer",{attrs:{temporary:"",right:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",[a("v-card-title",[t._v(" Product ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Name",required:""},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}}),a("v-select",{attrs:{items:t.product_types,label:"Type"},model:{value:t.data.product_type,callback:function(e){t.$set(t.data,"product_type",e)},expression:"data.product_type"}}),a("v-text-field",{attrs:{label:"Price",required:""},model:{value:t.data.price,callback:function(e){t.$set(t.data,"price",e)},expression:"data.price"}}),a("v-select",{attrs:{items:t.periods,label:"Period"},model:{value:t.data.period,callback:function(e){t.$set(t.data,"period",e)},expression:"data.period"}}),a("v-btn",{attrs:{disabled:t.fetching,loading:t.fetching,color:"success"},on:{click:t.saveItem}},[t._v(" Save ")])],1)],1)],1)],1)},n=[],i=(a(41539),a(38862),a(4296)),o=a(84285),l={components:{Loading:o.Z},data:function(){return{id:null,error:"",data:{name:""},product_types:[{text:"Domain renewal",value:"domain renewal"},{text:"Hosting",value:"hosting"},{text:"Custom",value:"custom"}],periods:[{text:"One off",value:"one-off"},{text:"Monthly",value:"monthly"},{text:"Yearly",value:"yearly"}],items:[],dialog:!1,details:"",fetching:!0,server:{name:""},provider_token:{},drawer:!1}},created:function(){this.id=this.$route.params.id,this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;this.error="",this.fetching=!0,i.Z.get("settings/products").then((function(e){console.log(e),t.items=e.data.products,document.title="Products"})).catch((function(e){t.error=e})).finally((function(){t.fetching=!1}))},addItem:function(){this.data.label="",this.data={},this.drawer=!0},editItem:function(t){this.data=JSON.parse(JSON.stringify(t)),this.drawer=!0},deleteItem:function(t){var e=this;this.$confirm("Delete subscription?").then((function(a){if(a){var r=e;e.error="",i.Z.post("settings/products/"+t,{delete:1}).then((function(t){console.log(t),t.data.error?r.error=t.data.error:r.fetchData()})).catch((function(t){console.log(t)}))}}))},saveItem:function(){var t=this,e="settings/products";this.data.id&&(e+="/"+this.data.id),i.Z.post(e,this.data).then((function(e){e.data.error?t.error=e.data.error:(t.drawer=!1,t.fetchData())})).catch((function(e){t.error=e}))}}},s=l,c=a(1001),d=(0,c.Z)(s,r,n,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=2927-legacy.62093cce.js.map