{"version":3,"file":"js/890.1e243fc6.js","mappings":"iVACEA,EAAAA,EAAAA,IAaM,YAZWC,EAAAC,QAAK,WAApBC,EAAAA,EAAAA,IAA2DC,EAAA,C,MAArCC,KAAK,QAASC,KAAML,EAAAC,O,mCAE1CK,EAAAA,EAAAA,IASSC,EAAA,CATDC,MAAM,OAAQC,QAAST,EAAAU,U,mBAC7B,IAOS,EAPTJ,EAAAA,EAAAA,IAOSK,EAAA,CAPDC,MAAA,GAAM,YAAU,O,mBACZ,IAA0B,gBAApCb,EAAAA,EAAAA,IAKWc,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALmBd,EAAAe,OAAK,CAAjBC,EAAMC,M,WACtBf,EAAAA,EAAAA,IAGcgB,EAAA,C,YAJmCD,IACnCE,MAAOH,G,mBACnB,IAC2D,EAD3DV,EAAAA,EAAAA,IAC2Dc,EAAA,C,WADxCJ,EAAKK,O,yBAALL,EAAKK,OAAMC,EAAGC,MAAOP,EAAKQ,KAAOC,SAAMH,GAAEI,EAAAC,OAAOX,GAAOY,MAAM,UAC9E,kBAAcnB,QAAST,EAAAS,UAAYO,EAAKQ,M,2JAWtD,GACEK,IAAAA,GACE,MAAO,CACL5B,MAAO,GACPc,MAAO,CAAC,EACRL,UAAU,EACVD,QAAS,KACTqB,SAAU,EAEd,EACAC,OAAAA,GAGEC,KAAKF,SAAWE,KAAKC,OAAOC,OAAOC,GACnCH,KAAKI,WACP,EACAC,QAAS,CACPD,SAAAA,GACE,IAAIE,EAAON,KACXA,KAAK/B,MAAQ,GACb+B,KAAKtB,UAAW,EAEhB6B,EAAAA,EACGC,IAAI,WAAaR,KAAKF,SAAW,aACjCW,MAAKC,IAGJ,GAFAC,QAAQC,IAAIF,GAERA,EAASb,KAAK5B,MAEhB,OADAqC,EAAKrC,MAAQyC,EAASb,KAAK5B,OACpB,EAGTqC,EAAKvB,MAAQ2B,EAASb,KAAKgB,SAC3BP,EAAKT,KAAOa,EAASb,KAAKb,KAC1B8B,SAASC,MAAQ,cAAgBT,EAAKT,KAAKL,IAAI,IAEhDwB,OAAM/C,GAAS0C,QAAQC,IAAI3C,KAC3BgD,SAAQ,IAAMX,EAAK5B,UAAW,GACnC,EACAiB,MAAAA,CAAOX,GACL,IAAIsB,EAAON,KACXA,KAAKvB,QAAUO,EAAKQ,KACpBQ,KAAK/B,MAAQ,GACb,IAAIiD,EAASlC,EAAKK,OAAS,QAAU,OAErCkB,EAAAA,EACGY,KAAK,WAAanB,KAAKF,SAAW,YAAa,CAC9CN,KAAMR,EAAKQ,KACX0B,OAAQA,IAETT,MAAKC,IACJC,QAAQC,IAAIF,GAEPA,EAASb,KAAKuB,QAGjBd,EAAKF,YAFLE,EAAKrC,MAAQyC,EAASb,KAAK5B,KAEX,IAEnB+C,OAAM/C,GAAS0C,QAAQC,IAAI3C,KAC3BgD,SAAQ,IAAMX,EAAK7B,QAAU,MAClC,I,WC3EJ,MAAM4C,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://ServerWand/./src/views/servers/Services.vue","webpack://ServerWand/./src/views/servers/Services.vue?5a20"],"sourcesContent":["<template>\n  <div>\n    <v-alert v-if=\"error\" type=\"error\" :text=\"error\"></v-alert>\n\n    <v-card class=\"pa-3\" :loading=\"fetching\">\n      <v-list group max-width=\"600\">\n        <template v-for=\"(item, i) in items\" :key=\"`item-${i}`\">\n          <v-list-item :value=\"item\">\n            <v-switch v-model=\"item.active\" :label=\"item.name\" @change=\"toggle(item)\" color=\"primary\"\n              hide-details :loading=\"loading === item.name\"></v-switch>\n          </v-list-item>\n        </template>\n      </v-list>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport api from \"../../services/api\";\n\nexport default {\n  data() {\n    return {\n      error: \"\",\n      items: {},\n      fetching: false,\n      loading: null,\n      serverId: 0,\n    }\n  },\n  created() {\n    // fetch the data when the view is created and the data is\n    // already being observed\n    this.serverId = this.$route.params.id;\n    this.fetchData();\n  },\n  methods: {\n    fetchData() {\n      var self = this;\n      this.error = \"\";\n      this.fetching = true;\n\n      api\n        .get(\"servers/\" + this.serverId + \"/services\")\n        .then(response => {\n          console.log(response);\n\n          if (response.data.error) {\n            self.error = response.data.error;\n            return false;\n          }\n\n          self.items = response.data.services;\n          self.data = response.data.item;\n          document.title = \"Services | \" + self.data.name;\n        })\n        .catch(error => console.log(error))\n        .finally(() => self.fetching = false)\n    },\n    toggle(item) {\n      var self = this;\n      this.loading = item.name;\n      this.error = \"\";\n      var action = item.active ? \"start\" : \"stop\";\n\n      api\n        .post(\"servers/\" + this.serverId + \"/services\", {\n          name: item.name,\n          action: action,\n        })\n        .then(response => {\n          console.log(response);\n\n          if (!response.data.success)\n            self.error = response.data.error;\n          else\n            self.fetchData();\n        })\n        .catch(error => console.log(error))\n        .finally(() => self.loading = null)\n    },\n  },\n};\n</script>\n","import { render } from \"./Services.vue?vue&type=template&id=41b6e935\"\nimport script from \"./Services.vue?vue&type=script&lang=js\"\nexport * from \"./Services.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","$data","error","_createBlock","_component_v_alert","type","text","_createVNode","_component_v_card","class","loading","fetching","_component_v_list","group","_Fragment","_renderList","items","item","i","_component_v_list_item","value","_component_v_switch","active","$event","label","name","onChange","$options","toggle","color","data","serverId","created","this","$route","params","id","fetchData","methods","self","api","get","then","response","console","log","services","document","title","catch","finally","action","post","success","__exports__","render"],"sourceRoot":""}