{"version":3,"file":"js/3837-legacy.8c5cbb82.js","mappings":"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","sources":["webpack://ServerWand/./src/views/servers/Services.vue","webpack://ServerWand/./src/views/servers/Services.vue?5a20"],"sourcesContent":["<template>\n  <div>\n    <v-alert v-if=\"error\" type=\"error\" :text=\"error\"></v-alert>\n\n    <v-card class=\"pa-3\" :loading=\"fetching\">\n      <v-card-actions>\n        <v-btn @click=\"fixProblems()\" icon=\"mdi:mdi-auto-fix\" title=\"Find and fix problems\"></v-btn>\n      </v-card-actions>\n\n      <v-list group max-width=\"600\">\n        <template v-for=\"(item, i) in items\" :key=\"`item-${i}`\">\n          <v-list-item :value=\"item\">\n            <v-switch v-model=\"item.active\" :label=\"item.name\" @change=\"toggle(item)\" color=\"primary\"\n              hide-details :loading=\"loading === item.name\"></v-switch>\n          </v-list-item>\n        </template>\n      </v-list>\n    </v-card>\n\n    <v-dialog v-model=\"dialog\" width=\"300\">\n      <v-card color=\"primary\">\n        <v-card-text>\n          <v-alert title=\"Spellcasting...\" color=\"primary\">\n            <template v-slot:prepend>\n              <v-icon :icon=\"closable ? 'fas fa-magic fa-2x faa-horizontal' : 'fas fa-magic fa-2x faa-horizontal animated'\"></v-icon>\n            </template>\n          </v-alert>\n\n          <v-progress-linear :indeterminate=\"progress == 0\" v-model=\"progress\" color=\"white\" v-if=\"!closable\"></v-progress-linear>\n\n          <v-textarea v-model=\"details\" readonly></v-textarea>\n        </v-card-text>\n          \n        <v-card-actions>\n          <v-btn @click=\"dialog = false\" :disabled=\"!closable\">Close</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport api from \"../../services/api\";\n\nexport default {\n  data() {\n    return {\n      error: \"\",\n      items: {},\n      fetching: false,\n      loading: null,\n      serverId: 0,\n      dialog: false,\n      closable: false,\n      progress: 0,\n      details: \"\",\n    }\n  },\n  created() {\n    // fetch the data when the view is created and the data is\n    // already being observed\n    this.serverId = this.$route.params.id;\n    this.fetchData();\n  },\n  methods: {\n    fixProblems() {\n      this.dialog = true\n      this.closable = false;\n      this.details = ''\n\n      // subscribe to status changes\n      let url = 'servers/' + this.serverId + '/check'\n\n      api.event(\n        url,\n        result => {\n          this.details += result.msg + \"\\n\";\n\n          if (result.progress) {\n            this.progress = result.progress;\n          }\n        },\n        error => {\n          this.error = error;\n        },\n        () => {\n          this.closable = true;\n        }\n      );\n    },\n    fetchData() {\n      this.error = \"\";\n      this.fetching = true;\n\n      api\n        .get(\"servers/\" + this.serverId + \"/services\")\n        .then(response => {\n          console.log(response);\n\n          if (response.data.error) {\n            this.error = response.data.error;\n            return false;\n          }\n\n          this.items = response.data.services;\n          this.data = response.data.item;\n          document.title = \"Services | \" + this.data.name;\n        })\n        .catch(error => console.log(error))\n        .finally(() => this.fetching = false)\n    },\n    async toggle(item) {\n      this.loading = item.name;\n      this.error = \"\";\n\n      let response = await api\n        .post(\"servers/\" + this.serverId + \"/services\", {\n          name: item.name,\n          start: item.active,\n        })\n        \n      await this.fetchData();          \n\n      if (!response.data.success) {\n        this.error = response.data.error;\n      }\n\n      this.loading = null\n    },\n  },\n};\n</script>\n","import { render } from \"./Services.vue?vue&type=template&id=b851d812\"\nimport script from \"./Services.vue?vue&type=script&lang=js\"\nexport * from \"./Services.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","$data","error","_createBlock","_component_v_alert","key","type","text","_createCommentVNode","_createVNode","_component_v_card","class","loading","fetching","default","_withCtx","_component_v_card_actions","_component_v_btn","onClick","_cache","$event","$options","fixProblems","icon","title","_","_component_v_list","group","_Fragment","_renderList","items","item","i","_component_v_list_item","concat","value","_component_v_switch","modelValue","active","label","name","onChange","toggle","color","_component_v_dialog","dialog","width","_component_v_card_text","prepend","_component_v_icon","closable","_component_v_progress_linear","indeterminate","progress","_component_v_textarea","details","readonly","disabled","_createTextVNode","data","serverId","created","this","$route","params","id","fetchData","methods","_this","url","api","event","result","msg","_this2","get","then","response","console","log","services","document","catch","finally","_this3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","post","start","sent","success","stop","__exports__","render"],"sourceRoot":""}