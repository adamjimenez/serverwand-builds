"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[8833],{10647:function(e,r,t){var n=t(1702),o=t(47908),i=Math.floor,a=n("".charAt),u=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,r,t,n,f,d){var g=t+e.length,h=n.length,p=s;return void 0!==f&&(f=o(f),p=l),u(d,p,(function(o,u){var l;switch(a(u,0)){case"$":return"$";case"&":return e;case"`":return c(r,0,t);case"'":return c(r,g);case"<":l=f[c(u,1,-1)];break;default:var s=+u;if(0===s)return o;if(s>h){var d=i(s/10);return 0===d?o:d<=h?void 0===n[d-1]?a(u,1):n[d-1]+a(u,1):o}l=n[s-1]}return void 0===l?"":l}))}},34706:function(e,r,t){var n=t(46916),o=t(92597),i=t(47976),a=t(67066),u=RegExp.prototype;e.exports=function(e){var r=e.flags;return void 0!==r||"flags"in u||o(e,"flags")||!i(u,e)?r:n(a,e)}},26699:function(e,r,t){var n=t(82109),o=t(41318).includes,i=t(47293),a=t(51223),u=i((function(){return!Array(1).includes()}));n({target:"Array",proto:!0,forced:u},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},69600:function(e,r,t){var n=t(82109),o=t(1702),i=t(68361),a=t(45656),u=t(9341),c=o([].join),l=i!==Object,s=l||!u("join",",");n({target:"Array",proto:!0,forced:s},{join:function(e){return c(a(this),void 0===e?",":e)}})},24603:function(e,r,t){var n=t(19781),o=t(17854),i=t(1702),a=t(54705),u=t(79587),c=t(68880),l=t(8006).f,s=t(47976),f=t(47850),d=t(41340),g=t(34706),h=t(52999),p=t(2626),v=t(98052),m=t(47293),x=t(92597),w=t(29909).enforce,y=t(96340),E=t(5112),b=t(9441),$=t(38173),L=E("match"),k=o.RegExp,R=k.prototype,S=o.SyntaxError,I=i(R.exec),A=i("".charAt),C=i("".replace),_=i("".indexOf),M=i("".slice),W=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,P=/a/g,j=/a/g,D=new k(P)!==P,T=h.MISSED_STICKY,F=h.UNSUPPORTED_Y,O=n&&(!D||T||b||$||m((function(){return j[L]=!1,k(P)!==P||k(j)===j||"/a/i"!==String(k(P,"i"))}))),Z=function(e){for(var r,t=e.length,n=0,o="",i=!1;n<=t;n++)r=A(e,n),"\\"!==r?i||"."!==r?("["===r?i=!0:"]"===r&&(i=!1),o+=r):o+="[\\s\\S]":o+=r+A(e,++n);return o},H=function(e){for(var r,t=e.length,n=0,o="",i=[],a={},u=!1,c=!1,l=0,s="";n<=t;n++){if(r=A(e,n),"\\"===r)r+=A(e,++n);else if("]"===r)u=!1;else if(!u)switch(!0){case"["===r:u=!0;break;case"("===r:I(W,M(e,n+1))&&(n+=2,c=!0),o+=r,l++;continue;case">"===r&&c:if(""===s||x(a,s))throw new S("Invalid capture group name");a[s]=!0,i[i.length]=[s,l],c=!1,s="";continue}c?s+=r:o+=r}return[o,i]};if(a("RegExp",O)){for(var q=function(e,r){var t,n,o,i,a,l,h=s(R,this),p=f(e),v=void 0===r,m=[],x=e;if(!h&&p&&v&&e.constructor===q)return e;if((p||s(R,e))&&(e=e.source,v&&(r=g(x))),e=void 0===e?"":d(e),r=void 0===r?"":d(r),x=e,b&&"dotAll"in P&&(n=!!r&&_(r,"s")>-1,n&&(r=C(r,/s/g,""))),t=r,T&&"sticky"in P&&(o=!!r&&_(r,"y")>-1,o&&F&&(r=C(r,/y/g,""))),$&&(i=H(e),e=i[0],m=i[1]),a=u(k(e,r),h?this:R,q),(n||o||m.length)&&(l=w(a),n&&(l.dotAll=!0,l.raw=q(Z(e),t)),o&&(l.sticky=!0),m.length&&(l.groups=m)),e!==x)try{c(a,"source",""===x?"(?:)":x)}catch(y){}return a},U=l(k),V=0;U.length>V;)p(q,k,U[V++]);R.constructor=q,q.prototype=R,v(o,"RegExp",q,{constructor:!0})}y("RegExp")},28450:function(e,r,t){var n=t(19781),o=t(9441),i=t(84326),a=t(47045),u=t(29909).get,c=RegExp.prototype,l=TypeError;n&&o&&a(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!u(this).dotAll;throw new l("Incompatible receiver, RegExp required")}}})},88386:function(e,r,t){var n=t(19781),o=t(52999).MISSED_STICKY,i=t(84326),a=t(47045),u=t(29909).get,c=RegExp.prototype,l=TypeError;n&&o&&a(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===i(this))return!!u(this).sticky;throw new l("Incompatible receiver, RegExp required")}}})},77601:function(e,r,t){t(74916);var n=t(82109),o=t(46916),i=t(60614),a=t(19670),u=t(41340),c=function(){var e=!1,r=/[ac]/;return r.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===r.test("abc")&&e}(),l=/./.test;n({target:"RegExp",proto:!0,forced:!c},{test:function(e){var r=a(this),t=u(e),n=r.exec;if(!i(n))return o(l,r,t);var c=o(n,r,t);return null!==c&&(a(c),!0)}})},39714:function(e,r,t){var n=t(76530).PROPER,o=t(98052),i=t(19670),a=t(41340),u=t(47293),c=t(34706),l="toString",s=RegExp.prototype,f=s[l],d=u((function(){return"/a/b"!==f.call({source:"a",flags:"b"})})),g=n&&f.name!==l;(d||g)&&o(RegExp.prototype,l,(function(){var e=i(this),r=a(e.source),t=a(c(e));return"/"+r+"/"+t}),{unsafe:!0})},32023:function(e,r,t){var n=t(82109),o=t(1702),i=t(3929),a=t(84488),u=t(41340),c=t(84964),l=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(u(a(this)),u(i(e)),arguments.length>1?arguments[1]:void 0)}})},15306:function(e,r,t){var n=t(22104),o=t(46916),i=t(1702),a=t(27007),u=t(47293),c=t(19670),l=t(60614),s=t(68554),f=t(19303),d=t(17466),g=t(41340),h=t(84488),p=t(31530),v=t(58173),m=t(10647),x=t(97651),w=t(5112),y=w("replace"),E=Math.max,b=Math.min,$=i([].concat),L=i([].push),k=i("".indexOf),R=i("".slice),S=function(e){return void 0===e?e:String(e)},I=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[y]&&""===/./[y]("a","$0")}(),C=!u((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));a("replace",(function(e,r,t){var i=A?"$":"$0";return[function(e,t){var n=h(this),i=s(e)?void 0:v(e,y);return i?o(i,e,n,t):o(r,g(n),e,t)},function(e,o){var a=c(this),u=g(e);if("string"==typeof o&&-1===k(o,i)&&-1===k(o,"$<")){var s=t(r,a,u,o);if(s.done)return s.value}var h=l(o);h||(o=g(o));var v,w=a.global;w&&(v=a.unicode,a.lastIndex=0);var y,I=[];while(1){if(y=x(a,u),null===y)break;if(L(I,y),!w)break;var A=g(y[0]);""===A&&(a.lastIndex=p(u,d(a.lastIndex),v))}for(var C="",_=0,M=0;M<I.length;M++){y=I[M];for(var W,P=g(y[0]),j=E(b(f(y.index),u.length),0),D=[],T=1;T<y.length;T++)L(D,S(y[T]));var F=y.groups;if(h){var O=$([P],D,j,u);void 0!==F&&L(O,F),W=g(n(o,void 0,O))}else W=m(P,u,j,D,F,o);j>=_&&(C+=R(u,_,j)+W,_=j+P.length)}return C+R(u,_)}]}),!C||!I||A)},38833:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});t(57327),t(41539);var n=t(66252),o=t(3577),i=["innerHTML"],a=["innerHTML"];function u(e,r,t,u,c,l){var s=(0,n.up)("v-alert"),f=(0,n.up)("EditFile"),d=(0,n.up)("v-select"),g=(0,n.up)("v-text-field"),h=(0,n.up)("v-icon"),p=(0,n.up)("v-btn"),v=(0,n.up)("v-row"),m=(0,n.up)("v-card-title"),x=(0,n.up)("v-card-text"),w=(0,n.up)("v-card");return(0,n.wg)(),(0,n.iD)("div",null,[c.error?((0,n.wg)(),(0,n.j4)(s,{key:0,type:"error",text:c.error},null,8,["text"])):(0,n.kq)("",!0),(0,n.Wm)(f,{ref:"editFile",serverId:c.serverId,action:"files",onComplete:r[0]||(r[0]=function(e){return l.fetchLog()}),onError:l.handleError,onLoading:l.handleLoading},null,8,["serverId","onError","onLoading"]),(0,n.Wm)(w,{loading:c.fetching},{default:(0,n.w5)((function(){return[(0,n.Wm)(m,{"primary-title":""},{default:(0,n.w5)((function(){return[(0,n.Wm)(v,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(d,{items:c.logs,label:"Log","onUpdate:modelValue":l.fetchLog,"hide-details":"",class:"ma-1"},null,8,["items","onUpdate:modelValue"]),(0,n.Wm)(g,{label:"Filter",modelValue:c.filter,"onUpdate:modelValue":r[1]||(r[1]=function(e){return c.filter=e}),"hide-details":"",class:"ma-1"},null,8,["modelValue"]),(0,n.Wm)(p,{onClick:r[2]||(r[2]=function(e){return l.fetchLog()}),disabled:!c.log,icon:"",class:"ma-3"},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,{class:(0,o.C_)(c.fetching?"fa-spin":""),size:"small"},{default:(0,n.w5)((function(){return[(0,n.Uk)("fas fa-redo-alt")]})),_:1},8,["class"])]})),_:1},8,["disabled"])]})),_:1})]})),_:1}),(0,n.Wm)(x,null,{default:(0,n.w5)((function(){return["serverstatus"==c.log?((0,n.wg)(),(0,n.iD)("div",{key:0,innerHTML:c.logContent,class:"serverstatus"},null,8,i)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"pre",innerHTML:l.filteredLog},null,8,a))]})),_:1})]})),_:1},8,["loading"])])}var c=t(50124),l=t(48534),s=(t(74916),t(77601),t(24603),t(28450),t(88386),t(39714),t(15306),t(69600),t(26699),t(32023),t(68309),t(1006)),f=t(14098),d={components:{EditFile:f.Z},data:function(){return{error:"",data:{users:{}},system_user:{user:"",password:""},cronjob:{name:"",user:"",command:"",minute:"",hour:"",dom:"",mon:"",dow:""},cronjobs:[],rules:{required:function(e){return!!e||"Required."},alpha:function(e){return/^[a-zA-Z]+$/g.test(e)||"Must contain a-z characters only"},minute:function(e){return"*"==e||e>=0&&e<60||"0-59 or *"},hour:function(e){return"*"==e||e>=0&&e<24||"0-23 or *"},dom:function(e){return"*"==e||e>=1&&e<=31||"1-31 or *"},mon:function(e){return"*"==e||e>=1&&e<12||"1-12 or *"},dow:function(e){return"*"==e||e>=1&&e<7||"1-7 or *"}},details:"",fetching:!0,userDrawer:!1,cronjobDrawer:!1,serverId:0,logs:[{value:"journal",title:"Journal"},{value:"auth",title:"Auth"},{value:"apache_access",title:"Apache Access"},{value:"other_vhosts",title:"Other Vhosts"},{value:"apache_error",title:"Apache Error"},{value:"mail",title:"Mail"},{value:"mysql",title:"MySQL"},{value:"fail2ban",title:"Fail2ban"},{value:"letsencrypt",title:"Let's Encrypt"},{value:"serverstatus",title:"Server Status"}],log:"",logContent:"",filter:""}},created:function(){this.serverId=this.$route.params.id,this.fetchData();var e=this;window.onhashchange=(0,l.Z)((0,c.Z)().mark((function r(){var t,n,o,i;return(0,c.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=location.hash.substr(1),t){r.next=3;break}return r.abrupt("return");case 3:return n=t,o=1,-1!==n.indexOf(":")&&(i=n.split(":"),n=i[0],o=i[1]),e.fecthing=!0,r.next=9,e.$refs.editFile.open({id:n,name:n});case 9:e.$refs.editFile.goToLine(o),location.hash="";case 11:case"end":return r.stop()}}),r)})))},computed:{filteredLog:function(){var e=this,r=/(\/(var|etc)[^\s:\\']+( on line [0-9]+))/g,t=RegExp("(".concat(this.filter,")*"),"gi"),n=this.logContent.split("\n");return n.filter((function(r){return r.toLowerCase().includes(e.filter.toLowerCase())})).join("\n").replace(t,'<span class="match">$1</span>').replace(r,'<a href="'+location.pathname+'#$1">$1</a>').replace(/( on line )([0-9]+)/g,":$2").replace(/(PHP Fatal error)/g,'<span class="error">$1</span>').replace(/(PHP Parse error)/g,'<span class="error">$1</span>').replace(/(PHP Warning)/g,'<span class="warning">$1</span>')}},methods:{fetchData:function(){var e=this;this.error="",this.fetching=!0,s.Z.get("servers/"+this.serverId).then((function(r){if(console.log(r),r.data.error)return e.error=r.data.error,!1;e.data=r.data.item,document.title="Logs | "+e.data.name})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1}))},fetchLog:function(e){var r=this;if(this.fetching=!0,e)r.log=e;else if(!r.log)return;this.logContent="loading..",s.Z.post("servers/"+this.serverId+"/fetchlog",{log:r.log}).then((function(e){console.log(e),r.logContent=e.data.content})).finally((function(){r.fetching=!1}))},handleError:function(e){this.error=e},handleLoading:function(e){this.fetching=e}}},g=t(83744);const h=(0,g.Z)(d,[["render",u]]);var p=h}}]);
//# sourceMappingURL=8833-legacy.cb8f4a86.js.map