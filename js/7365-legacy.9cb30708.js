(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[7365],{60862:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("v-switch",{staticClass:"mx-3",attrs:{label:"IP restrictions"},on:{change:t.toggle},model:{value:t.data.active,callback:function(e){t.$set(t.data,"active",e)},expression:"data.active"}}),t.data.active?a("div",[a("v-list",[a("v-list-item-group",[t._l(t.items,(function(e,r){return[a("v-list-item",{key:"item-"+r,attrs:{value:e},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.ip)+" ")]),a("v-list-item-subtitle",[t._v(" "+t._s(e.label)+" ")])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",disabled:t.fetching,loading:t.fetching},on:{click:function(a){return t.deleteItem(e.line)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1),a("v-card",[a("div",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{on:{click:function(e){return t.addItem()}}},[t._v(" Add IP ")])],1)],1)])],1):t._e(),a("v-navigation-drawer",{attrs:{app:"",temporary:"",right:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",[a("v-form",{ref:"form"},[a("v-card-title",[t._v(" IP ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Label",required:""},model:{value:t.item.label,callback:function(e){t.$set(t.item,"label",e)},expression:"item.label"}}),a("v-text-field",{attrs:{label:"IP address",required:"",rules:[t.rules.ip]},model:{value:t.item.ip,callback:function(e){t.$set(t.item,"ip",e)},expression:"item.ip"}}),a("v-btn",{attrs:{disabled:t.fetching,loading:t.fetching,color:"success"},on:{click:t.saveItem}},[t._v(" Save ")])],1)],1)],1)],1)],1)},n=[],i=(a(74916),a(77601),a(41539),a(4296)),s={props:{serverId:null,active:null,items:null,path:null},data:function(){return{data:{active:null},item:{},fetching:!1,drawer:!1,rules:{required:function(t){return!!t||"Required."},ip:function(t){return!t||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)||"Invalid IP address"}},error:null}},watch:{active:function(t){this.data.active=t}},methods:{toggle:function(){var t=this;this.fetching=!0,this.error="",i.Z.post(this.path,{active:this.data.active}).then((function(e){console.log(e),e.data.success||(t.error=e.data.error)})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1,t.$emit("save")}))},addItem:function(){this.item={},this.drawer=!0},deleteItem:function(t){var e=this;this.$confirm("Delete IP?").then((function(a){if(a){var r=e;e.fetching=!0,e.error="",i.Z.post(e.path,{line:t}).then((function(t){console.log(t),t.data.success||(r.error=t.data.error)})).catch((function(t){console.log(t)})).finally((function(){e.fetching=!1,r.$emit("save")}))}}))},saveItem:function(){var t=this,e=this;this.error="",this.$refs.form.validate()&&(this.fetching=!0,i.Z.post(this.path,this.item).then((function(t){console.log(t),t.data.error?e.error=t.data.error:(e.drawer=!1,e.$emit("save"))})).catch((function(t){return console.log(t)})).finally((function(){t.fetching=!1})))}}},o=s,c=a(1001),l=(0,c.Z)(o,r,n,!1,null,null,null),u=l.exports},84285:function(t,e,a){"use strict";a.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),a("h2",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.message))])])],1)],1)],1)],1)},n=[],i={name:"Loading",data:function(){return{}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},s=i,o=a(1001),c=(0,o.Z)(s,r,n,!1,null,null,null),l=c.exports},77365:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return v}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("Loading",{attrs:{value:t.loading}}),a("v-card",{attrs:{loading:t.fetching}},[a("v-container",{staticClass:"ma-0"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-card",[a("div",{staticClass:"feature"},[a("v-card-text",[a("div",[a("div",{staticClass:"icon"},[a("i",{staticClass:"fas fa-network-wired"})]),a("div",{staticClass:"label"},[t._v("Max Connection Usage")])]),a("div",{staticClass:"pt-3",staticStyle:{clear:"both"}},[a("v-list-item-title",[a("v-progress-linear",{attrs:{value:t.data.max_used_connections/t.data.max_connections*100,height:"20"}})],1),a("v-list-item-subtitle",[t._v(" "+t._s(t.data.max_used_connections)+" used of "+t._s(t.data.max_connections)+" ")])],1)])],1)])],1)],1)],1),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-card",[a("v-card-text",[a("form",{attrs:{action:"http://"+t.data.ip+"/phpmyadmin/",method:"post",target:"_blank"}},[a("input",{attrs:{type:"hidden",name:"pma_username"},domProps:{value:t.data.db_name}}),a("button",{attrs:{type:"submit"}},[t._v(" PhpMyAdmin "),a("v-icon",{attrs:{right:""}},[t._v("open_in_new")])],1)])])],1)],1),a("v-row",[a("IPRestrictions",{attrs:{active:t.data.ip_restrictions.active,items:t.data.ip_restrictions.ips,path:"servers/"+this.serverId+"/database/iprestrictions"},on:{save:function(e){return t.fetchData(!0)}}})],1)],1)],1)],1)},n=[],i=(a(41539),a(68309),a(4296)),s=a(84285),o=a(60862),c={components:{Loading:s.Z,IPRestrictions:o.Z},data:function(){return{loading:!1,error:"",data:{ip_restrictions:{}},details:"",fetching:!1,drawer:!1,serverId:0}},created:function(){this.serverId=this.$route.params.id,this.fetchData()},methods:{fetchData:function(){var t=this;this.error="",this.fetching=!0,i.Z.get("servers/"+this.serverId+"/database").then((function(e){if(console.log(e),e.data.error)return t.error=e.data.error,!1;t.data=e.data.item,document.title="Database | "+t.data.name})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))}}},l=c,u=a(1001),d=(0,u.Z)(l,r,n,!1,null,null,null),v=d.exports},22261:function(t,e,a){"use strict";var r=a(46916),n=a(1702),i=a(41340),s=a(67066),o=a(52999),c=a(72309),l=a(70030),u=a(29909).get,d=a(9441),v=a(38173),f=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,p=h,g=n("".charAt),m=n("".indexOf),x=n("".replace),_=n("".slice),b=function(){var t=/a/,e=/b*/g;return r(h,t,"a"),r(h,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),I=o.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],w=b||y||I||d||v;w&&(p=function(t){var e,a,n,o,c,d,v,w=this,k=u(w),E=i(t),R=k.raw;if(R)return R.lastIndex=w.lastIndex,e=r(p,R,E),w.lastIndex=R.lastIndex,e;var C=k.groups,$=I&&w.sticky,S=r(s,w),P=w.source,Z=0,A=E;if($&&(S=x(S,"y",""),-1===m(S,"g")&&(S+="g"),A=_(E,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==g(E,w.lastIndex-1))&&(P="(?: "+P+")",A=" "+A,Z++),a=new RegExp("^(?:"+P+")",S)),y&&(a=new RegExp("^"+P+"$(?!\\s)",S)),b&&(n=w.lastIndex),o=r(h,$?a:w,A),$?o?(o.input=_(o.input,Z),o[0]=_(o[0],Z),o.index=w.lastIndex,w.lastIndex+=o[0].length):w.lastIndex=0:b&&o&&(w.lastIndex=w.global?o.index+o[0].length:n),y&&o&&o.length>1&&r(f,o[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(o[c]=void 0)})),o&&C)for(o.groups=d=l(null),c=0;c<C.length;c++)v=C[c],d[v[0]]=o[v[1]];return o}),t.exports=p},67066:function(t,e,a){"use strict";var r=a(19670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},52999:function(t,e,a){var r=a(47293),n=a(17854),i=n.RegExp,s=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),o=s||r((function(){return!i("a","y").sticky})),c=s||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:c,MISSED_STICKY:o,UNSUPPORTED_Y:s}},9441:function(t,e,a){var r=a(47293),n=a(17854),i=n.RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},38173:function(t,e,a){var r=a(47293),n=a(17854),i=n.RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},74916:function(t,e,a){"use strict";var r=a(82109),n=a(22261);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},77601:function(t,e,a){"use strict";a(74916);var r=a(82109),n=a(17854),i=a(46916),s=a(1702),o=a(60614),c=a(70111),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=n.Error,d=s(/./.test);r({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!o(e))return d(this,t);var a=i(e,this,t);if(null!==a&&!c(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})}}]);
//# sourceMappingURL=7365-legacy.9cb30708.js.map