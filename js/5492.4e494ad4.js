"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[5492],{11912:function(e,t,a){a.d(t,{Z:function(){return c}});var l=a(66252),n=a(3577);const i=(0,l._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),r={class:"ml-2"};function o(e,t,a,o,u,d){const s=(0,l.up)("v-layout"),c=(0,l.up)("v-card-text"),m=(0,l.up)("v-card"),f=(0,l.up)("v-container"),p=(0,l.up)("v-dialog");return(0,l.wg)(),(0,l.j4)(p,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=t=>e.show=t),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"fill-height":""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{color:"primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{row:""},{default:(0,l.w5)((()=>[i,(0,l._)("h2",r,(0,n.zw)(a.message),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var u={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},d=a(48118);const s=(0,d.Z)(u,[["render",o]]);var c=s},53075:function(e,t,a){a.d(t,{Z:function(){return u}});var l=a(66252);function n(e,t,a,n,i,r){const o=(0,l.up)("v-icon");return"linode"===a.provider?((0,l.wg)(),(0,l.j4)(o,{key:0},{default:(0,l.w5)((()=>[(0,l.Uk)("fab fa-linode")])),_:1})):"digitalocean"===a.provider?((0,l.wg)(),(0,l.j4)(o,{key:1},{default:(0,l.w5)((()=>[(0,l.Uk)("fab fa-digital-ocean")])),_:1})):((0,l.wg)(),(0,l.j4)(o,{key:2},{default:(0,l.w5)((()=>[(0,l.Uk)("fas fa-server")])),_:1}))}var i={props:{provider:null}},r=a(48118);const o=(0,r.Z)(i,[["render",n]]);var u=o},45492:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var l=a(66252),n=a(3577);const i={key:0},r={key:0},o={key:0},u={key:1},d={key:2};function s(e,t,a,s,c,m){const f=(0,l.up)("v-alert"),p=(0,l.up)("Loading"),v=(0,l.up)("v-list-item"),w=(0,l.up)("v-select"),g=(0,l.up)("v-col"),h=(0,l.up)("v-row"),k=(0,l.up)("v-container"),_=(0,l.up)("ServerIcon"),y=(0,l.up)("v-icon"),W=(0,l.up)("v-data-table"),b=(0,l.up)("router-link"),U=(0,l.up)("v-list-item-title"),j=(0,l.up)("v-list"),V=(0,l.up)("v-card"),S=(0,l.up)("v-layout");return(0,l.wg)(),(0,l.j4)(S,{row:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{cols:"12"},{default:(0,l.w5)((()=>[c.error?((0,l.wg)(),(0,l.j4)(f,{key:0,type:"error",text:c.error},null,8,["text"])):(0,l.kq)("",!0),(0,l.Wm)(p,{value:c.loading},null,8,["value"]),(0,l.Wm)(V,{loading:c.fetching},{default:(0,l.w5)((()=>[c.items.length?((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(k,{fluid:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{modelValue:c.provider,"onUpdate:modelValue":t[0]||(t[0]=e=>c.provider=e),items:c.provider_opts,label:"Provider","hide-details":"",clearable:""},{item:(0,l.w5)((({props:e,item:t})=>[(0,l.Wm)(v,(0,l.dG)(e,{"prepend-icon":t?.raw?.icon,title:t?.raw?.title}),null,16,["prepend-icon","title"])])),_:1},8,["modelValue","items"])])),_:1}),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{modelValue:c.team,"onUpdate:modelValue":t[1]||(t[1]=e=>c.team=e),items:c.teams,"item-title":"name","item-value":"id",label:"Team","hide-details":"",clearable:""},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(W,{headers:m.headers,items:m.filtered},{"item.name":(0,l.w5)((({item:e})=>[(0,l.Wm)(v,{to:"/servers/"+e.id+"/summary",title:e.name,subtitle:e.hostname,class:"px-0"},(0,l.Nv)({_:2},[m.mobile?void 0:{name:"prepend",fn:(0,l.w5)((()=>[(0,l.Wm)(_,{provider:e.provider},null,8,["provider"])])),key:"0"}]),1032,["to","title","subtitle"])])),"item.connected":(0,l.w5)((({item:e})=>[(0,l.Wm)(v,null,{prepend:(0,l.w5)((()=>[0==e.connected?((0,l.wg)(),(0,l.j4)(y,{key:0,color:"error"},{default:(0,l.w5)((()=>[(0,l.Uk)(" fa-solid fa-circle ")])),_:1})):e.health?.length?((0,l.wg)(),(0,l.j4)(y,{key:1,color:"warning"},{default:(0,l.w5)((()=>[(0,l.Uk)("fas fa-exclamation-triangle fa-beat")])),_:1})):((0,l.wg)(),(0,l.j4)(y,{key:2,color:"success"},{default:(0,l.w5)((()=>[(0,l.Uk)(" fa-solid fa-circle ")])),_:1}))])),default:(0,l.w5)((()=>[m.mobile?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",r,[0==e.connected?((0,l.wg)(),(0,l.iD)("span",o," Unavailable ")):e.health?.length?((0,l.wg)(),(0,l.iD)("span",u,(0,n.zw)(e.health?.length)+" issue"+(0,n.zw)(1!==e.health?.length?"s":""),1)):((0,l.wg)(),(0,l.iD)("span",d," Connected "))]))])),_:2},1024)])),_:1},8,["headers","items"])])):((0,l.wg)(),(0,l.j4)(j,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{to:"/servers/create"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Add a server ")])),_:1})])),_:1})])),_:1})])),_:1}))])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})}a(57658);var c=a(1006),m=a(11912),f=a(53075),p=a(5455),v={components:{Loading:m.Z,ServerIcon:f.Z},data(){return{loading:!1,fetching:!1,error:null,items:[],team:null,teams:[],provider:null,provider_opts:[{title:"Linode",value:"linode",icon:"fab fa-linode"},{title:"Digital Ocean",value:"digitalocean",icon:"fab fa-digital-ocean"},{title:"Vultr",value:"vultr",icon:"fas fa-server"}]}},computed:{mobile:function(){const{mobile:e}=(0,p.AW)();return e.value},headers:function(){let e=[{title:"Server ",key:"name"},{title:"Status ",key:"connected"}];return this.mobile||e.push({title:"Region ",key:"region"},{title:"Image ",key:"image"},{title:"Type ",key:"type"}),e},filtered:function(){var e=this;let t=[];return this.items.forEach((a=>{if(!e.provider||a.provider!=e.provider){if(e.team){let t=!1;if(e.teams.forEach((function(l){l.id==e.team&&l.servers.forEach((function(e){e.server==a.id&&(t=!0)}))})),!t)return}t.push(a)}})),t}},created(){document.title="Servers",this.fetchData()},methods:{fetchData(){var e=this;this.error="",this.fetching=!0,c.Z.get("servers/").then((t=>{console.log(t),e.items=t.data.items})).catch((e=>console.log(e))).finally((()=>e.fetching=!1)),c.Z.get("teams/").then((t=>{console.log(t),e.teams=t.data.items})).catch((e=>console.log(e))).finally((()=>e.fetching=!1))}}},w=a(48118);const g=(0,w.Z)(v,[["render",s]]);var h=g}}]);
//# sourceMappingURL=5492.4e494ad4.js.map