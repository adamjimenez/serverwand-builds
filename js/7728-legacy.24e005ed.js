"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[7728],{48236:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(66252),a=r(3577),u=(0,n._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),l={style:{"margin-left":"10px"}};function o(e,t,r,o,i,s){var f=(0,n.up)("v-layout"),c=(0,n.up)("v-card-text"),d=(0,n.up)("v-card"),p=(0,n.up)("v-container"),m=(0,n.up)("v-dialog");return(0,n.wg)(),(0,n.j4)(m,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.show=t}),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,{"fill-height":""},{default:(0,n.w5)((function(){return[(0,n.Wm)(d,{color:"primary",dark:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(c,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(f,{row:""},{default:(0,n.w5)((function(){return[u,(0,n._)("h2",l,(0,a.zw)(r.message),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var i={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},s=r(48118);const f=(0,s.Z)(i,[["render",o]]);var c=f},88867:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(66252);function a(e,t,r,a,u,l){var o=(0,n.up)("v-icon");return"wordpress"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:0},{default:(0,n.w5)((function(){return[(0,n.Uk)("fab fa-wordpress")]})),_:1})):"git"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:1},{default:(0,n.w5)((function(){return[(0,n.Uk)("fab fa-git")]})),_:1})):"node"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:2},{default:(0,n.w5)((function(){return[(0,n.Uk)("fab fa-node-js")]})),_:1})):"joomla"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:3},{default:(0,n.w5)((function(){return[(0,n.Uk)("fab fa-joomla")]})),_:1})):"drupal"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:4},{default:(0,n.w5)((function(){return[(0,n.Uk)("fab fa-drupal")]})),_:1})):"magento"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:5},{default:(0,n.w5)((function(){return[(0,n.Uk)("fab fa-magento")]})),_:1})):"roundcube"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:6},{default:(0,n.w5)((function(){return[(0,n.Uk)("fas fa-envelope")]})),_:1})):"shiftlib"===r.app?((0,n.wg)(),(0,n.j4)(o,{key:7},{default:(0,n.w5)((function(){return[(0,n.Uk)("fas fa-user-edit")]})),_:1})):((0,n.wg)(),(0,n.j4)(o,{key:8},{default:(0,n.w5)((function(){return[(0,n.Uk)("fas fa-sitemap")]})),_:1}))}var u={props:{app:null}},l=r(48118);const o=(0,l.Z)(u,[["render",a]]);var i=o},77728:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n=r(66252),a=r(3577),u={key:0};function l(e,t,r,l,o,i){var s=(0,n.up)("v-alert"),f=(0,n.up)("Loading"),c=(0,n.up)("v-select"),d=(0,n.up)("v-card-text"),p=(0,n.up)("v-card"),m=(0,n.up)("SiteIcon"),v=(0,n.up)("v-list-item"),w=(0,n.up)("v-data-table"),g=(0,n.up)("v-col"),h=(0,n.up)("v-row"),k=(0,n.up)("v-layout");return(0,n.wg)(),(0,n.j4)(k,{row:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(h,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(g,{cols:"12"},{default:(0,n.w5)((function(){return[o.error?((0,n.wg)(),(0,n.j4)(s,{key:0,type:"error"},{default:(0,n.w5)((function(){return[(0,n.Uk)((0,a.zw)(o.error),1)]})),_:1})):(0,n.kq)("",!0),(0,n.Wm)(f,{value:o.loading},null,8,["value"]),(0,n.Wm)(p,{flat:"",loading:o.fetching,title:"Sites"},{default:(0,n.w5)((function(){return[(0,n.Wm)(p,{flat:""},{default:(0,n.w5)((function(){return[(0,n.Wm)(d,null,{default:(0,n.w5)((function(){return[(0,n.Wm)(c,{modelValue:o.server,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.server=e}),items:o.server_opts,label:"Server"},null,8,["modelValue","items"])]})),_:1})]})),_:1}),(0,n.Wm)(w,{headers:i.headers,items:o.filtered,class:"results"},{"item.domain":(0,n.w5)((function(e){var t=e.item;return[(0,n.Wm)(v,{to:"/sites/"+t.raw.id+"/summary",title:t.raw.domain,subtitle:o.servers[t.raw.server]},{prepend:(0,n.w5)((function(){return[(0,n.Wm)(m,{app:t.raw.app},null,8,["app"])]})),_:2},1032,["to","title","subtitle"])]})),"item.usage":(0,n.w5)((function(e){var t=e.item;return[t.raw.usage>0?((0,n.wg)(),(0,n.iD)("div",u,(0,a.zw)(i.prettyBytes(1024*t.raw.usage)),1)):(0,n.kq)("",!0)]})),_:1},8,["headers","items"])]})),_:1},8,["loading"])]})),_:1})]})),_:1})]})),_:1})}r(41539),r(54747),r(68309);var o=r(1006),i=r(72564),s=r(48236),f=r(88867),c=r(5455),d={components:{Loading:s.Z,SiteIcon:f.Z},data:function(){return{fetching:!1,loading:!1,error:"",filtered:[],items:[],servers:{},server:"*",server_opts:[{title:"All",value:"*"}],searchPanel:[!1],search:"",selected:[]}},computed:{mobile:function(){var e=(0,c.AW)(),t=e.mobile;return t.value},headers:function(){var e=[{title:"Domain",key:"domain"}];return this.mobile||e.push({title:"IP",key:"ip",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"},{title:"MX",key:"mx",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"},{title:"Size",key:"usage",class:"d-none d-sm-table-cell",cellClass:"d-none d-sm-table-cell"}),e}},created:function(){document.title="Sites",this.fetchData()},watch:{server:function(){var e=this;this.filtered=[],this.items.forEach((function(t){"*"!==e.server&&t.server!=e.server||e.filtered.push(t)})),localStorage.server=this.server}},methods:{fetchData:function(){var e=this;this.error="",this.fetching=!0,o.Z.get("sites/").then((function(t){if(console.log(t),t.data.error)return e.error=t.data.error,!1;e.items=t.data.items,t.data.items.forEach((function(t){e.filtered.push(t)})),o.Z.get("servers/").then((function(t){t.data.items.forEach((function(t){e.server_opts.push({title:t.name,value:t.id}),e.servers[t.id]=t.name}))}))})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1,localStorage.server&&(e.server=localStorage.server)}))},prettyBytes:function(e){return i.Z.prettyBytes(e)}}},p=r(48118);const m=(0,p.Z)(d,[["render",l]]);var v=m}}]);
//# sourceMappingURL=7728-legacy.24e005ed.js.map