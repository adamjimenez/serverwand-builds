"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[621],{84285:function(t,e,a){a.d(e,{Z:function(){return d}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),a("h2",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.message))])])],1)],1)],1)],1)},i=[],r={name:"Loading",data:()=>({}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},l=r,o=a(1001),s=(0,o.Z)(l,n,i,!1,null,null,null),d=s.exports},70621:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Loading",{attrs:{value:t.loading}}),a("v-card",{staticClass:"pa-3",attrs:{loading:t.fetching}},[a("v-list",[a("v-list-item-group",[t._l(t.notes,(function(e,n){return[a("v-list-item",{key:"item-"+n,attrs:{value:e},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[a("span",{staticStyle:{"white-space":"pre"}},[t._v(t._s(e.note))])]),a("v-list-item-subtitle",[t._v(" "+t._s(e.created)+" ")])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",disabled:t.fetching,loading:t.fetching},on:{click:function(a){return t.deleteItem(e.id)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1)],1),a("v-card",[a("div",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{on:{click:function(e){return t.addItem()}}},[t._v(" Add note ")])],1)],1)]),a("v-navigation-drawer",{attrs:{app:"",temporary:"",right:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",[a("v-card-title",[t._v(" Note ")]),a("v-card-text",[a("v-textarea",{attrs:{label:"Note"},model:{value:t.data.note,callback:function(e){t.$set(t.data,"note",e)},expression:"data.note"}}),a("v-btn",{attrs:{disabled:t.dialog,loading:t.loading,color:"success"},on:{click:t.saveItem}},[t._v(" Save ")])],1)],1)],1)],1)},i=[],r=a(4296),l=a(84285),o={components:{Loading:l.Z},data(){return{fetching:!1,loading:!1,id:null,error:null,data:{},notes:[],dialog:!1,details:"",rules:{required:t=>!!t||"Required.",min:t=>t.length>=8||"Min 8 characters"},domain:{name:""},drawer:!1}},created(){this.id=this.$route.params.id,this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData(){var t=this;this.error="",this.fetching=!0,r.Z.get("users/"+this.id+"/notes").then((e=>{console.log(e),t.notes=e.data.notes,document.title="Notes"})).catch((t=>console.log(t))).finally((()=>t.fetching=!1))},addItem(){this.domain.name="",this.drawer=!0},saveItem(){var t=this;this.data.note&&(this.details="",this.dialog=!0,this.error="",r.Z.post("users/"+this.id+"/notes",this.data).then((e=>{console.log(e),e.data.success?(t.data.note="",t.drawer=!1,t.fetchData()):t.error=e.data.error})).catch((e=>{console.log(e),t.dialog=!1})).finally((()=>t.dialog=!1)))},deleteItem(t){this.$confirm("Delete note?").then((e=>{if(e){var a=this;this.error="",this.dialog=!0,this.loading=!0,r.Z.post("users/"+this.id+"/notes",{delete:1,domain:t}).then((t=>{console.log(t),t.data.error?a.error=t.data.error:a.fetchData()})).catch((t=>console.log(t))).finally((()=>{a.dialog=!1,a.loading=!1}))}}))}}},s=o,d=a(1001),c=(0,d.Z)(s,n,i,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=621.532984ce.js.map