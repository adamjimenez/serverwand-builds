(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[5568],{37428:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{ref:"container"},[t.text?a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("span",t._g({on:{click:function(e){return t.copy(t.val)},mouseleave:function(e){return t.resetCopyText()}}},n),[t._v(" "+t._s(t.val)+" ")])]}}],null,!1,276876146)},[a("span",[t._v(t._s(t.copyText))])]):a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.copy(t.val)},mouseleave:function(e){return t.resetCopyText()}}},n),[a("v-icon",{attrs:{small:""}},[t._v("file_copy")])],1)]}}])},[a("span",[t._v(t._s(t.copyText))])])],1)},i=[],s={props:{val:null,text:Boolean},data:function(){return{copyText:"Copy"}},methods:{copy:function(t){var e=document.createElement("textarea");this.$refs["container"].appendChild(e),e.setAttribute("id","clipboard"),e.value=t,e.select(),document.execCommand("Copy"),e.parentNode.removeChild(e),this.copyText="Copied"},resetCopyText:function(){var t=this;setTimeout((function(){return t.copyText="Copy"}),500)}}},r=s,o=a(1001),l=(0,o.Z)(r,n,i,!1,null,null,null),c=l.exports},65924:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t.yesno?a("span",[t._v(" "+t._s(t.val?"Yes":"No")+" ")]):t.password?a("span",[t._v(" "+t._s("******")+" ")]):t.hideText?t._e():a("span",[t._v(" "+t._s(t.val)+" ")]),a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{icon:""},on:{click:function(e){return t.edit(t.val)}}},n),[a("v-icon",{attrs:{small:""}},[t._v("create")])],1)]}}])},[a("span",[t._v("Edit")])]),a("v-dialog",{attrs:{app:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{loading:t.fetching}},[a("v-card-title",[t._v(" Edit "+t._s(t.label)+" ")]),a("v-card-text",[t.yesno?a("v-select",{attrs:{items:t.yesnoItems,label:t.label,autofocus:"",error:t.errors.length>0,"error-messages":t.errors},model:{value:t.data.val,callback:function(e){t.$set(t.data,"val",e)},expression:"data.val"}}):a("v-text-field",{attrs:{label:t.label,autofocus:"",type:!t.password||t.showPassword?"text":"password","append-icon":t.password?t.showPassword?"visibility_off":"visibility":"","error-messages":t.errors},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.data.val,callback:function(e){t.$set(t.data,"val",e)},expression:"data.val"}}),a("v-btn",{attrs:{color:"primary"},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1)],1)},i=[],s=(a(68309),a(41539),a(4296)),r={props:{name:null,val:null,label:null,password:Boolean,hideText:Boolean,path:null,yesno:Boolean},data:function(){return{fetching:!1,dialog:!1,data:{val:null},showPassword:!1,yesnoItems:[{text:"Yes",value:1},{text:"No",value:0}],errors:[]}},watch:{val:function(t){this.data.val=t}},methods:{edit:function(){this.data.val=this.val,this.dialog=!0},save:function(){this.fetching=!0,this.errors=[];var t={};t[this.name]=this.data.val;var e=this;s.Z.post(this.path,t).then((function(t){console.log(t),t.data.success?(e.val=e.data.val,e.dialog=!1,e.$emit("save")):e.errors.push(t.data.error)})).catch((function(t){return console.log(t)})).finally((function(){return e.fetching=!1}))}}},o=r,l=a(1001),c=(0,l.Z)(o,n,i,!1,null,null,null),u=c.exports},60862:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),a("v-switch",{staticClass:"mx-3",attrs:{label:"IP restrictions"},on:{change:t.toggle},model:{value:t.data.active,callback:function(e){t.$set(t.data,"active",e)},expression:"data.active"}}),t.data.active?a("div",[a("v-list",[a("v-list-item-group",[t._l(t.items,(function(e,n){return[a("v-list-item",{key:"item-"+n,attrs:{value:e},scopedSlots:t._u([{key:"default",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[t._v(" "+t._s(e.ip)+" ")]),a("v-list-item-subtitle",[t._v(" "+t._s(e.label)+" ")])],1),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",disabled:t.fetching,loading:t.fetching},on:{click:function(a){return t.deleteItem(e.line)}}},[a("v-icon",{attrs:{small:""}},[t._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1),a("v-card",[a("div",[a("v-card-title",{attrs:{"primary-title":""}},[a("v-btn",{on:{click:function(e){return t.addItem()}}},[t._v(" Add IP ")])],1)],1)])],1):t._e(),a("v-navigation-drawer",{attrs:{app:"",temporary:"",right:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-card",[a("v-form",{ref:"form"},[a("v-card-title",[t._v(" IP ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Label",required:""},model:{value:t.item.label,callback:function(e){t.$set(t.item,"label",e)},expression:"item.label"}}),a("v-text-field",{attrs:{label:"IP address",required:"",rules:[t.rules.ip]},model:{value:t.item.ip,callback:function(e){t.$set(t.item,"ip",e)},expression:"item.ip"}}),a("v-btn",{attrs:{disabled:t.fetching,loading:t.fetching,color:"success"},on:{click:t.saveItem}},[t._v(" Save ")])],1)],1)],1)],1)],1)},i=[],s=(a(74916),a(77601),a(41539),a(4296)),r={props:{serverId:null,active:null,items:null,path:null},data:function(){return{data:{active:null},item:{},fetching:!1,drawer:!1,rules:{required:function(t){return!!t||"Required."},ip:function(t){return!t||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)||"Invalid IP address"}},error:null}},watch:{active:function(t){this.data.active=t}},methods:{toggle:function(){var t=this;this.fetching=!0,this.error="",s.Z.post(this.path,{active:this.data.active}).then((function(e){console.log(e),e.data.success||(t.error=e.data.error)})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1,t.$emit("save")}))},addItem:function(){this.item={},this.drawer=!0},deleteItem:function(t){var e=this;this.$confirm("Delete IP?").then((function(a){if(a){var n=e;e.fetching=!0,e.error="",s.Z.post(e.path,{line:t}).then((function(t){console.log(t),t.data.success||(n.error=t.data.error)})).catch((function(t){console.log(t)})).finally((function(){e.fetching=!1,n.$emit("save")}))}}))},saveItem:function(){var t=this,e=this;this.error="",this.$refs.form.validate()&&(this.fetching=!0,s.Z.post(this.path,this.item).then((function(t){console.log(t),t.data.error?e.error=t.data.error:(e.drawer=!1,e.$emit("save"))})).catch((function(t){return console.log(t)})).finally((function(){t.fetching=!1})))}}},o=r,l=a(1001),c=(0,l.Z)(o,n,i,!1,null,null,null),u=c.exports},84285:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[a("v-container",{attrs:{"fill-height":""}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),a("h2",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.message))])])],1)],1)],1)],1)},i=[],s={name:"Loading",data:function(){return{}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},r=s,o=a(1001),l=(0,o.Z)(r,n,i,!1,null,null,null),c=l.exports},75568:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return h}});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.error?a("v-alert",{attrs:{type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),t.enablingSSL?a("v-alert",{staticClass:"ma-0"},[a("strong",[t._v("Enabling SSL")])]):t._e(),t.data.dns&&t.data.dns.updating?a("v-alert",{staticClass:"ma-0"},[a("strong",[t._v("Checking DNS..")])]):t._e(),t.authRequired?a("v-alert",{staticClass:"ma-0"},[a("strong",[t._v("DNS auth required: ")]),a("v-btn",{on:{click:function(e){return t.authPrompt()}}},[t._v("Fix")])],1):t._e(),a("Loading",{attrs:{value:t.loading}}),a("v-card",{staticClass:"pa-3",attrs:{loading:t.fetching}},[a("v-list",[!t.authRequired&&t.data.server&&t.data.dns&&t.data.dns.A!=t.data.server.ip?a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" DNS mismatch ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.data.dns.A)+" != "+t._s(t.data.server.ip)+" "),t.data.dns.not_set?a("v-btn",{on:{click:function(e){return t.fixDomainDns(t.data.domain)}}},[t._v("Fix")]):t._e()],1)],1)],1):t._e(),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" Disk Usage ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t._f("prettyBytes")(1024*t.data.disk_usage))+" ")])],1)],1),a("v-divider"),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" FTP Host ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.data.domain)+" "),a("Copy",{attrs:{val:t.data.domain}})],1)],1)],1),a("v-divider"),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" Username ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.data.domain)+" "),a("Copy",{attrs:{val:t.data.domain}})],1)],1)],1),a("v-divider"),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" Password ")]),a("v-list-item-subtitle",[a("Edit",{attrs:{val:t.data.ftp_password,label:"FTP Password",name:"password",password:"",path:"sites/"+this.siteId+"/update"},on:{save:function(e){return t.fetchData(!0)}}})],1)],1)],1),a("v-divider"),t.data.origin?a("div",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" Password protection ")]),a("v-list-item-subtitle",[a("v-switch",{attrs:{label:"Active"},on:{change:function(e){return t.toggleAuth()}},model:{value:t.data.auth.active,callback:function(e){t.$set(t.data.auth,"active",e)},expression:"data.auth.active"}})],1)],1)],1),a("v-divider"),t.data.auth.active?a("div",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" Username ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.data.auth.username)+" "),a("Copy",{attrs:{val:t.data.auth.username,text:""}})],1)],1)],1),a("v-divider"),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[t._v(" Password ")]),a("v-list-item-subtitle",[t._v(" "+t._s(t.data.auth.password)+" "),a("Edit",{attrs:{val:t.data.auth.password,label:"Auth Password",name:"password",password:"",path:"sites/"+this.siteId+"/auth"},on:{save:function(e){return t.fetchData(!0)}}})],1)],1)],1)],1):t._e(),a("v-divider")],1):t._e(),a("IPRestrictions",{attrs:{active:t.data.ip_restrictions.active,items:t.data.ip_restrictions.ips,path:"sites/"+this.siteId+"/iprestrictions"},on:{save:function(e){return t.fetchData(!0)}}})],1)],1)],1)},i=[],s=(a(41539),a(4296)),r=a(84285),o=a(37428),l=a(65924),c=a(60862),u={components:{Loading:r.Z,Copy:o.Z,Edit:l.Z,IPRestrictions:c.Z},data:function(){return{siteId:null,post:null,error:null,data:{disk_usage:0,server:{},app:{},dns:{},auth:{},ip_restrictions:{}},details:"",loading:!1,fetching:!1,enablingSSL:!1,passwordPanel:[!1],passwordFormValid:!0,showPassword:!1,password:"",rules:{required:function(t){return!!t||"Required."},min:function(t){return t.length>=8||"Min 8 characters"},emailMatch:function(){return"The email and password you entered don't match"}},alias:{domain:"",dns:!0},copyText:"Copy",timer:null,authRequired:!1}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(t){var e=this;this.error="",this.siteId=this.$route.params.id,clearTimeout(e.timer),this.fetching=!0,s.Z.get("sites/"+this.siteId+"/summary",{clearCacheEntry:t}).then((function(t){console.log(t),t.data.item&&(e.data=t.data.item),e.data.domain&&(document.title="Summary | "+e.data.domain)})).catch((function(t){console.log(t)})).finally((function(){e.fetching=!1,e.data.dns&&e.data.dns.updating&&(console.log("checking dns"),e.timer=setTimeout((function(){e.fetchData(!0)}),1e4))}))},fixDomainDns:function(){var t=this;this.error="",this.loading=!0,s.Z.post("sites/"+t.siteId+"/fixdns",{}).then((function(e){console.log(e),t.loading=!1,e.data.success?t.fetchData(!0):"auth"==e.data.error?t.authRequired=!0:t.error=e.data.error})).catch((function(t){console.log(t)}))},authPrompt:function(){this.authRequired=!1,window.open("https://serverwand.com/account/services/"+this.data.server.dns)},toggleAuth:function(){var t=this;this.fetching=!0,this.error="",s.Z.post("sites/"+this.siteId+"/auth",{status:this.data.auth.active}).then((function(e){console.log(e),e.data.success?t.fetchData(!0):t.error=e.data.error})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))}}},d=u,v=a(1001),f=(0,v.Z)(d,n,i,!1,null,null,null),h=f.exports},22261:function(t,e,a){"use strict";var n=a(46916),i=a(1702),s=a(41340),r=a(67066),o=a(52999),l=a(72309),c=a(70030),u=a(29909).get,d=a(9441),v=a(38173),f=l("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,p=h,m=i("".charAt),g=i("".indexOf),_=i("".replace),x=i("".slice),y=function(){var t=/a/,e=/b*/g;return n(h,t,"a"),n(h,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),b=o.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],I=y||w||b||d||v;I&&(p=function(t){var e,a,i,o,l,d,v,I=this,k=u(I),C=s(t),E=k.raw;if(E)return E.lastIndex=I.lastIndex,e=n(p,E,C),I.lastIndex=E.lastIndex,e;var P=k.groups,S=b&&I.sticky,R=n(r,I),$=I.source,T=0,D=C;if(S&&(R=_(R,"y",""),-1===g(R,"g")&&(R+="g"),D=x(C,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==m(C,I.lastIndex-1))&&($="(?: "+$+")",D=" "+D,T++),a=new RegExp("^(?:"+$+")",R)),w&&(a=new RegExp("^"+$+"$(?!\\s)",R)),y&&(i=I.lastIndex),o=n(h,S?a:I,D),S?o?(o.input=x(o.input,T),o[0]=x(o[0],T),o.index=I.lastIndex,I.lastIndex+=o[0].length):I.lastIndex=0:y&&o&&(I.lastIndex=I.global?o.index+o[0].length:i),w&&o&&o.length>1&&n(f,o[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o&&P)for(o.groups=d=c(null),l=0;l<P.length;l++)v=P[l],d[v[0]]=o[v[1]];return o}),t.exports=p},67066:function(t,e,a){"use strict";var n=a(19670);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},52999:function(t,e,a){var n=a(47293),i=a(17854),s=i.RegExp,r=n((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),o=r||n((function(){return!s("a","y").sticky})),l=r||n((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:o,UNSUPPORTED_Y:r}},9441:function(t,e,a){var n=a(47293),i=a(17854),s=i.RegExp;t.exports=n((function(){var t=s(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},38173:function(t,e,a){var n=a(47293),i=a(17854),s=i.RegExp;t.exports=n((function(){var t=s("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},74916:function(t,e,a){"use strict";var n=a(82109),i=a(22261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},77601:function(t,e,a){"use strict";a(74916);var n=a(82109),i=a(17854),s=a(46916),r=a(1702),o=a(60614),l=a(70111),c=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=i.Error,d=r(/./.test);n({target:"RegExp",proto:!0,forced:!c},{test:function(t){var e=this.exec;if(!o(e))return d(this,t);var a=s(e,this,t);if(null!==a&&!l(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})}}]);
//# sourceMappingURL=5568-legacy.07b1de07.js.map