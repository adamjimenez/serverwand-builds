(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[2130],{84285:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{persistent:"",content:"","content-class":"centered-dialog"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[r("v-container",{attrs:{"fill-height":""}},[r("v-card",{attrs:{color:"primary",dark:""}},[r("v-card-text",[r("v-layout",{attrs:{row:""}},[r("i",{staticClass:"fas fa-magic fa-2x faa-horizontal animated"}),r("h2",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.message))])])],1)],1)],1)],1)},o=[],a={name:"Loading",data:function(){return{}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}}},s=a,i=r(1001),c=(0,i.Z)(s,n,o,!1,null,null,null),l=c.exports},42130:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.error?r("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),r("Loading",{attrs:{value:e.loading}}),r("v-card",{staticClass:"pa-3",attrs:{loading:e.fetching}},[r("v-list",[r("v-list-item-group",[e._l(e.data.cronjobs,(function(t,n){return[r("v-list-item",{key:"item-"+n,attrs:{value:t},on:{click:function(r){return e.editItem(t)}},scopedSlots:e._u([{key:"default",fn:function(){return[r("v-list-item-content",[r("v-list-item-title",[!1===t.active?r("v-icon",[e._v("block")]):e._e(),e._v(" "+e._s(t.command)+" ")],1),r("v-list-item-subtitle",[e._v(" "+e._s(t.user)+" "+e._s(t.minute)+" "+e._s(t.hour)+" "+e._s(t.dom)+" "+e._s(t.mon)+" "+e._s(t.dow)+" ")])],1),r("v-list-item-action",[r("v-btn",{attrs:{icon:"",disabled:e.fetching,loading:e.fetching},on:{click:[function(r){return e.deleteItem(t.line)},function(e){e.stopPropagation()}]}},[r("v-icon",{attrs:{small:""}},[e._v("delete")])],1)],1)]},proxy:!0}],null,!0)})]}))],2)],1)],1),r("v-card",[r("div",[r("v-card-title",{attrs:{"primary-title":""}},[r("v-btn",{on:{click:function(t){return e.addItem()}}},[e._v(" Add cron job ")])],1)],1)]),r("v-navigation-drawer",{attrs:{app:"",temporary:"",right:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-card",[r("v-form",{ref:"cronjobForm"},[r("v-card-title",[e._v(" Cronjob ")]),r("v-card-text",[r("v-switch",{attrs:{label:"Active"},model:{value:e.cronjob.active,callback:function(t){e.$set(e.cronjob,"active",t)},expression:"cronjob.active"}}),r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:"Line"},model:{value:e.cronjob.line,callback:function(t){e.$set(e.cronjob,"line",t)},expression:"cronjob.line"}}),r("v-text-field",{attrs:{label:"Command",required:"",rules:[e.rules.required]},model:{value:e.cronjob.command,callback:function(t){e.$set(e.cronjob,"command",t)},expression:"cronjob.command"}}),r("v-text-field",{attrs:{label:"User",required:"",rules:[e.rules.required,e.rules.alpha]},model:{value:e.cronjob.user,callback:function(t){e.$set(e.cronjob,"user",t)},expression:"cronjob.user"}}),r("v-text-field",{attrs:{label:"Minute",required:"",rules:[e.rules.required,e.rules.minute]},model:{value:e.cronjob.minute,callback:function(t){e.$set(e.cronjob,"minute",t)},expression:"cronjob.minute"}}),r("v-text-field",{attrs:{label:"Hour",required:"",rules:[e.rules.required,e.rules.hour]},model:{value:e.cronjob.hour,callback:function(t){e.$set(e.cronjob,"hour",t)},expression:"cronjob.hour"}}),r("v-text-field",{attrs:{label:"Day of month",required:"",rules:[e.rules.required,e.rules.dom]},model:{value:e.cronjob.dom,callback:function(t){e.$set(e.cronjob,"dom",t)},expression:"cronjob.dom"}}),r("v-text-field",{attrs:{label:"Month",required:"",rules:[e.rules.required,e.rules.mon]},model:{value:e.cronjob.mon,callback:function(t){e.$set(e.cronjob,"mon",t)},expression:"cronjob.mon"}}),r("v-text-field",{attrs:{label:"Day of week",required:"",rules:[e.rules.required,e.rules.dow]},model:{value:e.cronjob.dow,callback:function(t){e.$set(e.cronjob,"dow",t)},expression:"cronjob.dow"}}),r("v-btn",{attrs:{disabled:e.fetching,loading:e.fetching,color:"success"},on:{click:e.saveCronjob}},[e._v(" Save ")])],1)],1)],1)],1)],1)},o=[],a=(r(74916),r(77601),r(41539),r(68309),r(38862),r(4296)),s=r(84285),i={components:{Loading:s.Z},data:function(){return{error:"",data:{users:{}},system_user:{user:"",password:""},cronjob:{active:!0,name:"",user:"",command:"",minute:"",hour:"",dom:"",mon:"",dow:""},cronjobs:[],rules:{required:function(e){return!!e||"Required."},alpha:function(e){return/^[a-zA-Z-]+$/g.test(e)||"Must contain a-z characters only"},minute:function(e){return/^[0-9,/*]+$/g.test(e)||"0-59 or *"},hour:function(e){return/^[0-9,/*]+$/g.test(e)||"0-23 or *"},dom:function(e){return/^[0-9,/*]+$/g.test(e)||"1-31 or *"},mon:function(e){return/^[0-9,/*]+$/g.test(e)||"1-12 or *"},dow:function(e){return/^[0-9,/*]+$/g.test(e)||"1-7 or *"}},details:"",fetching:!1,loading:!1,drawer:!1,serverId:0,logs:[{value:"journal",text:"Journal"},{value:"auth",text:"Auth"},{value:"apache_access",text:"Apache Access"},{value:"apache_error",text:"Apache Error"},{value:"mysql",text:"MySQL"},{value:"fail2ban",text:"Fail2ban"},{value:"letsencrypt",text:"Letsencrypt"},{value:"serverstatus",text:"Server Status"}],log:"",logContent:""}},created:function(){this.serverId=this.$route.params.id,this.fetchData()},methods:{fetchData:function(){var e=this;this.error="",this.fetching=!0,a.Z.get("servers/"+this.serverId+"/cronjobs").then((function(t){if(console.log(t),t.data.error)return e.error=t.data.error,!1;e.data=t.data.item,document.title="Cronjobs | "+e.data.name})).catch((function(e){console.log(e)})).finally((function(){e.fetching=!1}))},addItem:function(){this.cronjob={},this.$refs.cronjobForm.resetValidation(),this.drawer=!0},editItem:function(e){this.cronjob=JSON.parse(JSON.stringify(e)),this.drawer=!0},deleteItem:function(e){var t=this;this.$confirm("Delete cron job?").then((function(r){if(r){var n=t;t.fetching=!0,t.error="",a.Z.post("servers/"+t.serverId+"/cronjobs",{line:e}).then((function(e){console.log(e),e.data.success?n.fetchData():(n.fetching=!1,n.error=e.data.error)})).catch((function(e){n.fetching=!1,console.log(e)}))}}))},saveCronjob:function(){var e=this;this.error="",this.$refs.cronjobForm.validate()&&(this.fetching=!0,a.Z.post("servers/"+this.serverId+"/cronjobs",this.cronjob).then((function(t){console.log(t),t.data.error?(e.fetching=!1,e.error=t.data.error):(e.drawer=!1,e.fetchData())})).catch((function(t){e.fetching=!1,console.log(t)})))}}},c=i,l=r(1001),u=(0,l.Z)(c,n,o,!1,null,null,null),d=u.exports},22261:function(e,t,r){"use strict";var n=r(46916),o=r(1702),a=r(41340),s=r(67066),i=r(52999),c=r(72309),l=r(70030),u=r(29909).get,d=r(9441),f=r(38173),v=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,b=o("".charAt),g=o("".indexOf),p=o("".replace),x=o("".slice),j=function(){var e=/a/,t=/b*/g;return n(h,e,"a"),n(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=i.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],I=j||y||_||d||f;I&&(m=function(e){var t,r,o,i,c,d,f,I=this,w=u(I),k=a(e),$=w.raw;if($)return $.lastIndex=I.lastIndex,t=n(m,$,k),I.lastIndex=$.lastIndex,t;var E=w.groups,q=_&&I.sticky,S=n(s,I),R=I.source,C=0,A=k;if(q&&(S=p(S,"y",""),-1===g(S,"g")&&(S+="g"),A=x(k,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==b(k,I.lastIndex-1))&&(R="(?: "+R+")",A=" "+A,C++),r=new RegExp("^(?:"+R+")",S)),y&&(r=new RegExp("^"+R+"$(?!\\s)",S)),j&&(o=I.lastIndex),i=n(h,q?r:I,A),q?i?(i.input=x(i.input,C),i[0]=x(i[0],C),i.index=I.lastIndex,I.lastIndex+=i[0].length):I.lastIndex=0:j&&i&&(I.lastIndex=I.global?i.index+i[0].length:o),y&&i&&i.length>1&&n(v,i[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i&&E)for(i.groups=d=l(null),c=0;c<E.length;c++)f=E[c],d[f[0]]=i[f[1]];return i}),e.exports=m},67066:function(e,t,r){"use strict";var n=r(19670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},52999:function(e,t,r){var n=r(47293),o=r(17854),a=o.RegExp,s=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=s||n((function(){return!a("a","y").sticky})),c=s||n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:i,UNSUPPORTED_Y:s}},9441:function(e,t,r){var n=r(47293),o=r(17854),a=o.RegExp;e.exports=n((function(){var e=a(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},38173:function(e,t,r){var n=r(47293),o=r(17854),a=o.RegExp;e.exports=n((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},74916:function(e,t,r){"use strict";var n=r(82109),o=r(22261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},77601:function(e,t,r){"use strict";r(74916);var n=r(82109),o=r(17854),a=r(46916),s=r(1702),i=r(60614),c=r(70111),l=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=o.Error,d=s(/./.test);n({target:"RegExp",proto:!0,forced:!l},{test:function(e){var t=this.exec;if(!i(t))return d(this,e);var r=a(t,this,e);if(null!==r&&!c(r))throw new u("RegExp exec method returned something other than an Object or null");return!!r}})}}]);
//# sourceMappingURL=2130-legacy.0a315120.js.map