"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[5492],{11912:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(66252),i=n(3577),u=(0,r._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),a={class:"ml-2"};function l(e,t,n,l,o,c){var d=(0,r.up)("v-layout"),f=(0,r.up)("v-card-text"),s=(0,r.up)("v-card"),v=(0,r.up)("v-container"),m=(0,r.up)("v-dialog");return(0,r.wg)(),(0,r.j4)(m,{modelValue:e.show,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.show=t}),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,r.w5)((function(){return[(0,r.Wm)(v,{"fill-height":""},{default:(0,r.w5)((function(){return[(0,r.Wm)(s,{color:"primary"},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{row:""},{default:(0,r.w5)((function(){return[u,(0,r._)("h2",a,(0,i.zw)(n.message),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])}var o={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},c=n(48118);const d=(0,c.Z)(o,[["render",l]]);var f=d},53075:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(66252);function i(e,t,n,i,u,a){var l=(0,r.up)("v-icon");return"linode"===n.provider?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((function(){return[(0,r.Uk)("fab fa-linode")]})),_:1})):"digitalocean"===n.provider?((0,r.wg)(),(0,r.j4)(l,{key:1},{default:(0,r.w5)((function(){return[(0,r.Uk)("fab fa-digital-ocean")]})),_:1})):((0,r.wg)(),(0,r.j4)(l,{key:2},{default:(0,r.w5)((function(){return[(0,r.Uk)("fas fa-server")]})),_:1}))}var u={props:{provider:null}},a=n(48118);const l=(0,a.Z)(u,[["render",i]]);var o=l},45492:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});n(68309);var r=n(66252),i=n(3577),u={key:0},a={key:0},l={key:0},o={key:1},c={key:2};function d(e,t,n,d,f,s){var v=(0,r.up)("v-alert"),m=(0,r.up)("Loading"),p=(0,r.up)("v-list-item"),w=(0,r.up)("v-select"),g=(0,r.up)("v-col"),h=(0,r.up)("v-row"),k=(0,r.up)("v-container"),_=(0,r.up)("ServerIcon"),y=(0,r.up)("v-icon"),W=(0,r.up)("v-data-table"),b=(0,r.up)("router-link"),U=(0,r.up)("v-list-item-title"),j=(0,r.up)("v-list"),V=(0,r.up)("v-card"),S=(0,r.up)("v-layout");return(0,r.wg)(),(0,r.j4)(S,{row:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{cols:"12"},{default:(0,r.w5)((function(){return[f.error?((0,r.wg)(),(0,r.j4)(v,{key:0,type:"error",text:f.error},null,8,["text"])):(0,r.kq)("",!0),(0,r.Wm)(m,{value:f.loading},null,8,["value"]),(0,r.Wm)(V,{loading:f.fetching},{default:(0,r.w5)((function(){return[f.items.length?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(k,{fluid:""},{default:(0,r.w5)((function(){return[(0,r.Wm)(h,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{modelValue:f.provider,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.provider=e}),items:f.provider_opts,label:"Provider","hide-details":"",clearable:""},{item:(0,r.w5)((function(e){var t,n,i=e.props,u=e.item;return[(0,r.Wm)(p,(0,r.dG)(i,{"prepend-icon":null===u||void 0===u||null===(t=u.raw)||void 0===t?void 0:t.icon,title:null===u||void 0===u||null===(n=u.raw)||void 0===n?void 0:n.title}),null,16,["prepend-icon","title"])]})),_:1},8,["modelValue","items"])]})),_:1}),(0,r.Wm)(g,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{modelValue:f.team,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.team=e}),items:f.teams,"item-title":"name","item-value":"id",label:"Team","hide-details":"",clearable:""},null,8,["modelValue","items"])]})),_:1})]})),_:1})]})),_:1}),(0,r.Wm)(W,{headers:s.headers,items:s.filtered},{"item.name":(0,r.w5)((function(e){var t=e.item;return[(0,r.Wm)(p,{to:"/servers/"+t.id+"/summary",title:t.name,subtitle:t.hostname,class:"px-0"},(0,r.Nv)({_:2},[s.mobile?void 0:{name:"prepend",fn:(0,r.w5)((function(){return[(0,r.Wm)(_,{provider:t.provider},null,8,["provider"])]})),key:"0"}]),1032,["to","title","subtitle"])]})),"item.connected":(0,r.w5)((function(e){var t=e.item;return[(0,r.Wm)(p,null,{prepend:(0,r.w5)((function(){var e;return[0==t.connected?((0,r.wg)(),(0,r.j4)(y,{key:0,color:"error"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" fa-solid fa-circle ")]})),_:1})):null!==(e=t.health)&&void 0!==e&&e.length?((0,r.wg)(),(0,r.j4)(y,{key:1,color:"warning"},{default:(0,r.w5)((function(){return[(0,r.Uk)("fas fa-exclamation-triangle fa-beat")]})),_:1})):((0,r.wg)(),(0,r.j4)(y,{key:2,color:"success"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" fa-solid fa-circle ")]})),_:1}))]})),default:(0,r.w5)((function(){var e,n,u;return[s.mobile?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",a,[0==t.connected?((0,r.wg)(),(0,r.iD)("span",l," Unavailable ")):null!==(e=t.health)&&void 0!==e&&e.length?((0,r.wg)(),(0,r.iD)("span",o,(0,i.zw)(null===(n=t.health)||void 0===n?void 0:n.length)+" issue"+(0,i.zw)(1!==(null===(u=t.health)||void 0===u?void 0:u.length)?"s":""),1)):((0,r.wg)(),(0,r.iD)("span",c," Connected "))]))]})),_:2},1024)]})),_:1},8,["headers","items"])])):((0,r.wg)(),(0,r.j4)(j,{key:1},{default:(0,r.w5)((function(){return[(0,r.Wm)(p,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(U,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(b,{to:"/servers/create"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" Add a server ")]})),_:1})]})),_:1})]})),_:1})]})),_:1}))]})),_:1},8,["loading"])]})),_:1})]})),_:1})]})),_:1})}n(57658),n(41539),n(54747);var f=n(1006),s=n(11912),v=n(53075),m=n(5455),p={components:{Loading:s.Z,ServerIcon:v.Z},data:function(){return{loading:!1,fetching:!1,error:null,items:[],team:null,teams:[],provider:null,provider_opts:[{title:"Linode",value:"linode",icon:"fab fa-linode"},{title:"Digital Ocean",value:"digitalocean",icon:"fab fa-digital-ocean"},{title:"Vultr",value:"vultr",icon:"fas fa-server"}]}},computed:{mobile:function(){var e=(0,m.AW)(),t=e.mobile;return t.value},headers:function(){var e=[{title:"Server ",key:"name"},{title:"Status ",key:"connected"}];return this.mobile||e.push({title:"Region ",key:"region"},{title:"Image ",key:"image"},{title:"Type ",key:"type"}),e},filtered:function(){var e=this,t=[];return this.items.forEach((function(n){if(!e.provider||n.provider!=e.provider){if(e.team){var r=!1;if(e.teams.forEach((function(t){t.id==e.team&&t.servers.forEach((function(e){e.server==n.id&&(r=!0)}))})),!r)return}t.push(n)}})),t}},created:function(){document.title="Servers",this.fetchData()},methods:{fetchData:function(){var e=this;this.error="",this.fetching=!0,f.Z.get("servers/").then((function(t){console.log(t),e.items=t.data.items})).catch((function(e){return console.log(e)})).finally((function(){return e.fetching=!1})),f.Z.get("teams/").then((function(t){console.log(t),e.teams=t.data.items})).catch((function(e){return console.log(e)})).finally((function(){return e.fetching=!1}))}}},w=n(48118);const g=(0,w.Z)(p,[["render",d]]);var h=g}}]);
//# sourceMappingURL=5492-legacy.5c553bf3.js.map