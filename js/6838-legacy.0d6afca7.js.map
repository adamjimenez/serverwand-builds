{"version":3,"file":"js/6838-legacy.0d6afca7.js","mappings":"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","sources":["webpack://ServerWand/./src/components/Loading.vue","webpack://ServerWand/./src/components/Loading.vue?1ccf","webpack://ServerWand/./src/components/SiteIcon.vue","webpack://ServerWand/./src/components/SiteIcon.vue?5050","webpack://ServerWand/./src/views/Sites.vue","webpack://ServerWand/./src/views/Sites.vue?d3a5"],"sourcesContent":["<template>\n  <v-dialog v-model=\"show\" persistent width=\"600\">\n    <v-alert :title=\"message\" color=\"primary\">\n      <template v-slot:prepend>\n        <v-icon icon=\"fas fa-magic fa-2x faa-horizontal animated\"></v-icon>\n      </template>\n    </v-alert>\n  </v-dialog>\n</template>\n\n<script>\nexport default {\n  name: \"Loading\",\n  data: () => {\n    return {\n      show: false\n    }\n  },\n  props: {\n    value: {\n      type: Boolean,\n      default: false,\n    },\n    message: {\n      type: String,\n      default: \"Summoning...\",\n    },\n  },\n  watch: {\n    value: function (newVal) {\n      this.show = newVal;\n    }\n  }\n};\n</script>\n\n<style>\n.v-dialog.centered-dialog {\n  box-shadow: none;\n  border-radius: 0;\n  width: auto;\n}\n</style>","import { render } from \"./Loading.vue?vue&type=template&id=d2c3f588\"\nimport script from \"./Loading.vue?vue&type=script&lang=js\"\nexport * from \"./Loading.vue?vue&type=script&lang=js\"\n\nimport \"./Loading.vue?vue&type=style&index=0&id=d2c3f588&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <v-icon v-if=\"app === 'wordpress'\" @click.stop=\"openLink\">fab fa-wordpress</v-icon>\n    <v-icon v-else-if=\"app === 'git'\">fab fa-git</v-icon>\n    <v-icon v-else-if=\"app === 'node'\">fab fa-node-js</v-icon>\n    <v-icon v-else-if=\"app === 'joomla'\">fab fa-joomla</v-icon>\n    <v-icon v-else-if=\"app === 'drupal'\">fab fa-drupal</v-icon>\n    <v-icon v-else-if=\"app === 'magento'\">fab fa-magento</v-icon>\n    <v-icon v-else-if=\"app === 'roundcube'\">fas fa-envelope</v-icon>\n    <v-icon v-else-if=\"app === 'shiftlib'\">fas fa-user-edit</v-icon>\n    <v-icon v-else>fas fa-sitemap</v-icon>\n</template>\n\n<script>\nexport default {\n  props: {\n    app: null,\n    to: null,\n  },\n  methods: {\n    openLink() {\n      if (this.to) {\n        window.open(this.to);\n      }\n    },\n  }\n};\n</script>","import { render } from \"./SiteIcon.vue?vue&type=template&id=7f1f5cd8\"\nimport script from \"./SiteIcon.vue?vue&type=script&lang=js\"\nexport * from \"./SiteIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-layout row>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-alert v-if=\"error\" type=\"error\" :text=\"error\"></v-alert>\n\n        <Loading :value=\"loading\" />\n\n        <v-card flat :loading=\"fetching\">\n          <v-card flat>\n            <v-card-text>\n              <v-select v-model=\"server\" :items=\"server_opts\" label=\"Server\" hide-details clearable></v-select>\n            </v-card-text>\n          </v-card>\n\n          <v-data-table :headers=\"headers\" :items=\"filtered\" :items-per-page=\"100\" hover @click:row=\"function (event, data) { $router.push('/sites/' + data.item.id + '/summary') }\" fixed-header style=\"height: calc(100vh - 200px); overflow: auto;\">\n            <template v-slot:item.domain=\"{ item }\">\n              <v-list-item :title=\"item.domain\" class=\"px-0\">\n                <template v-slot:subtitle>\n                  <span class=\"text-no-wrap\">\n                    {{ servers[item.server] }}\n                  </span>\n                </template>\n                <template v-slot:prepend v-if=\"display.smAndUp\">\n                  <SiteIcon :app=\"item.app\"></SiteIcon>\n                </template>\n              </v-list-item>\n            </template>\n            <template v-slot:item.usage=\"{ item }\">\n              <div v-if=\"item.usage > 0\">\n                {{ prettyBytes(item.usage * 1024) }}\n              </div>\n            </template>\n            <template v-slot:item.transfer=\"{ item }\">\n              <div v-if=\"item.transfer > 0\">\n                {{ prettyBytes(item.transfer * 1024) }}\n              </div>\n            </template>\n          </v-data-table>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-layout>\n</template>\n\n<script>\nimport api from \"../services/api\";\nimport util from \"../services/util\";\nimport Loading from \"../components/Loading\";\nimport SiteIcon from \"../components/SiteIcon\";\n\nexport default {\n  components: {\n    Loading,\n    SiteIcon,\n  },\n  data() {\n    return {\n      fetching: false,\n      loading: false,\n      error: \"\",\n      filtered: [],\n      items: [],\n      servers: {},\n      server: null,\n      server_opts: [],\n      searchPanel: [false],\n      search: \"\",\n      selected: [],\n\t\t\tdisplay: {},\n    };\n  },\n  computed: {\n    headers: function () {\n      var items = [{\n        title: \"Site\",\n        key: \"domain\",\n      }];\n\n      if (this.display.smAndUp) {\n        items.push({\n          title: \"IP\",\n          key: \"ip\",\n          maxWidth: 140,\n        });\n      }\n\n      if (this.display.mdAndUp) {\n        items.push({\n          title: \"MX\",\n          key: \"mx\",\n        });\n      }\n\n      if (this.display.lgAndUp) {\n        items.push({\n          title: \"Size\",\n          key: \"usage\",\n        }, {\n          title: \"Transfer\",\n          key: \"transfer\",\n        });\n      }\n\n      return items;\n    }\n  },\n  created() {;\n\t\tthis.display = this.$vuetify.display;\n\n    document.title = \"Sites\";\n    this.fetchData();\n  },\n  watch: {\n    server: function () {\n      this.filtered = [];\n\n      this.items.forEach((element) => {\n        if (!this.server || element.server == this.server) {\n          this.filtered.push(element);\n        }\n      });\n\n      if (this.server) {\n        localStorage.server = this.server;\n      } else {\n        delete localStorage.server;\n      }\n    },\n  },\n  methods: {\n    fetchData() {\n      this.error = \"\";\n      this.fetching = true;\n\n      api\n        .get(\"sites/\")\n        .then((response) => {\n          console.log(response);\n\n          if (response.data.error) {\n            this.error = response.data.error;\n            return false;\n          }\n\n          this.items = response.data.items;\n\n          response.data.items.forEach((element) => {\n            this.filtered.push(element);\n          });\n\n          api.get(\"servers/\").then((response) => {\n            response.data.items.forEach((element) => {\n              this.server_opts.push({\n                title: element.name,\n                value: element.id,\n              });\n              this.servers[element.id] = element.name\n            });\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        .finally(() => {\n          this.fetching = false;\n\n          if (localStorage.server) this.server = localStorage.server;\n        });\n    },\n    prettyBytes(value) {\n      return util.prettyBytes(value);\n    },\n  },\n};\n</script>","import { render } from \"./Sites.vue?vue&type=template&id=71bf1776\"\nimport script from \"./Sites.vue?vue&type=script&lang=js\"\nexport * from \"./Sites.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_v_dialog","modelValue","_ctx","show","_cache","$event","persistent","width","default","_withCtx","_createVNode","_component_v_alert","title","$props","message","color","prepend","_component_v_icon","icon","_","name","data","props","value","type","Boolean","String","watch","newVal","this","__exports__","render","app","key","onClick","_withModifiers","$options","openLink","_createTextVNode","to","methods","window","open","class","_component_v_layout","row","_component_v_row","_component_v_col","cols","$data","error","text","_createCommentVNode","_component_Loading","loading","_component_v_card","flat","fetching","_component_v_card_text","_component_v_select","server","items","server_opts","label","clearable","_component_v_data_table","headers","filtered","hover","event","$router","push","item","id","style","_ref","_component_v_list_item","domain","_createSlots","subtitle","_createElementVNode","_hoisted_1","_toDisplayString","servers","display","smAndUp","fn","_component_SiteIcon","undefined","_ref2","usage","_createElementBlock","_hoisted_2","prettyBytes","_ref3","transfer","_hoisted_3","components","Loading","SiteIcon","searchPanel","search","selected","computed","maxWidth","mdAndUp","lgAndUp","created","$vuetify","document","fetchData","_this","forEach","element","localStorage","_this2","api","get","then","response","console","log","catch","finally","util"],"sourceRoot":""}