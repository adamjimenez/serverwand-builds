"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[4094],{11297:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(66252);function a(t,e,n,a,l,o){var u=(0,r.up)("v-icon"),i=(0,r.up)("v-alert"),s=(0,r.up)("v-dialog");return(0,r.wg)(),(0,r.j4)(s,{modelValue:t.show,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.show=e}),persistent:"",width:"600"},{default:(0,r.w5)((function(){return[(0,r.Wm)(i,{title:n.message,color:"primary"},{prepend:(0,r.w5)((function(){return[(0,r.Wm)(u,{icon:"fas fa-magic fa-2x faa-horizontal animated"})]})),_:1},8,["title"])]})),_:1},8,["modelValue"])}var l={name:"Loading",data:function(){return{show:!1}},props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(t){this.show=t}}},o=n(83744);const u=(0,o.Z)(l,[["render",a]]);var i=u},24094:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});n(34284);var r=n(66252),a=n(3577),l={class:"text-start"},o={class:"text-start"},u=["onClick"],i={class:"text-start"},s={class:"text-start"},d={class:"text-start"};function c(t,e,n,c,f,p){var m=(0,r.up)("v-alert"),h=(0,r.up)("Loading"),g=(0,r.up)("v-checkbox"),v=(0,r.up)("v-list-item"),w=(0,r.up)("v-switch"),_=(0,r.up)("v-data-table"),k=(0,r.up)("v-card-text"),y=(0,r.up)("v-card"),W=(0,r.up)("v-btn"),V=(0,r.up)("v-card-title"),x=(0,r.up)("v-textarea"),b=(0,r.up)("v-dialog");return(0,r.wg)(),(0,r.iD)("div",null,[f.error?((0,r.wg)(),(0,r.j4)(m,{key:0,type:"error",text:f.error},null,8,["text"])):(0,r.kq)("",!0),(0,r.Wm)(h,{value:f.loading},null,8,["value"]),(0,r.Wm)(y,{loading:f.fetching},{default:(0,r.w5)((function(){return[f.items.length?((0,r.wg)(),(0,r.j4)(_,{key:0,headers:f.headers,items:f.items,class:"results"},{body:(0,r.w5)((function(t){return[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.items,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",l,[(0,r.Wm)(v,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(g,{modelValue:t.selected,"onUpdate:modelValue":function(e){return t.selected=e}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)]),(0,r._)("td",o,[(0,r.Wm)(w,{modelValue:t.online,"onUpdate:modelValue":function(e){return t.online=e},label:"Online",onChange:function(e){return p.toggle(t)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]),(0,r._)("td",{class:"text-start",onClick:function(e){return p.view(t)}},(0,a.zw)(t.pid),9,u),(0,r._)("td",i,(0,a.zw)(t.name),1),(0,r._)("td",s,(0,a.zw)(t.status),1),(0,r._)("td",d,(0,a.zw)(t.port),1)])})),128))])]})),_:1},8,["headers","items"])):((0,r.wg)(),(0,r.j4)(k,{key:1},{default:(0,r.w5)((function(){return[(0,r.Uk)(" No apps ")]})),_:1}))]})),_:1},8,["loading"]),(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[(0,r._)("div",null,[(0,r.Wm)(V,{"primary-title":""},{default:(0,r.w5)((function(){return[(0,r.Wm)(W,{onClick:e[0]||(e[0]=function(t){return p.deleteApps()}),disabled:!f.selected},{default:(0,r.w5)((function(){return[(0,r.Uk)(" Delete ")]})),_:1},8,["disabled"])]})),_:1})])]})),_:1}),(0,r.Wm)(b,{app:"",modelValue:f.dialog,"onUpdate:modelValue":e[1]||(e[1]=function(t){return f.dialog=t})},{default:(0,r.w5)((function(){return[(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(V,null,{default:(0,r.w5)((function(){return[(0,r.Uk)(" Output Log: ")]})),_:1}),(0,r.Wm)(k,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{readonly:"",value:f.output_log,"auto-grow":""},null,8,["value"])]})),_:1})]})),_:1}),(0,r.Wm)(y,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(V,null,{default:(0,r.w5)((function(){return[(0,r.Uk)(" Error Log: ")]})),_:1}),(0,r.Wm)(k,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{readonly:"",value:f.error_log,"auto-grow":""},null,8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}n(60228),n(47522),n(70560);var f=n(1006),p=n(11297),m={components:{Loading:p.Z},data:function(){return{error:"",items:[],data:{},loading:!1,fetching:!1,dialog:!1,serverId:0,selected:!1,headers:[{title:"",key:""},{title:"",key:""},{title:"PID",key:"id"},{title:"Name",key:"name"},{title:"Status",key:"status"},{title:"Ports",key:"port"}],error_log:"",output_log:""}},watch:{items:{handler:function(t){for(var e=0;e<t.length;e++)if(t[e].selected)return void(this.selected=!0);this.selected=!1},deep:!0}},created:function(){this.serverId=this.$route.params.id,this.fetchData()},methods:{fetchData:function(){var t=this;this.error="",this.fetching=!0,f.Z.get("servers/"+this.serverId+"/apps").then((function(e){if(console.log(e),e.data.error)return t.error=e.data.error,!1;t.data=e.data.item,t.items=e.data.apps,document.title="Apps | "+t.data.name})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))},toggle:function(t){var e=this;this.loading=!0,this.error="";var n=t.active?"start":"stop";f.Z.post("servers/"+this.serverId+"/apps",{name:t.name,action:n}).then((function(t){console.log(t),t.data.success?e.fetchData():e.error=t.data.error})).catch((function(t){console.log(t)})).finally((function(){e.loading=!1}))},deleteApps:function(){var t=this;t.fetching=!0;var e=[];this.items.forEach((function(t){t.selected&&e.push(t)})),f.Z.post("servers/"+this.serverId+"/apps",{ids:e}).then((function(){t.fetchData()})).catch((function(t){console.log(t)})).finally((function(){t.fetching=!1}))},view:function(t){this.dialog=!0,this.output_log=t.output_log,this.error_log=t.error_log}}},h=n(83744);const g=(0,h.Z)(m,[["render",c]]);var v=g}}]);
//# sourceMappingURL=4094-legacy.56461d0f.js.map