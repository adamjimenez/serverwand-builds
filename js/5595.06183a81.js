"use strict";(self["webpackChunkServerWand"]=self["webpackChunkServerWand"]||[]).push([[5595],{48236:function(e,a,l){l.d(a,{Z:function(){return m}});var d=l(66252),u=l(3577);const t=(0,d._)("i",{class:"fas fa-magic fa-2x faa-horizontal animated"},null,-1),r={style:{"margin-left":"10px"}};function o(e,a,l,o,s,i){const n=(0,d.up)("v-layout"),m=(0,d.up)("v-card-text"),c=(0,d.up)("v-card"),p=(0,d.up)("v-container"),v=(0,d.up)("v-dialog");return(0,d.wg)(),(0,d.j4)(v,{modelValue:e.show,"onUpdate:modelValue":a[0]||(a[0]=a=>e.show=a),persistent:"",content:"","content-class":"centered-dialog"},{default:(0,d.w5)((()=>[(0,d.Wm)(p,{"fill-height":""},{default:(0,d.w5)((()=>[(0,d.Wm)(c,{color:"primary",dark:""},{default:(0,d.w5)((()=>[(0,d.Wm)(m,null,{default:(0,d.w5)((()=>[(0,d.Wm)(n,{row:""},{default:(0,d.w5)((()=>[t,(0,d._)("h2",r,(0,u.zw)(l.message),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var s={name:"Loading",data:()=>({show:!1}),props:{value:{type:Boolean,default:!1},message:{type:String,default:"Summoning..."}},watch:{value:function(e){this.show=e}}},i=l(48118);const n=(0,i.Z)(s,[["render",o]]);var m=n},15595:function(e,a,l){l.r(a),l.d(a,{default:function(){return m}});var d=l(66252),u=l(3577);function t(e,a,l,t,r,o){const s=(0,d.up)("v-alert"),i=(0,d.up)("Loading"),n=(0,d.up)("v-card-title"),m=(0,d.up)("v-text-field"),c=(0,d.up)("v-btn"),p=(0,d.up)("v-form"),v=(0,d.up)("v-card-text"),f=(0,d.up)("v-card");return(0,d.wg)(),(0,d.iD)("div",null,[e.error?((0,d.wg)(),(0,d.j4)(s,{key:0,type:"error"},{default:(0,d.w5)((()=>[(0,d.Uk)((0,u.zw)(e.error),1)])),_:1})):(0,d.kq)("",!0),(0,d.Wm)(i,{value:e.loading},null,8,["value"]),e.serverId?(0,d.kq)("",!0):((0,d.wg)(),(0,d.j4)(f,{key:1},{default:(0,d.w5)((()=>[(0,d.Wm)(n,null,{default:(0,d.w5)((()=>[(0,d.Uk)("User details")])),_:1}),(0,d.Wm)(v,null,{default:(0,d.w5)((()=>[e.loading?(0,d.kq)("",!0):((0,d.wg)(),(0,d.j4)(p,{key:0,modelValue:e.valid,"onUpdate:modelValue":a[9]||(a[9]=a=>e.valid=a),"lazy-validation":""},{default:(0,d.w5)((()=>[(0,d.Wm)(m,{modelValue:e.data.company,"onUpdate:modelValue":a[0]||(a[0]=a=>e.data.company=a),label:"Company",required:""},null,8,["modelValue"]),(0,d.Wm)(m,{modelValue:e.data.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.data.name=a),rules:e.requiredRules,label:"Name",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.surname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.data.surname=a),rules:e.requiredRules,label:"Surname",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.email,"onUpdate:modelValue":a[3]||(a[3]=a=>e.data.email=a),rules:e.emailRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.password,"onUpdate:modelValue":a[4]||(a[4]=a=>e.data.password=a),rules:e.requiredRules,label:"Password",type:"password",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.address,"onUpdate:modelValue":a[5]||(a[5]=a=>e.data.address=a),rules:e.requiredRules,label:"Address",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.city,"onUpdate:modelValue":a[6]||(a[6]=a=>e.data.city=a),rules:e.requiredRules,label:"City",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.postcode,"onUpdate:modelValue":a[7]||(a[7]=a=>e.data.postcode=a),rules:e.requiredRules,label:"Postcode",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(m,{modelValue:e.data.tel,"onUpdate:modelValue":a[8]||(a[8]=a=>e.data.tel=a),rules:e.requiredRules,label:"tel",required:""},null,8,["modelValue","rules"]),(0,d.Wm)(c,{disabled:!e.valid,loading:e.loading,color:"success",onClick:o.validate},{default:(0,d.w5)((()=>[(0,d.Uk)(" Save ")])),_:1},8,["disabled","loading","onClick"])])),_:1},8,["modelValue"]))])),_:1})])),_:1}))])}var r=l(1006),o=l(48236),s={components:{Loading:o.Z},data:()=>({loading:!1,valid:!0,data:{name:""},requiredRules:[e=>!!e||"Required"],emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],details:"",serverId:0,error:""}),created(){document.title="User details",this.id=this.$route.params.id,this.fetchData()},methods:{fetchData(){var e=this;this.error="",this.loading=!0,r.Z.get("users/"+this.id).then((a=>{console.log(a),e.id&&(e.data=a.data.item)})).catch((e=>{console.log(e)})).finally((()=>{e.loading=!1}))},validate(){var e=this;this.details="",this.loading=!0,r.Z.post("users/"+e.id,this.data).then((a=>{console.log(a),a.data.id?e.$router.push("/users/"+a.data.id+"/summary"):a.data.error&&(e.error=a.data.error)})).catch((e=>{console.log(e)})).finally((()=>{e.loading=!1}))}}},i=l(48118);const n=(0,i.Z)(s,[["render",t]]);var m=n}}]);
//# sourceMappingURL=5595.06183a81.js.map